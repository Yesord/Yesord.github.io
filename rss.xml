<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="http://example.com/rss.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2025-07-22T08:58:53.327Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ROS2 桥接 MQTT 服务器与 Web 通信</title>
    <link href="http://example.com/post/ROS2%E6%A1%A5%E6%8E%A5MQTT%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8EWeb%E9%80%9A%E4%BF%A1.html"/>
    <id>http://example.com/post/ROS2%E6%A1%A5%E6%8E%A5MQTT%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8EWeb%E9%80%9A%E4%BF%A1.html</id>
    <published>2025-07-17T08:43:02.000Z</published>
    <updated>2025-07-22T08:58:53.327Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近在前海实习的过程，初学 ROS2，项目经理给到业务要做产品的展示，需要将在综保区的ROS自动驾驶车的数据回传到网页进行显示，通过调研可以使用 MQTT 进行简单的数据回传与处理。正好公司也要新进一台服务器，本身要用来部署 DeepSeek，但可以留点空间来做 MQTT 服务器。因此开始钻研如何实现 ROS2-MQTT-WEB 的通信。顺便也记录一下一些简单的 ROS2 命令调试。</p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>代码已上传 <a href="https://github.com/Yesord/ros2-mqtt-web">GitHub</a> </p></div><h1 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h1><h2 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h2><p>简单实现的一个 DEMO，就是我 ROS2 开一个 HelloWorld 节点向外广播每 2 秒发一个 Hello，然后写一个 ROS2 与 MQTT bridge 的节点，订阅 HelloWorld 节点的 Hello string 并将 string 传给 MQTT Server 然后在网页端通过 WebSocket 将数据从 MQTT Server 上拿下来显示在网页上，因此也只是ROS2 -&gt; MQTT -&gt; WEB 的单向传输。</p><h3 id="MQTT-相关依赖"><a href="#MQTT-相关依赖" class="headerlink" title="MQTT 相关依赖"></a>MQTT 相关依赖</h3><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 安装 MQTT 服务器</span></span><span class="line"><span style="color: #FFCB6B">sudo</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">apt</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">update</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&amp;&amp;</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">sudo</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">apt</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-y</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mosquitto</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 安装 MQTT 客户端</span></span><span class="line"><span style="color: #FFCB6B">sudo</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">apt</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">update</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&amp;&amp;</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">sudo</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">apt</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-y</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mosquitto-clients</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 安装 Python MQTT 客户端库（兼容版本）</span></span><span class="line"><span style="color: #FFCB6B">pip3</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">paho-mqtt==</span><span style="color: #F78C6C">1.6</span><span style="color: #C3E88D">.1</span></span><span class="line"></span></code></pre></div><h3 id="HelloWorld节点"><a href="#HelloWorld节点" class="headerlink" title="HelloWorld节点"></a>HelloWorld节点</h3><p>本身就是一个每 2s 发送 helloworld 字符串消息的发布者节点，没什么好说的。详细实现在GitHub上（<a href="https://github.com/Yesord/ros2-mqtt-web/blob/demo/dev_ws/src/hello_world_node/hello_world_node/hello_world_publisher.py">hello_world_publisher.py</a>）上，网上也有很多相关的代码。</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 编译</span></span><span class="line"><span style="color: #82AAFF">cd</span><span style="color: #BABED8"> [dev_ws] </span><span style="color: #676E95; font-style: italic">#你的工作空间位置</span></span><span class="line"><span style="color: #FFCB6B">colcon</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">build</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">--packages-select</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">hello_world_node</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># source</span></span><span class="line"><span style="color: #82AAFF">cd</span><span style="color: #BABED8"> [dev_ws] </span><span style="color: #676E95; font-style: italic">#你的工作空间位置</span></span><span class="line"><span style="color: #82AAFF">source</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install/setup.bash</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 运行 hello_world_node 包中的 hello_world_publisher 节点</span></span><span class="line"><span style="color: #FFCB6B">ros2</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">run</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">hello_world_node</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">hello_world_publisher</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 查看 ROS2 上正在运行的所有节点</span></span><span class="line"><span style="color: #FFCB6B">ros2</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">node</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">list</span><span style="color: #BABED8"> </span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 查看 ROS2 正在运行的所有的话题</span></span><span class="line"><span style="color: #FFCB6B">ros2</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">topic</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">list</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 查看 helloworld 发布话题信息 可以看到话题发出的 ROS 信息类型与变量名称，这很重要，后面写转接需要一一对应上</span></span><span class="line"><span style="color: #FFCB6B">ros2</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">topic</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">info</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">hello_world</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 详细看 helloworld 话题发送了什么信息</span></span><span class="line"><span style="color: #FFCB6B">ros2</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">topic</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">echo</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">hello_world</span></span><span class="line"></span></code></pre></div><h3 id="简单的桥接节点"><a href="#简单的桥接节点" class="headerlink" title="简单的桥接节点"></a>简单的桥接节点</h3><p>通过 rclpy 创建将 ROS2 信息上传 MQTT 的节点，调用 MQTT 相关类实现 MQTT 协议的相关逻辑。具体实现在 GitHub上 （<a href="https://github.com/Yesord/ros2-mqtt-web/tree/demo/dev_ws/src/ros_mqtt_bridge_node/ros_mqtt_bridge_node">ros_mqtt_bridge_node</a>）。</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 编译</span></span><span class="line"><span style="color: #82AAFF">cd</span><span style="color: #BABED8"> [dev_ws] </span><span style="color: #676E95; font-style: italic">#你的工作空间位置</span></span><span class="line"><span style="color: #FFCB6B">colcon</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">build</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">--packages-select</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">ros_mqtt_bridge_node</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># source</span></span><span class="line"><span style="color: #82AAFF">cd</span><span style="color: #BABED8"> [dev_ws] </span><span style="color: #676E95; font-style: italic">#你的工作空间位置</span></span><span class="line"><span style="color: #82AAFF">source</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install/setup.bash</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 运行 ros_mqtt_bridge 节点的发布 hello_world_mqtt_bridge 话题</span></span><span class="line"><span style="color: #FFCB6B">ros2</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">run</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">ros_mqtt_bridge_node</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">hello_world_mqtt_bridge</span></span></code></pre></div><p>桥接到 MQTT 上的相关参数在 config 里的 yaml文件</p><div class="language-yaml"><button title="Copy code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># MQTT Bridge Configuration for Hello World Node</span></span><span class="line"><span style="color: #F07178">mqtt_broker_host</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">localhost</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #F07178">mqtt_broker_port</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1883</span></span><span class="line"><span style="color: #F07178">mqtt_topic_prefix</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">ros2</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #F07178">mqtt_client_id</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">hello_world_bridge</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #F07178">mqtt_username</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;&quot;</span></span><span class="line"><span style="color: #F07178">mqtt_password</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;&quot;</span></span><span class="line"></span><span class="line"></span></code></pre></div><h3 id="简单网页搭建"><a href="#简单网页搭建" class="headerlink" title="简单网页搭建"></a>简单网页搭建</h3><p>通过 WebSocket 打通 MQTT 服务器与 Web 之间的通信。因此需要配置好 MQTT的 WebSocket 相关设置。</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 创建正确格式的 Mosquitto 配置文件</span></span><span class="line"><span style="color: #FFCB6B">sudo</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">tee</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">/etc/mosquitto/conf.d/websocket.conf</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">/dev/null</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&lt;&lt;</span><span style="color: #BABED8"> &#39;</span><span style="color: #89DDFF">EOF</span><span style="color: #BABED8">&#39;</span></span><span class="line"><span style="color: #C3E88D"># WebSocket 支持配置</span></span><span class="line"><span style="color: #C3E88D">listener 1883</span></span><span class="line"><span style="color: #C3E88D">protocol mqtt</span></span><span class="line"></span><span class="line"><span style="color: #C3E88D"># WebSocket 监听器 设置为 9001 端口，注意防火墙</span></span><span class="line"><span style="color: #C3E88D">listener 9001</span></span><span class="line"><span style="color: #C3E88D">protocol websockets</span></span><span class="line"></span><span class="line"><span style="color: #C3E88D"># 允许匿名连接（用于开发测试）</span></span><span class="line"><span style="color: #C3E88D">allow_anonymous true</span></span><span class="line"></span><span class="line"><span style="color: #C3E88D"># 日志级别</span></span><span class="line"><span style="color: #C3E88D">log_type all</span></span><span class="line"><span style="color: #89DDFF">EOF</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 重启 Mosquitto 服务</span></span><span class="line"></span><span class="line"><span style="color: #FFCB6B">sudo</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">restart</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mosquitto</span></span><span class="line"><span style="color: #FFCB6B">sudo</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">status</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mosquitto</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 检查端口监听状态 验证 MQTT的 WebSocket 服务正常运行 能看到 mqtt 相关的就行</span></span><span class="line"><span style="color: #FFCB6B">netstat</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-tlnp</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">|</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">grep</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">9001</span></span><span class="line"></span></code></pre></div><p>接下来就是写相关的网页前端代码，详细代码在 GitHub上，就是简单的 <a href="https://github.com/Yesord/ros2-mqtt-web/tree/demo/dev_ws/src/web">HTML + JS + CSS</a>。</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 可以通过 start_web_panel.sh 脚本运行</span></span><span class="line"><span style="color: #82AAFF">cd</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">/web</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 存储网页代码的文件夹</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 给权限</span></span><span class="line"><span style="color: #FFCB6B">chmod</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">+x</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">./start_web_panel.sh</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 运行脚本</span></span><span class="line"><span style="color: #FFCB6B">./start_web_panel.sh</span></span></code></pre></div><h3 id="链路验证"><a href="#链路验证" class="headerlink" title="链路验证"></a>链路验证</h3><p>ROS2 内部节点 -&gt; MQTT 服务器 -&gt; Web 显示</p><h4 id="验证节点连接"><a href="#验证节点连接" class="headerlink" title="验证节点连接"></a>验证节点连接</h4><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 另起终端 通过 rqt 勘察节点之间的关系</span></span><span class="line"><span style="color: #FFCB6B">ros2</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">run</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">rqt_graph</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">rqt_graph</span></span><span class="line"></span></code></pre></div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">节点连接关系</p><p><div align=center>    <img src="https://imgbed.yesord.top/file/cover/1753167884156_微信截图_20250722150239.png"></div></p></div><p>通过这个可以看到我们成功将 helloworld 信息从发布者节点通过 hello_world 话题传给了桥接节点。</p><h4 id="验证-MQTT-服务器"><a href="#验证-MQTT-服务器" class="headerlink" title="验证 MQTT 服务器"></a>验证 MQTT 服务器</h4><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 订阅所有 ros2 相关话题，这里是用本机作为 MQTT 服务器，显示话题名和内容，提前保证 1883 端口的可用性</span></span><span class="line"><span style="color: #FFCB6B">mosquitto_sub</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-h</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">localhost</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-p</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1883</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-t</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">ros2/#</span><span style="color: #89DDFF">&quot;</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-v</span></span><span class="line"></span></code></pre></div><p>能在命令行 echo 到话题的 json格式的数据就是证明能成功上传到 MQTT 服务器</p><h4 id="验证-Web-接收"><a href="#验证-Web-接收" class="headerlink" title="验证 Web 接收"></a>验证 Web 接收</h4><p>在浏览器开启端口8080打开监控界面</p><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">https://localhost:8080/index.html</span></span></code></pre></div><div align=center>    <img src="https://imgbed.yesord.top/file/cover/1753170397525_微信截图_20250722154603.png"></div><p>结果证明可以跑通，能在 Web 上接收到消息</p><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">总体链路可以跑通</span></span></code></pre></div><h1 id="v1"><a href="#v1" class="headerlink" title="v1"></a>v1</h1><h2 id="优化思路"><a href="#优化思路" class="headerlink" title="优化思路"></a>优化思路</h2><p>将只对 helloworld 节点的硬编码桥接改成对任意 ROS2 节点可以进行编码改变的版本，通过 config 的 yaml 实现对不同节点进行配置。目前主要需要对图像传输和字符传输这两种不同形式的数据进行传输，这两种数据需要差异化编写。代码已上传GitHub <a href="https://github.com/Yesord/ros2-mqtt-web/tree/v1">v1</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;最近在前海实习的过程，初学 ROS2，项目经理给到业务要做产品的展示，需要将在综保区的ROS自动驾驶车的数据回传到网页进行显示，通过调研可以</summary>
      
    
    
    
    
    <category term="ROS" scheme="http://example.com/tags/ROS/"/>
    
  </entry>
  
  <entry>
    <title>上传 GitHub 的若干方法</title>
    <link href="http://example.com/post/%E4%B8%8A%E4%BC%A0GitHub%E7%9A%84%E8%8B%A5%E5%B9%B2%E6%96%B9%E6%B3%95.html"/>
    <id>http://example.com/post/%E4%B8%8A%E4%BC%A0GitHub%E7%9A%84%E8%8B%A5%E5%B9%B2%E6%96%B9%E6%B3%95.html</id>
    <published>2025-07-17T07:55:50.000Z</published>
    <updated>2025-07-22T08:58:30.153Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>突发奇想简单记录</p><h2 id="GitHub-Desktop-APP"><a href="#GitHub-Desktop-APP" class="headerlink" title="GitHub Desktop (APP)"></a>GitHub Desktop (APP)</h2><p><a href="https://desktop.github.com/download/">下载GitHub Desktop</a></p><div align=center>    <img src="https://imgbed.yesord.top/file/cover/1752740594717_微信截图_20250717162145.png"></div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">优点</p><p>操作简单易懂，不用敲任何一行命令就可以上传下载仓库，而且似乎自带翻墙</p></div><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">缺点</p><p><p>只有 Windows 和 Mac 端的，Linux 的官方没有，只有民间的开源项目。</p></p></div><h2 id="Git-CMD"><a href="#Git-CMD" class="headerlink" title="Git (CMD)"></a>Git (CMD)</h2><p>git 命令行上传仓库的流程</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 0. 第一次使用需要配置用户和邮箱</span></span><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">config</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">--global</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">user.email</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">user@email.com</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">config</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">--global</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">user.name</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">username</span><span style="color: #89DDFF">&quot;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 1. 进入目录并初始化</span></span><span class="line"><span style="color: #82AAFF">cd</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">/home/xx/Project/</span></span><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">init</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 2. 创建.gitignore</span></span><span class="line"><span style="color: #FFCB6B">cat</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">.gitignore</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&lt;&lt;</span><span style="color: #BABED8"> &#39;</span><span style="color: #89DDFF">EOF</span><span style="color: #BABED8">&#39;</span></span><span class="line"><span style="color: #C3E88D">build/</span></span><span class="line"><span style="color: #C3E88D">install/</span></span><span class="line"><span style="color: #C3E88D">log/</span></span><span class="line"><span style="color: #C3E88D">devel/</span></span><span class="line"><span style="color: #C3E88D">__pycache__/</span></span><span class="line"><span style="color: #C3E88D">*.pyc</span></span><span class="line"><span style="color: #C3E88D">*.pyo</span></span><span class="line"><span style="color: #C3E88D">.Python</span></span><span class="line"><span style="color: #C3E88D">.vscode/</span></span><span class="line"><span style="color: #C3E88D">.idea/</span></span><span class="line"><span style="color: #C3E88D">*.swp</span></span><span class="line"><span style="color: #C3E88D">*~</span></span><span class="line"><span style="color: #C3E88D">.DS_Store</span></span><span class="line"><span style="color: #C3E88D">*.tmp</span></span><span class="line"><span style="color: #C3E88D">*.log</span></span><span class="line"><span style="color: #C3E88D">node_modules/</span></span><span class="line"><span style="color: #C3E88D">.env</span></span><span class="line"><span style="color: #89DDFF">EOF</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 3. 创建README（使用上面的内容）</span></span><span class="line"><span style="color: #FFCB6B">nano</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">README.md</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 4. 添加文件</span></span><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">add</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">.</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 5. 提交</span></span><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">commit</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-m</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Initial commit: xxxx</span><span style="color: #89DDFF">&quot;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 6. 添加远程仓库（记得替换URL）</span></span><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">remote</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">add</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">origin</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">https://github.com/YOUR_USERNAME/REPO_NAME.git</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 7. 推送</span></span><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">branch</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-M</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">main</span></span><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">push</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-u</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">origin</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">main</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 8. 报错网络连接可以接代理</span></span><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">config</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">--global</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">http.proxy</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">127.0</span><span style="color: #C3E88D">.0.1:</span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">vpn代理端口号）</span></span><span class="line"></span></code></pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;突发奇想简单记录&lt;/p&gt;
&lt;h2 id=&quot;GitHub-Desktop-APP&quot;&gt;&lt;a href=&quot;#GitHub-Desktop-APP&quot;</summary>
      
    
    
    
    <category term="Skill" scheme="http://example.com/categories/Skill/"/>
    
    
    <category term="GitHub" scheme="http://example.com/tags/GitHub/"/>
    
  </entry>
  
  <entry>
    <title>LabView 双通道电压采样系统设计</title>
    <link href="http://example.com/post/LabView-%E5%8F%8C%E9%80%9A%E9%81%93%E7%94%B5%E5%8E%8B%E9%87%87%E6%A0%B7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1.html"/>
    <id>http://example.com/post/LabView-%E5%8F%8C%E9%80%9A%E9%81%93%E7%94%B5%E5%8E%8B%E9%87%87%E6%A0%B7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1.html</id>
    <published>2025-06-19T02:43:52.000Z</published>
    <updated>2025-06-19T05:37:10.531Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>邻近期末，选修的 LabView 的课程也要开始做期末课设，在此记录本次 LabView 课设的设计思路与具体实现。</p><h1 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h1><p>设计一个智能双通道电压监测系统，要求实现电压自动采集、显示、存储功能。<br>同时，用户可以设置电压值上限，当电压超限时，计数器能够显示超限的个数，并具有报警功能（LED闪烁+蜂鸣提示）。</p><h1 id="设计思路"><a href="#设计思路" class="headerlink" title="设计思路"></a>设计思路</h1><p>本设计以LabVIEW模块化架构为核心，构建从用户登录到数据闭环存储的全流程智能监测系统。系统初始化阶段通过用户身份双因子验证确保操作权限，登录后采用VI引用动态加载技术无缝切换至电压监测界面；硬件层通过DAQmx多通道采样链实现双路电压同步采集，软件层结合实时极值计算与动态阈值比对，触发四路独立计数器（CH1&#x2F;CH2超上&#x2F;下限）精确统计超限采样数，并联动多模态报警（LED闪烁+蜂鸣脉冲）；数据存储端利用时间戳唯一性编码生成带通道标识的文件名，通过异步写入机制将电压值保存为标准化.xlsx格式，形成”采集→判断→报警→存储” 的闭环数据流，在确保工业级实时性的同时满足数据可追溯性需求。</p><h1 id="功能拆解"><a href="#功能拆解" class="headerlink" title="功能拆解"></a>功能拆解</h1><p>拆解出的功能主要如下</p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">登录界面</p><ol><li>用户输入账户密码判断</li><li>界面切换</li></ol></div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">监测界面</p><p><ol><li>DAQ采样</li><li>超限判断</li><li>LED和蜂鸣器报警</li><li>超限采样计数器</li><li>保存文件</li></ol></p></div><h1 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h1><h2 id="用户输入判断模块设计"><a href="#用户输入判断模块设计" class="headerlink" title="用户输入判断模块设计"></a>用户输入判断模块设计</h2><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305401053_登录界面用户输入判断.jpg"></div><p>通过双路字符串比对实现用户登录验证：程序将用户输入的用户名和密码分别与数据库中的用户密码数据进行独立匹配，系统根据输入的用户名检索出对应的密码，再通过相等运算和用户输入的密码进行比对得出最终认证结果——仅当条件满足（即用户名和密码一一对应数据库）时输出”1”（认证通过），否则输出”0”（认证失败），其核心逻辑构成身份鉴权的双重校验机制。</p><h2 id="切换页面模块设计"><a href="#切换页面模块设计" class="headerlink" title="切换页面模块设计"></a>切换页面模块设计</h2><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305400688_登录页面切换页面模块设计.PNG"></div><p>通过FP.Open打开目标VI引用，由Run VI节点运行该VI并激活Activate模式；Wait Until Done确保目标VI完成初始化后，依次设置其前面板属性——包括隐藏状态（FP.State:3→Hidden）、自定义标题（FP.CustomTitle）和最小化尺寸（FP.Minimum Size），最终通过Auto Dispose Ref自动释放VI引用，完成整个页面切换流程。</p><h2 id="DAQ采样模块设计"><a href="#DAQ采样模块设计" class="headerlink" title="DAQ采样模块设计"></a>DAQ采样模块设计</h2><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305399975_电压监测页面DAQ采样模块设计.PNG"></div><p>首先通过CH1&#x2F;CH2通道选择模块定义采集源（如”Dev1&#x2F;scopeCH0”），其次配置输入终端参数（含±10V量程保护），再设置采样模式与速率（10-1000Hz可调，采样点数10-5000），最终由硬件上的DA模块按既定参数启动同步采集，完成数据从硬件到软件的标准传输链路。</p><h2 id="超限判断模块设计"><a href="#超限判断模块设计" class="headerlink" title="超限判断模块设计"></a>超限判断模块设计</h2><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305404832_电压监测页面超限判断模块设计.PNG"></div><p>通过并行双通道实时判断电压状态：独立计算CH1&#x2F;CH2的最大值与最小值，并动态比对预设上下限阈值（用户可设）；当任一通道电压超越阈值时，触发”超限判断与闪烁检测”模块，联动LED闪烁报警，同时更新超限计数，实现双通道电压状态的同步监测与实时响应。</p><h2 id="超限采样计数模块设计"><a href="#超限采样计数模块设计" class="headerlink" title="超限采样计数模块设计"></a>超限采样计数模块设计</h2><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305459232_电压监测页面超限采样计数模块设计.PNG"></div><p>通过双通道独立阈值判断实现电压超限统计：CH1和CH2通道分别实时与用户设定的最大值（上限）、最小值（下限）比对，当CH1或CH2电压超出阈值时，对应通道的超上限采样数或超下限采样数计数器（共4个独立计数器）执行增量计数。系统持续监测两路信号，精确记录各通道的双向越界事件次数，为电压异常提供量化统计依据。</p><h2 id="文件处理模块设计"><a href="#文件处理模块设计" class="headerlink" title="文件处理模块设计"></a>文件处理模块设计</h2><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305408779_电压监测页面文件处理模块设计.PNG"></div><p>实现文件存储的自动化管理：用户设置保存路径后，系统通过时间格式化模块（%Y-%m-%d-%H-%M-）和（%S）生成精确到分和秒的时间戳，结合”10”等参数运算结果实现10秒计数一次的时间戳，最终调用Create File和Read&#x2F;Write模块创建文件（格式为xlsx），将时间戳与数据异步写入指定路径，完成数据持久化存储的闭环流程。</p><h1 id="功能展示"><a href="#功能展示" class="headerlink" title="功能展示"></a>功能展示</h1><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">登录界面前面板</span></span></code></pre></div><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305405350_登录页面前面板.PNG"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">监测界面前面板</span></span></code></pre></div><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305407421_电压监测页面前面板.PNG"></div>   <div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">系统功能介绍</p><p>登录区：输入正确凭证（如用户名”许若伦”，密码”123456”）后成功跳转至监测界面，错误输入时弹出警示框（”用户名或密码错误”提示）<br>核心功能区：<br>a)双通道波形显示：CH1（蓝色）与CH2（红色）电压波形实时刷新<br>b)阈值设置面板：用户可独立设置各通道上下限（如CH1上限&#x3D;5.0V）<br>c)超限计数器：四组独立数据显示框（CH1超上&#x2F;下限 + CH2超上&#x2F;下限）<br>控制区：<br>a)启动&#x2F;停止采集按钮<br>b)数据保存路径选择器<br>c)CH1&#x2F;CH2采样启停开关</p></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">测试面板设置产生正弦波</span></span></code></pre></div><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305400762_产生的正弦波.PNG"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">数字波形发生器产生三角波</span></span></code></pre></div><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305399642_产生的三角波.PNG"></div><p>正弦波信号源：NI MAX 测试面板输出 1Hz 正弦波（幅值 3V ），通过杜邦线接入采集卡 ai0 通道<br>三角波参数：频率 5Hz ，幅值 5V ，偏置 1V 的三角波信号接入采集卡 ai1 通道</p><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">电压监测界面正常运行</span></span></code></pre></div><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305405397_电压监测页面正常运行.PNG"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">电压监测界面超限运行</span></span></code></pre></div><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1750305401334_电压监测页面超限LED闪烁.PNG"></div>    ]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;邻近期末，选修的 LabView 的课程也要开始做期末课设，在此记录本次 LabView 课设的设计思路与具体实现。&lt;/p&gt;
&lt;h1 id=</summary>
      
    
    
    
    <category term="Electronic" scheme="http://example.com/categories/Electronic/"/>
    
    
    <category term="LabView" scheme="http://example.com/tags/LabView/"/>
    
  </entry>
  
  <entry>
    <title>iOS回退版本记录—iPad Mini 2</title>
    <link href="http://example.com/post/iOS%E5%9B%9E%E9%80%80%E7%89%88%E6%9C%AC%E8%AE%B0%E5%BD%95%E2%80%94iPad-Mini-2.html"/>
    <id>http://example.com/post/iOS%E5%9B%9E%E9%80%80%E7%89%88%E6%9C%AC%E8%AE%B0%E5%BD%95%E2%80%94iPad-Mini-2.html</id>
    <published>2025-03-28T10:35:27.000Z</published>
    <updated>2025-07-17T08:50:41.917Z</updated>
    
    <content type="html"><![CDATA[<p>今天兴起，用老兵 iPad Mini 2 来当电子书但是就开 iBooks 都差点被干碎，忍不了，直接开回退版本。</p><h1 id="前置工作"><a href="#前置工作" class="headerlink" title="前置工作"></a>前置工作</h1><p>通过谷歌了解到对于 2016年以前的老 Apple 来说 iOS 10.3.3 版本是最适合的，耗电量少而且不卡。我的回退目标于是就定在了 iOS 10.3.3。</p><p>查看当前版本 iOS 12.5.5 能不能直接刷到 iOS 10.3.3。</p><div align=center>    <img src="https://s2.loli.net/2025/03/28/MzGyskoqlfdT3bL.png"></div><p>emmm~~看来是不行的，现在已经是2025年了 apple 官方已经不给我这 2014 年的老兵留后路了。再通过谷歌了解到有三个工具可以用来回退版本（Only to iOS 10.3.3） Vieux、1033-OTA-Downgrader、LeetDown 。这些工具只能在 Mac 上用。这三个工具在 GitHub 上都可以找到，我最后选择的是使用 <a href="https://github.com/rA9stuff/LeetDown">LeetDown</a>。</p><h1 id="进行回退"><a href="#进行回退" class="headerlink" title="进行回退"></a>进行回退</h1><p>将 LeetDown 工具打开，并将 iPad Mini 2 连接到 Mac 上（我的 Mac 是 MacBook Pro 2020 M1 ， 网上有大佬说的 M1 Mac 不行的，但现在 LeetDown 版本更迭之后可以支持 Apple Silicon 了）</p><p>接着需要将 iPad Mini 2 开启DFU模式</p><details class="custom-details"><summary>如何开启 DFU 模式</summary><p>按住关机键2秒，然后同时按住关机键和Home键8-10秒；最后，只要按住Home键15秒。<br>看到黑屏状态后 基本就是进入了。</p><div align=center>    <img src="https://s2.loli.net/2025/03/28/3mgLspeQxuNkUnX.png"></div></details><p>成功打开 DFU 模式则 LeetDown 会显示如下的信息</p><div align=center>    <img src="https://s2.loli.net/2025/03/28/ndAemV1EKMlCWHR.png"></div><p>接着就按下 Select 10.3.3 iPSW 按钮， LeetDown 会自行下载，只需要等待它下载完就可以按下 Downgrade 进行降级操作。</p><hr><p>接下来就是漫长的等待时间。。。。</p><hr><p>降级完成之后 iPad就会正常亮出 apple 的经典标志意味着 ok 啦。</p><div align=center>    <img src="https://s2.loli.net/2025/03/28/CO34ZYUy2JiBcx9.jpg"></div><h1 id="回退完毕"><a href="#回退完毕" class="headerlink" title="回退完毕"></a>回退完毕</h1><p>这样就完成啦！总体流程还是挺顺利的。</p><div align=center>    <img src="https://s2.loli.net/2025/03/28/V83t5QITR2ygo6G.png" width="500"></div><div align=center>    <img src="https://s2.loli.net/2025/03/28/KARG8P3OzYFgj1J.png" width="500"></div><div align=center>    <img src="https://s2.loli.net/2025/03/28/fzGUTirxEOjtvkK.png" width="500"></div><div align=center>    <img src="https://s2.loli.net/2025/03/28/BH58UnilFy2dg1c.png" width="500"></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;今天兴起，用老兵 iPad Mini 2 来当电子书但是就开 iBooks 都差点被干碎，忍不了，直接开回退版本。&lt;/p&gt;
&lt;h1 id=&quot;前置工作&quot;&gt;&lt;a href=&quot;#前置工作&quot; class=&quot;headerlink&quot; title=&quot;前置工作&quot;&gt;&lt;/a&gt;前置工作&lt;/h1&gt;</summary>
      
    
    
    
    <category term="Electronic" scheme="http://example.com/categories/Electronic/"/>
    
    
    <category term="iOS" scheme="http://example.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>从零开始搭建 HTML 静态个人展示主页</title>
    <link href="http://example.com/post/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA-HTML-%E9%9D%99%E6%80%81%E4%B8%AA%E4%BA%BA%E5%B1%95%E7%A4%BA%E4%B8%BB%E9%A1%B5.html"/>
    <id>http://example.com/post/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA-HTML-%E9%9D%99%E6%80%81%E4%B8%AA%E4%BA%BA%E5%B1%95%E7%A4%BA%E4%B8%BB%E9%A1%B5.html</id>
    <published>2025-03-09T15:43:14.000Z</published>
    <updated>2025-04-15T14:50:10.484Z</updated>
    
    <content type="html"><![CDATA[<p>最近有意愿要找实习和准备后期的研究生面试，决定写一个静态网站来展示我的一些技能和履历。</p><h1 id="搭建-HTML-网页"><a href="#搭建-HTML-网页" class="headerlink" title="搭建 HTML 网页"></a>搭建 HTML 网页</h1><h2 id="最终效果展示"><a href="#最终效果展示" class="headerlink" title="最终效果展示"></a>最终效果展示</h2><div align=center>    <a href="https://academic.yesord.top">        <img src="https://s2.loli.net/2025/03/10/Z3OUdms6fayBKkx.png">    </a></div><p><a href="https://academic.yesord.top/">来看看嘛</a></p><h2 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h2><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">1. 创建[web]文件夹 （[web]为你自己命的名）</span></span><span class="line"><span style="color: #babed8">2. 创建[web]/CN/index.html</span></span></code></pre></div><details class="custom-details"><summary>将以下内容输入 index.html</summary><p><div class="language-html"><button title="Copy code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #89DDFF">&lt;!</span><span style="color: #F07178">DOCTYPE</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">html</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">html</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">lang</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">en</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">head</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">meta</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">charset</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">UTF-8</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">meta</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">name</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">viewport</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">content</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">width=device-width, initial-scale=1.0</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">title</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">Nolen的个人介绍页</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">title</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">link</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">rel</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/img/favicon.ico</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">link</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">rel</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">stylesheet</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/css/style.css</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">link</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">rel</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">stylesheet</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">link</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">rel</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">stylesheet</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/css/color-1.css</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">alternate-style</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">title</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color-1</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> &gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">link</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">rel</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">stylesheet</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/css/color-2.css</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">alternate-style</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">title</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color-2</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> &gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">link</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">rel</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">stylesheet</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/css/color-3.css</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">alternate-style</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">title</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color-3</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> &gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">link</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">rel</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">stylesheet</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/css/color-4.css</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">alternate-style</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">title</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color-4</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> &gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">link</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">rel</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">stylesheet</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/css/color-5.css</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">alternate-style</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">title</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color-5</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> &gt;</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">head</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">body</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">dark</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">main-container</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">aside</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">logo</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">a</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">https://academic.yesord.top</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">Nolen</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">a</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">nav-toggler</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">ul</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">nav</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">li</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">a</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">#home</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">active</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-home</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">首页</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">a</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">li</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">li</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">a</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">#about</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> &gt;&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-user</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">关于我</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">a</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">li</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">li</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">a</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">#services</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> &gt;&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-list</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">技能</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">a</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">li</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">li</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">a</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">#portfolio</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> &gt;&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-briefcase</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">作品集</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">a</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">li</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">li</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">a</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">#contact</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> &gt;&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-comments</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">联系我</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">a</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">li</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">ul</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">main-content</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">section</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">home section active</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">id</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">home</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">container</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">home-info padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h3</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">hello</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我的名字是 </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">name</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">许若伦</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #676E95; font-style: italic">&lt;!-- Nolen Hsu --&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h3</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">profession</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我是一名 </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">typing</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">大学生</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我是一个拥有超过10年丰富经验的学生。我的经验包括进行电子设计、网页设计等...</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">a</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/resource/resume.pdf</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">btn </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">查看我的简历</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">a</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">home-img padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/img/me.png</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">hero image</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">section</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">section</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">about section </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">id</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">about</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">container</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">section-title padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">关于我</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">about-content padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">about-text padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我是许若伦，一名</span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">大学生</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我的研究兴趣集中在光学测量领域，特别是事件相机技术的应用和发展。在这一领域，我积极参与相关的研究项目，探索事件相机在动态场景中的高精度成像技术。</span></span><span class="line"><span style="color: #BABED8">                                        在技术技能方面，我在嵌入式开发方面有扎实的经验，并且熟悉各种开发平台和编程语言，使我能够有效地进行硬件和软件的协同设计。此外，我对硬件系统设计和实现有深入的理解，能够独立完成从概念设计到原型制作的所有阶段。</span></span><span class="line"><span style="color: #BABED8">                                        我热衷于将理论知识应用于实际问题，并希望通过进一步的研究和实践，推动光学测量技术的创新和发展。同时，我渴望与同行和专家进行深入的学术交流，以拓宽我的视野并提高我的专业能力。</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">personal-info padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">生日: </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">2004年12月16日</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">年龄: </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">20</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">网站: </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">guide.yesord.top</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">邮件: </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">xuruolun666@gmail.com</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">专业: </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">光电信息科学与工程</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">电话: </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">+86 18923434625</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">城市: </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">深圳</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">状态: </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">学生</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">buttons padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">a</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">#contact</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">btn hire-me</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">data-section-index</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">1</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">联系我</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">a</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skills padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skill-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h5</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">Python</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h5</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">progress</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">progress-in</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">width: 85%;</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skill-percent</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">85%</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skill-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h5</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">HTML</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">HTml</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">h5</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">progress</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">progress-in</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">width: 76%;</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skill-percent</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">76%</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skill-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h5</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">C/C++</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h5</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">progress</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">progress-in</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">width: 70%;</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skill-percent</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">70%</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skill-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h5</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">C#</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h5</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">progress</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">progress-in</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">width: 61%;</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skill-percent</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">61%</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skill-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h5</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">MatLab</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h5</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">progress</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">progress-in</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">width: 74%;</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">skill-percent</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">74%</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">education padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h3</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">title</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">教育经历</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-box padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline shadow-dark</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-item</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">circle-dot</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h3</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-date</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-calendar</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> 2019 - 2022</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-title</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">深圳市第二高级中学取得高中文凭</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-text</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">在深圳市第二高级中学的三年里，通过严格的课程和竞赛培养了我的学术韧性，通过协作解决问题培养了批判性思维，并在学校“阳光进取，平实包容”的校训下灌输了坚持和包容的价值观。老师的指导不仅增强了我的求知欲和应对挑战的适应能力，同时在文化活动中的团队合作也加深了我的同理心和领导力。</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-item</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">circle-dot</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h3</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-date</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-calendar</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> 2022 - 今日</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-title</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">深圳大学本科学位在读</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-text</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我学习了很多的领域的知识，这些知识对于理解计算的理论和实践方面至关重要。这包括编程基础、计算机体系结构、操作系统、光学、电路基础、问题解决、协作和沟通软技能。</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #676E95; font-style: italic">&lt;!-- &lt;div class=&quot;timeline-item&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;div class=&quot;circle-dot&quot;&gt;&lt;/div&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;h3 class=&quot;timeline-date&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                        &lt;i class=&quot;fa fa-calendar&quot;&gt;&lt;/i&gt; 2007 - 2010</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;/h3&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;h4 class=&quot;timeline-title&quot;&gt;Bachelor Degree&lt;/h4&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;p class=&quot;timeline-text&quot;&gt;There I learnt foundational courses and computer sciences fundamentals. In the institution, I chose my specialization in web-development that involves front-end and back-end technologies, user interface designs and content management systems.&lt;/p&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                &lt;/div&gt; --&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">experience padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h3</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">title</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">工作经历</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-box padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline shadow-dark</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-item</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">circle-dot</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h3</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-date</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-calendar</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> 2010 - 今日</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-title</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">学生</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">timeline-text</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我现在资历尚浅，还没有在任何一家公司有过业务上的长期实习，最近有意愿开始动员了</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                                </span><span style="color: #676E95; font-style: italic">&lt;!-- &lt;div class=&quot;timeline-item&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;div class=&quot;circle-dot&quot;&gt;&lt;/div&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;h3 class=&quot;timeline-date&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                        &lt;i class=&quot;fa fa-calendar&quot;&gt;&lt;/i&gt; 2017 - 2019</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;/h3&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;h4 class=&quot;timeline-title&quot;&gt;Junior Front-end Designer&lt;/h4&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;p class=&quot;timeline-text&quot;&gt;I learnt to code in an existing codebase, dive into the project and understanding its structure. Also I worked closely with senior software engineers that guided me, answered my questions and helped me grow.&lt;/p&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                &lt;/div&gt;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">                                                &lt;div class=&quot;timeline-item&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;div class=&quot;circle-dot&quot;&gt;&lt;/div&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;h3 class=&quot;timeline-date&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                        &lt;i class=&quot;fa fa-calendar&quot;&gt;&lt;/i&gt; 2014 - 2016</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;/h3&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;h4 class=&quot;timeline-title&quot;&gt;Graphic Designer&lt;/h4&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                    &lt;p class=&quot;timeline-text&quot;&gt;I can create logos, color schemes and typography for a brand&#39;s identity. Also I develop graphics for websites, social media and digital ads with applications that enhance user experience.&lt;/p&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                                &lt;/div&gt; --&gt;</span></span><span class="line"><span style="color: #BABED8">                                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">section</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">section</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">service section </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">id</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">services</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">container</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">section-title padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">技能</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">service-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">service-item-inner</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-microchip</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">硬件设计</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我可以熟练嘉立创和AD进行原理图设计和PCB走线</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">service-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">service-item-inner</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-laptop-code</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">计算机视觉研究</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我了解 pytorch 和 Tensorflow 的深度学习框架，了解机器学习和多视图几何，可以熟练使用TensorRT进行模型部署</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">service-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">service-item-inner</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-ring</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">光学设计</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">可以熟练使用Zemax设计猫眼、望远镜等镜头</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">service-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">service-item-inner</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-code</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">嵌入式开发</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我可以熟练使用常见的微控制器，例如：STM32 及其国产替代、ESP32/ESP8266 等，也熟悉常见的嵌入式Linux开发板：Jetson nano、树莓派及其国产变体</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #676E95; font-style: italic">&lt;!-- &lt;div class=&quot;service-item padd-15&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                            &lt;div class=&quot;service-item-inner&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                &lt;div class=&quot;icon&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                    &lt;i class=&quot;fa fa-search&quot;&gt;&lt;/i&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                &lt;/div&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                &lt;h4&gt;Brand Consultancy&lt;/h4&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                &lt;p&gt;I build brands through cultural insights &amp; strategic vision. Custom crafted business solution&lt;/p&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                            &lt;/div&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                        &lt;/div&gt; --&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #676E95; font-style: italic">&lt;!-- &lt;div class=&quot;service-item padd-15&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                            &lt;div class=&quot;service-item-inner&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                &lt;div class=&quot;icon&quot;&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                    &lt;i class=&quot;fa fa-bullhorn&quot;&gt;&lt;/i&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                &lt;/div&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                &lt;h4&gt;Photography&lt;/h4&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                                &lt;p&gt;I make high-quality photos of any category at a professional level.&lt;/p&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                            &lt;/div&gt;</span></span><span class="line"><span style="color: #676E95; font-style: italic">                        &lt;/div&gt; --&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">section</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">section</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio section </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">id</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">container</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">section-title padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">作品集</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-heading padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我之前的项目: </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item-inner shadow-dark</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-img</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">https://i.postimg.cc/NGkQB1Y0/portfolio-1.jpg</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio image</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item-inner shadow-dark</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-img</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">https://i.postimg.cc/ydg49Z3w/portfolio-2.jpg</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio image</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item-inner shadow-dark</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-img</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">https://i.postimg.cc/RVPdrbDL/portfolio-3.jpg</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio image</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item-inner shadow-dark</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-img</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">https://i.postimg.cc/25dBY15N/portfolio-4.jpg</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio image</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item-inner shadow-dark</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-img</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">https://i.postimg.cc/RZBHD1ML/portfolio-5.jpg</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio image</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-item-inner shadow-dark</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio-img</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">https://i.postimg.cc/3wP7t1hK/portfolio-6.jpg</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">portfolio image</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">section</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">section</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact section</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">id</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">container</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">section-title padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">联系我</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h3</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact-title padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">有任何问题都可以来联系我</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact-subtitle padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我随时准备着</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact-info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-phone</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我的电话</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">+86 18923434625</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact-info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-map-marker-alt</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">所在城市</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">深圳</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact-info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-envelope</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我的邮箱</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">xuruolun666@gmail.com</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact-info-item padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fa fa-globe</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我的网站</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">guide.yesord.top</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">p</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h3</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact-title padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">向我发送邮件</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h3</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact-subtitle padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">我将会尽我所能尽快回复！</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">contact-form padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-item col-6 padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-group</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">input</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">type</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">text</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-control</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">placeholder</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Name</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-item col-6 padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-group</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">input</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">type</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">email</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-control</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">placeholder</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Email</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-item col-12 padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-group</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">input</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">type</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">text</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-control</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">placeholder</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Subject</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-item col-12 padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-group</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">textarea</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">name</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">message</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">id</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">message</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-control</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">placeholder</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Message</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">textarea</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">row</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-item col-12 padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">form-group</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">button</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">type</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">submit</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">btn</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">发送消息</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">button</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">section</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">style-switcher</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">style-switcher-toggler s-icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fas fa-cog fa-spin</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">day-night s-icon</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">i</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">fas </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">i</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">主题颜色</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h4</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">colors</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color-1</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">onclick</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #82AAFF">setActiveStyle</span><span style="color: #C3E88D">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">color-1</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">)</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color-2</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">onclick</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #82AAFF">setActiveStyle</span><span style="color: #C3E88D">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">color-2</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">)</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color-3</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">onclick</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #82AAFF">setActiveStyle</span><span style="color: #C3E88D">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">color-3</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">)</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color-4</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">onclick</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #82AAFF">setActiveStyle</span><span style="color: #C3E88D">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">color-4</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">)</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">span</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color-5</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">onclick</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #82AAFF">setActiveStyle</span><span style="color: #C3E88D">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">color-5</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">)</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">span</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">    &lt;</span><span style="color: #F07178">script</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.10/typed.min.js</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">script</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #89DDFF">    &lt;</span><span style="color: #F07178">script</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/js/app.js</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;&lt;/</span><span style="color: #F07178">script</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">body</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">html</span><span style="color: #89DDFF">&gt;</span></span></code></pre></div></p></details><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">3. 创建[web]/static/css/style.css</span></span></code></pre></div><details class="custom-details"><summary>将以下内容输入 style.css</summary><p><div class="language-css"><button title="Copy code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #89DDFF; font-style: italic">@import</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">url</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">https://fonts.googleapis.com/css2?family=Clicker+Script&amp;family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">@import</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">url</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&amp;display=swap</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">@import</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">url</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">https://fonts.googleapis.com/css2?family=Liu+Jian+Mao+Cao&amp;family=ZCOOL+KuaiLe&amp;display=swap</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #89DDFF">:</span><span style="color: #C792EA">root</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    --bg-black900</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">F2F2FC</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    --bg-black100</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">FDF9FF</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    --bg-black50</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">E8DFEC</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    --text-black900</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">302E4D</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    --text-black700</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">504E70</span><span style="color: #89DDFF">;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    --skin-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">EC1839</span><span style="color: #89DDFF">;</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #FFCB6B">body</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">dark</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    --bg-black900</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">151515</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    --bg-black100</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">222222</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    --bg-black50</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">393939</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    --text-black900</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">FFFFFF</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    --text-black700</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">E9E9E9</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #FFCB6B">*</span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">outline</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-decoration</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">box-sizing</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> border-box</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">::</span><span style="color: #C792EA">before</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">::</span><span style="color: #C792EA">after</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">box-sizing</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> border-box</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #FFCB6B">ul</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">list-style</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #FFCB6B">body</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1.5</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-family</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">ZCOOL KuaiLe</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> sans-serif</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">min-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100vh</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> block</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">opacity</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> fixed</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">270px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">z-index</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">overflow-x</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> hidden</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">overflow-y</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> auto</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">back-section</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">z-index</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">active</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">z-index</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">opacity</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">animation</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> slideSection </span><span style="color: #F78C6C">1s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">@keyframes</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">slideSection</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">0%</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">translateX</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">100%</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">translateX</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0%</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">hidden</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none </span><span style="color: #F78C6C">!important</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #676E95; font-style: italic">/*.main-content &#123; padding-left: 270px; &#125;*/</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">padd-15</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding-left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding-right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">container</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1100px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> auto</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">container</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">70px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section-title</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section-title</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h2</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> relative</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section-title</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h2</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">before</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;&#39;</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">background-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section-title</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h2</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">after</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;&#39;</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">background-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">margin-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">8px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">row</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> flex</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex-wrap</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> wrap</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> relative</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">btn</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">500</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">12px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">35px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> white</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> inline-block</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">white-space</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> nowrap</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">btn</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">hover</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">scale</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1.05</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">get-start-btn</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-family</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">ZCOOL KuaiLe</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> serif</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">65%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">45%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">500</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">12px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">35px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> white</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> inline-block</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">white-space</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> nowrap</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">get-start-btn</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">hover</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">scale</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1.05</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">shadow-dark</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">box-shadow</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">48</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">46</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">77</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">.15</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* ASIDE */</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">270px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black100</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> fixed</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">z-index</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border-right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black50</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> flex</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">justify-content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">align-items</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">logo</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> capitalize</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">logo</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">a</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">letter-spacing</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> relative</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">logo</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">a</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">before</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;&#39;</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">border-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">border-left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">logo</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">a</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">after</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;&#39;</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">border-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">border-right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">logo</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">a</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-family</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Clicker Script</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> cursive</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> block</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">a</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">600</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> block</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black50</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">a</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">active</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">a</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">i</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav-toggler</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">45px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">border</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black50</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">cursor</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> pointer</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> fixed</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">300px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black100</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">align-items</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">justify-content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav-toggler</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">open</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> transparent</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav-toggler</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">18px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> inline-block</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> relative</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav-toggler</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">before</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;&#39;</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">18px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-6px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav-toggler</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">open</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">before</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rotate</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">45deg</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav-toggler</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">after</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;&#39;</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">18px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">6px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav-toggler</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">open</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">after</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rotate</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">-45deg</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* HOME */</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">min-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100vh</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> flex</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home-info</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">h3</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">hello</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">28px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">h3</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">hello</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-family</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Liu Jian Mao Cao</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> cursive</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">h3</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">profession</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">typing</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home-info</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">p</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">70px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black700</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home-img</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-align</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> relative</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home-img</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">after</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;&#39;</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">80px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">80px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">border-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">border-right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-40px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home-img</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">before</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;&#39;</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">80px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">80px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">border-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">border-left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-40px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home-img</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">img</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">400px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> auto</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* ABOUT */</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-text</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-text</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h3</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">24px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-text</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h3</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-text</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">p</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black700</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-align</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> justify</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">personal-info</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">personal-info</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">info-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">personal-info</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">info-item</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">p</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">600</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black50</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">personal-info</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">info-item</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">p</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">400</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black700</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> inline-block</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">personal-info</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">buttons</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">personal-info</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">buttons</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">btn</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skills</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skills</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skill-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skills</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skill-item</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h5</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">600</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> capitalize</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skills</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skill-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skill-percent</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">400</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skills</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skill-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">progress</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black50</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">7px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> relative</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skills</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skill-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">progress</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">progress-in</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">education</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">experience</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h3</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">title</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">24px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline-box</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black100</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black50</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> relative</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> relative</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding-left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">37px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline-item</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">last-child</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline-item</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">before</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;&#39;</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">7px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circle-dot</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline-date</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">400</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">14px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">12px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black700</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline-date</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">fa</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline-title</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">18px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> capitalize</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">timeline-text</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-align</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> justify</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black700</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* SERVICE */</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">container</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">33.33%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">33.33%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item-inner</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black100</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black50</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-align</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item-inner</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">hover</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">box-shadow</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">48</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">46</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">77</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">.15</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item-inner</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">icon</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> block</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> auto </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-align</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item-inner</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">icon</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">fa</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item-inner</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">hover</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">icon</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item-inner</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">hover</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">icon</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">fa</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">FFF</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item-inner</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h4</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">18px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> capitalize</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item-inner</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">p</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black700</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* PORTFOLIO */</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">container</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio-heading</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio-heading</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h2</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">500</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">33.33%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">33.33%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio-item-inner</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">6px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black100</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">overflow</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> hidden</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">cursor</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> pointer</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio-item-inner</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio-img</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">img</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> block</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* CONTACT */</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-title</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-align</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-subtitle</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-align</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-info-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-align</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-info-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">icon</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> inline-block</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-info-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">icon</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">fa</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--skin-color</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-info-item</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h4</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">18px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> capitalize</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-info-item</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">p</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black700</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">400</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-form</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-form</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">col-6</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-form</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">col-12</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-form</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">form-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-form</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">form-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">form-control</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black100</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">border</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black50</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black700</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #B2CCD6">font-family</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Poppins</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> sans-serif</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-form</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">form-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">form-control</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">focus</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">box-shadow</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">48</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">46</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">77</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">.15</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-form</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">form-item</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">textarea</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">form-control</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">140px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-family</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Poppins</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> sans-serif</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-form</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">btn</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">cursor</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> pointer</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-family</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">ZCOOL KuaiLe</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> sans-serif</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">@media</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1199px</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-270px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">open</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav-toggler</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> flex</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">aside</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">nav-toggler</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">open</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">300px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">open</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">270px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">section</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">container</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">padding-top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">70px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home-img</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">before</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home-img</span><span style="color: #89DDFF">::</span><span style="color: #C792EA">after</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">personal-info</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">info-item</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">p</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> block</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin-left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">@media</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">991px</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home-info</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">home-img</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">skills</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">personal-info</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">experience</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">about-content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">education</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-info-item</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio-item</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">@media</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">767px</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">portfolio-item</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">service-item</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-form</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">col-6</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">@media</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">460px</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">contact-info-item</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* Style Switcher */</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> fixed</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">200px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black50</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black100</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">z-index</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">101</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">translateX</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">open</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">translateX</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">-25px</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">s-icon</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">text-align</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black100</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black900</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">border</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--bg-black50</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">margin-right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">cursor</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> pointer</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">transition</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> all </span><span style="color: #F78C6C">.3s</span><span style="color: #BABED8"> ease</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">s-icon</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">i</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher-toggler</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">day-night</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">55px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">jump</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">110px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">language</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">165px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h4</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">var</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">--text-black700</span><span style="color: #89DDFF">);</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">600</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">text-transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> capitalize</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">colors</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> flex</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">flex-wrap</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> wrap</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">justify-content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> space-between</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">colors</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> inline-block</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">color-1</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">EC1839</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">color-2</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">FA5B0F</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">color-3</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">37B182</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">color-4</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">1854B4</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">style-switcher</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">color-5</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">F021B2</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* Create more 5 css files to enable Toggle style Switcher */</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/*</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">File Name</span></span><span class="line"><span style="color: #676E95; font-style: italic">color-1.css </span></span><span class="line"><span style="color: #676E95; font-style: italic">:root &#123;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    --skin-color: #EC1839;</span></span><span class="line"><span style="color: #676E95; font-style: italic">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">File Name</span></span><span class="line"><span style="color: #676E95; font-style: italic">color-2.css</span></span><span class="line"><span style="color: #676E95; font-style: italic">:root &#123;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    --skin-color: #F45B0F;</span></span><span class="line"><span style="color: #676E95; font-style: italic">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">File Name</span></span><span class="line"><span style="color: #676E95; font-style: italic">color-3.css</span></span><span class="line"><span style="color: #676E95; font-style: italic">:root &#123;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    --skin-color: #37B182;</span></span><span class="line"><span style="color: #676E95; font-style: italic">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">File Name </span></span><span class="line"><span style="color: #676E95; font-style: italic">color-4.css</span></span><span class="line"><span style="color: #676E95; font-style: italic">:root &#123;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    --skin-color: #1854B4;</span></span><span class="line"><span style="color: #676E95; font-style: italic">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">File Name</span></span><span class="line"><span style="color: #676E95; font-style: italic">color-5.css</span></span><span class="line"><span style="color: #676E95; font-style: italic">:root &#123;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    --skin-color: #F021B2;</span></span><span class="line"><span style="color: #676E95; font-style: italic">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">*/</span></span></code></pre></div></p></details><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">4. 创建[web]/static/js/app</span></span></code></pre></div><details class="custom-details"><summary>将以下内容输入 app.js</summary><p><div class="language-js"><button title="Copy code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic">/* Toggle Style Switcher */</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">const</span><span style="color: #BABED8"> styleSwitcherToggle </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.style-switcher-toggler</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">styleSwitcherToggle</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">addEventListener</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">click</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.style-switcher</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">toggle</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">open</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">window</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">addEventListener</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">scroll</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #F07178">(</span><span style="color: #BABED8">document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.style-switcher</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">contains</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">open</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)) </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.style-switcher</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">remove</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">open</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8">)</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">const</span><span style="color: #BABED8"> alternateStyles </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelectorAll</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.alternate-style</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #C792EA">function</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">setActiveStyle</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">color</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #BABED8">alternateStyles</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">forEach</span><span style="color: #F07178">(</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">style</span><span style="color: #89DDFF">)</span><span style="color: #F07178"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #F07178">(</span><span style="color: #BABED8">color</span><span style="color: #F07178"> </span><span style="color: #89DDFF">===</span><span style="color: #F07178"> </span><span style="color: #BABED8">style</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getAttribute</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">title</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)) </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">style</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">removeAttribute</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">disabled</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #F07178"> </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">style</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">setAttribute</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">disabled</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">true</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF">&#125;</span><span style="color: #F07178">)</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* Dark/Light Mode */</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">const</span><span style="color: #BABED8"> dayNight </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.day-night</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">dayNight</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">addEventListener</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">click</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #BABED8">dayNight</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">i</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">toggle</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">fa-sun</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #BABED8">dayNight</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">i</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">toggle</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">fa-moon</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #BABED8">document</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">body</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">toggle</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">dark</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">window</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">addEventListener</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">load</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #F07178">(</span><span style="color: #BABED8">document</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">body</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">contains</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">dark</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)) </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">dayNight</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">i</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">add</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">fa-sun</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #F07178"> </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">dayNight</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">i</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">add</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">fa-moon</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* Typing Animation */</span></span><span class="line"><span style="color: #676E95; font-style: italic">// 如果需要改动Home的打字特效显示的字要在这里改</span></span><span class="line"><span style="color: #C792EA">var</span><span style="color: #BABED8"> typed </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">new</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">Typed</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.typing</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8"> </span><span style="color: #F07178">strings</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> [</span><span style="color: #89DDFF">&quot;&quot;</span><span style="color: #89DDFF">,</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">大学生</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">电子发烧友</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">网页设计师</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">计算机视觉学者</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">博主</span><span style="color: #89DDFF">&quot;</span><span style="color: #BABED8">]</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F07178">typeSpeed</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F07178">Backspeed</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F07178">loop</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #FF9CAC">true</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* Changing Aside Active Link */</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">const</span><span style="color: #BABED8"> nav </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.nav</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #C792EA">const</span><span style="color: #BABED8"> navList </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> nav</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelectorAll</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">li</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #C792EA">const</span><span style="color: #BABED8"> totalNavList </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> navList</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">length</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #C792EA">const</span><span style="color: #BABED8"> allSection </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelectorAll</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.section</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #C792EA">const</span><span style="color: #BABED8"> totalSection </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> allSection</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">length</span><span style="color: #89DDFF">;</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8">(</span><span style="color: #C792EA">let</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF">&lt;</span><span style="color: #BABED8"> totalNavList</span><span style="color: #89DDFF">;</span><span style="color: #BABED8"> i</span><span style="color: #89DDFF">++</span><span style="color: #BABED8">) </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #BABED8">a</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">navList</span><span style="color: #F07178">[</span><span style="color: #BABED8">i</span><span style="color: #F07178">]</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">a</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #BABED8">a</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">addEventListener</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">click</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #C792EA">function</span><span style="color: #89DDFF">()&#123;</span></span><span class="line"><span style="color: #F07178">            </span><span style="color: #82AAFF">removeBackSection</span><span style="color: #F07178">()</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">            </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #F07178">(</span><span style="color: #C792EA">let</span><span style="color: #F07178"> </span><span style="color: #BABED8">j</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #BABED8">j</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178"> </span><span style="color: #BABED8">totalNavList</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #BABED8">j</span><span style="color: #89DDFF">++</span><span style="color: #F07178">) </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span></span><span class="line"><span style="color: #F07178">                </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #F07178">(</span><span style="color: #BABED8">navList</span><span style="color: #F07178">[</span><span style="color: #BABED8">j</span><span style="color: #F07178">]</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">a</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">contains</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">active</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)) </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #82AAFF">addBackSection</span><span style="color: #F07178">(</span><span style="color: #BABED8">j</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #676E95; font-style: italic">/*allSection[j].classList.add(&#39;back-section&#39;);*/</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #F07178">                </span><span style="color: #BABED8">navList</span><span style="color: #F07178">[</span><span style="color: #BABED8">j</span><span style="color: #F07178">]</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">a</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">remove</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">active</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #89DDFF">this.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">add</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">active</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #82AAFF">showSection</span><span style="color: #F07178">(</span><span style="color: #89DDFF">this</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"></span><span class="line"><span style="color: #F07178">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #F07178">(</span><span style="color: #BABED8">window</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">innerWidth</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178"> </span><span style="color: #F78C6C">1200</span><span style="color: #F07178">) </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #82AAFF">asideSectionTogglerBtn</span><span style="color: #F07178">()</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF">&#125;</span><span style="color: #F07178">)</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">function</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">addBackSection</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">num</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">allSection</span><span style="color: #F07178">[</span><span style="color: #BABED8">num</span><span style="color: #F07178">]</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">add</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">back-section</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">function</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">removeBackSection</span><span style="color: #89DDFF">()&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #F07178">( </span><span style="color: #C792EA">let</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178"> </span><span style="color: #BABED8">totalSection</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #89DDFF">++</span><span style="color: #F07178">)</span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">allSection</span><span style="color: #F07178">[</span><span style="color: #BABED8">i</span><span style="color: #F07178">]</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">remove</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">back-section</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">function</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">showSection</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">element</span><span style="color: #89DDFF">)&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #F07178">( </span><span style="color: #C792EA">let</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178"> </span><span style="color: #BABED8">totalSection</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #89DDFF">++</span><span style="color: #F07178">)</span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">allSection</span><span style="color: #F07178">[</span><span style="color: #BABED8">i</span><span style="color: #F07178">]</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">remove</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">active</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #F07178">    </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #BABED8">target</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">element</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getAttribute</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">href</span><span style="color: #89DDFF">&quot;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">split</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">#</span><span style="color: #89DDFF">&quot;</span><span style="color: #F07178">)[</span><span style="color: #F78C6C">1</span><span style="color: #F07178">]</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #BABED8">document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">#</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">+</span><span style="color: #F07178"> </span><span style="color: #BABED8">target</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">add</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">active</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">function</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">updateNav</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">element</span><span style="color: #89DDFF">)&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #F07178">(</span><span style="color: #C792EA">let</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178"> </span><span style="color: #BABED8">totalNavList</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #89DDFF">++</span><span style="color: #F07178">)</span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #BABED8">navList</span><span style="color: #F07178">[</span><span style="color: #BABED8">i</span><span style="color: #F07178">]</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">a</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">remove</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">active</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #BABED8">target</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">element</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getAttribute</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">href</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">split</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">#</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)[</span><span style="color: #F78C6C">1</span><span style="color: #F07178">]</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #F07178">(</span><span style="color: #BABED8">target</span><span style="color: #F07178"> </span><span style="color: #89DDFF">===</span><span style="color: #F07178"> </span><span style="color: #BABED8">navList</span><span style="color: #F07178">[</span><span style="color: #BABED8">i</span><span style="color: #F07178">]</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">a</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getAttribute</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">href</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">split</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">#</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)[</span><span style="color: #F78C6C">1</span><span style="color: #F07178">]) </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">navList</span><span style="color: #F07178">[</span><span style="color: #BABED8">i</span><span style="color: #F07178">]</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">a</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">add</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">active</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #F07178">        </span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.hire-me</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">addEventListener</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">click</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #C792EA">function</span><span style="color: #89DDFF">()&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #BABED8">sectionIndex</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #89DDFF">this.</span><span style="color: #82AAFF">getAttribute</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">data-section-index</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #676E95; font-style: italic">/*console.log(sectionIndex);*/</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #82AAFF">showSection</span><span style="color: #F07178">(</span><span style="color: #89DDFF">this</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #82AAFF">updateNav</span><span style="color: #F07178">(</span><span style="color: #89DDFF">this</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #82AAFF">removeBackSection</span><span style="color: #F07178">()</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #82AAFF">addBackSection</span><span style="color: #F07178">(</span><span style="color: #BABED8">sectionIndex</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">/* Activating Mobile Menu */</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">const</span><span style="color: #BABED8"> navTogglerBtn </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.nav-toggler</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #C792EA">const</span><span style="color: #BABED8"> aside </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.aside</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">navTogglerBtn</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">addEventListener</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">click</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #82AAFF">asideSectionTogglerBtn</span><span style="color: #F07178">()</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8">)</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">function</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">asideSectionTogglerBtn</span><span style="color: #89DDFF">()&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #BABED8">aside</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">toggle</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">open</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #BABED8">navTogglerBtn</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">toggle</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">open</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #F07178">(</span><span style="color: #C792EA">let</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178"> </span><span style="color: #BABED8">totalSection</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #BABED8">i</span><span style="color: #89DDFF">++</span><span style="color: #F07178">) </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">allSection</span><span style="color: #F07178">[</span><span style="color: #BABED8">i</span><span style="color: #F07178">]</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">classList</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">toggle</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">open</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span></code></pre></div></p></details><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">5. 通过 VS Code 右键 index.html 可以在浏览器预览结果，确认显示结果无误后可以进入下一步骤。</span></span><span class="line"><span style="color: #babed8">6. 将[web]文件夹上传到一个新建的 Github 仓库[web-repo]</span></span></code></pre></div><div align=center>    <img src="https://s2.loli.net/2025/03/10/2U5GZyAKC3DqzXQ.png"></div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>接下来我们要通过Netlify进行网站部署</p></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">7. 登陆 Netlify 网站，进入 Dashboard，新建网站，选择 import an existing project</span></span></code></pre></div><div align=center>    <img src="https://s2.loli.net/2025/03/10/UrkqxbPFoR3QcJn.png"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">8. 选择 Github， 通过认证之后选择刚刚创建的[web-repo]仓库</span></span></code></pre></div><div align=center>    <img src="https://s2.loli.net/2025/03/10/RpDTrWgZClnBSYM.png"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">9. 填写网站名称 Site name，其他的不用管</span></span></code></pre></div><div align=center>    <img src="https://s2.loli.net/2025/03/10/eVYLqIBNgv3J94U.png"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">10. 进行网站部署，部署成功后 netlify 会给网站分配域名，后缀是.netlify.app，后期SSL证书和自定义域名需要自己在上</span></span></code></pre></div><div align=center>    <img src="https://s2.loli.net/2025/03/10/72DgQjSRVUIHvLl.png"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">11. 通过浏览器输入对应域名检查部署是否成功，之后只需要将文件上传[web-repo]仓库，网站便会从 Github 自动化部署。</span></span></code></pre></div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>至此网站搭建完毕</p></div><h1 id="新花样"><a href="#新花样" class="headerlink" title="新花样"></a>新花样</h1><h2 id="1-将你的展示图片变成卡片展示"><a href="#1-将你的展示图片变成卡片展示" class="headerlink" title="1.将你的展示图片变成卡片展示"></a>1.将你的展示图片变成卡片展示</h2><p>实现下图的样式</p><div align=center>    <img src="https://imgbed.yesord.top/file/blog/1744727470241_iShot_2025-04-15_22.30.01.png" alt="iShot_2025-04-15_22.30.01.png" width=50% /></div><h3 id="改造步骤"><a href="#改造步骤" class="headerlink" title="改造步骤"></a>改造步骤</h3><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">1. 在 css 文件夹中加入 card.css 文件</span></span></code></pre></div><details class="custom-details"><summary>将以下内容输入 card.css</summary><p><div class="language-css"><button title="Copy code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #89DDFF; font-style: italic">@import</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">url</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&amp;family=Poppins:wght@300;400;500;600;700;800&amp;display=swap</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">);</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">card-container</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">  *,</span></span><span class="line"><span style="color: #BABED8">  *</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">:before</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">  *::after &#123;</span></span><span class="line"><span style="color: #BABED8">    margin: </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">box-sizing</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> border-box</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-family</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Comfortaa</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> cursive</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #FFCB6B">section</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> relative</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> flex</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">justify-content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">align-items</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">262626</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">min-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100vh</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">overflow</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> hidden</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">content</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> flex</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">flex-direction</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> row</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">justify-content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">align-items</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">gap</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">linear-gradient</span><span style="color: #89DDFF">(</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #F78C6C">180deg</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.28</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0%</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">backdrop-filter</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">blur</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">30px</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">min</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">900px</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">box-shadow</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.5px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.23</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> inset</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.66</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> inset</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">16px</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.12</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">z-index</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">info</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> flex</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">flex-direction</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> column</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">justify-content</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">align-items</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> center</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">max-width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">450px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">35px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">text-align</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> justify</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">info</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">p</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">fff</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">500</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1rem</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">margin-bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1.5</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">movie-night</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">linear-gradient</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">225deg</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">ff3cac </span><span style="color: #F78C6C">0%</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">784ba0 </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">2b86c5 </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">btn</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> block</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #BABED8"> auto</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1.1rem</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">outline</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">text-decoration</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">784ba0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.9</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">box-shadow</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">6px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30px</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.1</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1px</span><span style="color: #BABED8"> solid </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.3</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">cursor</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> pointer</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">btn</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">hover</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> gelatine </span><span style="color: #F78C6C">0.5s</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF; font-style: italic">@keyframes</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">gelatine</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #FFCB6B">0%</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #FFCB6B">100%</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">scale</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #FFCB6B">25%</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">scale</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0.9</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1.1</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #FFCB6B">50%</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">scale</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1.1</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.9</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #FFCB6B">75%</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">scale</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0.95</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1.05</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic">/* SWIPER */</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">swiper</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">250px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">450px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">swiper-slide</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> relative</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">box-shadow</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50px</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.2</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">user-select</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">swiper-slide</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">img</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">inset</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">object-fit</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> cover</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">img-position</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">object-position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">overlay</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">inset</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">linear-gradient</span><span style="color: #89DDFF">(to</span><span style="color: #BABED8"> top</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">0f2027</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> transparent</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> transparent</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background-repeat</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> no-repeat</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> cover</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">overlay</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">span</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">right</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">fff</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">padding</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">7px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">18px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">letter-spacing</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.8rem</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-family</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> inherit</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.095</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">box-shadow</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> inset </span><span style="color: #F78C6C">2px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-2px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">214</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">214</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">214</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.2</span><span style="color: #89DDFF">),</span></span><span class="line"><span style="color: #BABED8">      inset </span><span style="color: #F78C6C">-3px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">3px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">3px</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rgba</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.4</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">backdrop-filter</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">blur</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">74px</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">overlay</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">h2</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">fff</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-weight</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">400</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">font-size</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1.1rem</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">line-height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1.4</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">margin</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic">/* ANIMATED BACKGROUND */</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">top</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">100%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">overflow</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> hidden</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">position</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> absolute</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">display</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> block</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">list-style</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> none</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background-color</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">ff3cac</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">background-image</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">linear-gradient</span><span style="color: #89DDFF">(</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #F78C6C">225deg</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">ff3cac </span><span style="color: #F78C6C">0%</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">784ba0 </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #89DDFF">#</span><span style="color: #BABED8">2b86c5 </span><span style="color: #F78C6C">100%</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> animate </span><span style="color: #F78C6C">25s</span><span style="color: #BABED8"> linear infinite</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">bottom</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-150px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">nth-child</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">80px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">80px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-delay</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">nth-child</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-delay</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-duration</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">12s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">nth-child</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">70%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-delay</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">nth-child</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">60px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-delay</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-duration</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">18s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">nth-child</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">65%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-delay</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">nth-child</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">6</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">75%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">110px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">110px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-delay</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">3s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">nth-child</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">7</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">35%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">150px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">150px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-delay</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">7s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">nth-child</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">8</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">25px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-delay</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-duration</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">45s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">nth-child</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">9</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">20%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">15px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-delay</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-duration</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">35s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">.</span><span style="color: #FFCB6B">circles</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">li</span><span style="color: #89DDFF">:</span><span style="color: #C792EA">nth-child</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">left</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">85%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">width</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">150px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">height</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">150px</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-delay</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #B2CCD6">animation-duration</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">11s</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF; font-style: italic">@keyframes</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">animate</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #FFCB6B">0%</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">translateY</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rotate</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0deg</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #B2CCD6">opacity</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #FFCB6B">100%</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #B2CCD6">transform</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">translateY</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">-1000px</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">rotate</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">720deg</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #B2CCD6">opacity</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #B2CCD6">border-radius</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50%</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic">/*</span></span><span class="line"><span style="color: #676E95; font-style: italic">  @media (max-width: 750px) &#123;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    .content &#123;</span></span><span class="line"><span style="color: #676E95; font-style: italic">       flex-direction: column-reverse;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    &#125;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    </span></span><span class="line"><span style="color: #676E95; font-style: italic">    .btn &#123;</span></span><span class="line"><span style="color: #676E95; font-style: italic">      margin: 10px auto 40px;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    &#125;</span></span><span class="line"><span style="color: #676E95; font-style: italic">  &#125;</span></span><span class="line"><span style="color: #676E95; font-style: italic">  */</span></span><span class="line"><span style="color: #BABED8">&#125;</span></span><span class="line"></span><span class="line"></span></code></pre></div></p></details><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">2. 在 js 文件夹中加入 card.js 文件</span></span></code></pre></div><details class="custom-details"><summary>将以下内容输入 card.js</summary><p><div class="language-js"><button title="Copy code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #C792EA">var</span><span style="color: #BABED8"> swiper </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">new</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">Swiper</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">.swiper</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #F07178">effect</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">cards</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #F07178">grabCursor</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #FF9CAC">true</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #F07178">initialSlide</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #F07178">speed</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">500</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #F07178">loop</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #FF9CAC">true</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #F07178">rotate</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #FF9CAC">true</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #F07178">mousewheel</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #F07178">invert</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #FF9CAC">false</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF">&#125;,</span></span><span class="line"><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">;</span></span><span class="line"></span></code></pre></div></p></details><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">3. 在 index.html 中进行更改</span></span></code></pre></div><details class="custom-details"><summary>在index.html中进行如下更改</summary><p><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">找到如下代码段</span></span></code></pre></div><div class="language-html"><button title="Copy code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">home-img padd-15</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/img/me.png</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">hero image</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"></span></code></pre></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">将其更改为如下代码段</span></span></code></pre></div><div class="language-html"><button title="Copy code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">card-container</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">swiper</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">swiper-wrapper</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">swiper-slide</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">img</span></span><span class="line"><span style="color: #89DDFF">                </span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">../static/img/doti.jpg</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #89DDFF">                </span><span style="color: #C792EA">alt</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;&quot;</span><span style="color: #89DDFF"> /&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #676E95; font-style: italic">&lt;!-- 更改为你自己的照片 --&gt;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">class</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">overlay</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #676E95; font-style: italic">&lt;!-- &lt;span&gt;8.5&lt;/span&gt; --&gt;</span></span><span class="line"><span style="color: #BABED8">                     </span><span style="color: #676E95; font-style: italic">&lt;!-- 评分 --&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8">The High Priestess</span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">h2</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #676E95; font-style: italic">&lt;!-- 介绍文字 --&gt;</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span><span class="line"><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span></code></pre></div></p></details>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近有意愿要找实习和准备后期的研究生面试，决定写一个静态网站来展示我的一些技能和履历。&lt;/p&gt;
&lt;h1 id=&quot;搭建-HTML-网页&quot;&gt;&lt;a href=&quot;#搭建-HTML-网页&quot; class=&quot;headerlink&quot; title=&quot;搭建 HTML 网页&quot;&gt;&lt;/a&gt;搭建 HT</summary>
      
    
    
    
    <category term="Web Design" scheme="http://example.com/categories/Web-Design/"/>
    
    
    <category term="HTML" scheme="http://example.com/tags/HTML/"/>
    
  </entry>
  
  <entry>
    <title>事件流数据提取直线</title>
    <link href="http://example.com/post/%E4%BA%8B%E4%BB%B6%E6%B5%81%E6%95%B0%E6%8D%AE%E6%8F%90%E5%8F%96%E7%9B%B4%E7%BA%BF.html"/>
    <id>http://example.com/post/%E4%BA%8B%E4%BB%B6%E6%B5%81%E6%95%B0%E6%8D%AE%E6%8F%90%E5%8F%96%E7%9B%B4%E7%BA%BF.html</id>
    <published>2025-02-17T11:41:20.000Z</published>
    <updated>2025-02-18T09:19:26.461Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近在跟导师做科研项目需要测量高频振动正好用到事件相机，需要提取事件流数据中的直线特征，在这里记录一下实验数据采集与处理的过程。</p><h1 id="相机配置"><a href="#相机配置" class="headerlink" title="相机配置"></a>相机配置</h1><p><strong>事件相机</strong>：我们使用的是 inivation 的 DAVIS346 ，是一款346x240 分辨率的 DAVIS 相机。<br><strong>镜头</strong>：由于事件相机的分辨率受限，尽量使用长焦镜头可以得到更多的微振动细节信息，我们使用50cm焦段的变焦镜头。</p><h1 id="系统搭建"><a href="#系统搭建" class="headerlink" title="系统搭建"></a>系统搭建</h1><p>我们使用直尺和砝码（重物）在椅子上构造了一个悬臂梁系统。使用事件相机的目的是测量尺子的振动频率与幅度，因此我们通过简单的架设相机和适当的补光，将事件相机对准悬臂梁系统。</p><h1 id="软件采集"><a href="#软件采集" class="headerlink" title="软件采集"></a>软件采集</h1><p>使用 inivation 公司提供的DV软件进行事件相机的数据采集， DV 的功能已经相对完善，但是由于一些软件 bug ，切换不同的可视化页面容易闪退，因此受不了的也可以自己DIY写脚本进行采集。采集的数据为 .aedat4 文件，这是 inivation 自己的一种文件格式（详情可以参考 <a href="https://docs.inivation.com/software/software-advanced-usage/file-formats/index.html">doc</a> ）</p><h1 id="事件数据"><a href="#事件数据" class="headerlink" title="事件数据"></a>事件数据</h1><p>由于事件相机的事件流数据的特殊之处，我们采集得到的 aedat4 文件里面存储的数据不能像常规处理 RGB 相机那样直接对图像进行处理，aedat4 里的一个事件读取出来的结果是 <strong>[x坐标，y坐标，t时间戳，p极性]</strong> ，其所代表的含义就是在 t 时间点时，事件相机的 CMOS 坐标 (x,y) 光强变化 p 是 + or -。</p><p>因此我想到了有两种方法来处理事件数据：</p><ol><li>最直接的处理就是将 t 作为第三个坐标轴，极性不参与考虑，将事件数据转变成 3D 点云数据，按照点云的处理方法来处理事件数据。</li><li>我们也可以将事件数据进行时间上的切片与积累，例如每次处理 10ms（100Hz）的数据，直接得到一个事件流的积累图像，即一个二维的图像，很多方法就可以沿用以前处理RGB图像的方法了。</li></ol><h1 id="数据预处理"><a href="#数据预处理" class="headerlink" title="数据预处理"></a>数据预处理</h1><p>我采用的是上述的方法2进行事件数据的初步预处理，可以得到类似下图的效果，红色为负极性事件，绿色为正极性事件</p><div align=center><img src="https://s2.loli.net/2025/02/18/o6ZWOJY2nAQ3qKz.png"></div><p>然后进行事件数据的降噪，排除掉周围噪点，得到下图效果。</p><div align=center><img src="https://s2.loli.net/2025/02/18/QWeSzZfPAV3qF5M.png"></div><h1 id="直线提取"><a href="#直线提取" class="headerlink" title="直线提取"></a>直线提取</h1><p>直线的提取我试过的方法共有两种，最简单直接的就是直接用 LSD 进行直线的提取，这个通过 openCV 直接调库就能简单实现，LSD 也有很多参数可以进行调整，调一调的效果也许会比较好，在下面我贴出我使用 LSD 跑出来的结果，只能说差强人意，太吃数据了，跑出来的结果与其说是提取直线，我倒是觉得像是提取边缘。我调研到的用 LSD 提线的效果比较好的场景是 2D 激光雷达，对于事件相机这种相对弥散的点数据来说 LSD 真不太行。</p><div align=center><img src="https://s2.loli.net/2025/02/18/7EuGeZoYak9QzVB.png"></div><p>第二种我采用的方案是 DBSCAN 聚类 + RANSAC 拟合直线的方法来进行直线的提取，这种方法对于我们这种希望在事件数据弥散点云中提取出直线信息的目的更为契合。DBSCAN 聚类能有效的将不同的事件分类成簇，再使用 RANSAC 能排除杂散点有效的拟合最符合的直线作为我们认定的直线特征。结果如下视频所示。</p><div align="center">  <iframe width="100%" height="100%" style="min-height: 400px;max-width: 1000px; max-height: 600px;" src="https://live.csdn.net/v/embed/464099" frameborder="0" allowfullscreen></iframe></div><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>本次实验所采用的方法还是以往的机器学习方法，在现在深度学习发展很火热的情况下，只要不是追求实时的提线，做检测而不是监测，那么深度学习的方法是可以去钻研钻研的。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;最近在跟导师做科研项目需要测量高频振动正好用到事件相机，需要提取事件流数据中的直线特征，在这里记录一下实验数据采集与处理的过程。&lt;/p&gt;
&lt;</summary>
      
    
    
    
    <category term="ComputerVision" scheme="http://example.com/categories/ComputerVision/"/>
    
    
    <category term="event-base" scheme="http://example.com/tags/event-base/"/>
    
  </entry>
  
  <entry>
    <title>安知鱼博客主题魔改记录</title>
    <link href="http://example.com/post/%E5%AE%89%E7%9F%A5%E9%B1%BC%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E9%AD%94%E6%94%B9%E8%AE%B0%E5%BD%95.html"/>
    <id>http://example.com/post/%E5%AE%89%E7%9F%A5%E9%B1%BC%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E9%AD%94%E6%94%B9%E8%AE%B0%E5%BD%95.html</id>
    <published>2025-01-29T09:38:30.000Z</published>
    <updated>2025-01-29T11:55:41.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">安知鱼</a>主题是一个基于Butterfly主题二次创作的很美观便捷的博客主题。我也搭建了一个基于安知鱼主题的<a href="https://home.yesord.top/">网站</a>，本文旨在记录本人使用安知鱼主题进行的博客魔改记录。只要我有进行魔改便会记录在这篇文章中。</p><h2 id="魔改记录"><a href="#魔改记录" class="headerlink" title="魔改记录"></a>魔改记录</h2><p>本人不是计算机专业，没有系统性学过前端，魔改代码可能比较业余，如有问题，希望各位大佬指正。</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">⚠️⚠️⚠️</p><p>魔改有风险，注意先备份！！！</p></div><h3 id="关于页面的简单卡片扩展"><a href="#关于页面的简单卡片扩展" class="headerlink" title="关于页面的简单卡片扩展"></a>关于页面的简单卡片扩展</h3><p>本身安知鱼主题的 about 卡片是不能够直接在配置文件里新加的，本人感觉展示页的内容不够多，希望再加上几张卡片。</p><div align="center">  <iframe width="100%" height="100%" style="min-height: 400px;max-width: 1000px; max-height: 600px;" src="https://live.csdn.net/v/embed/461123" frameborder="0" allowfullscreen></iframe></div><p><a href="https://home.yesord.top/about/">效果展示</a></p><h4 id="魔改过程"><a href="#魔改过程" class="headerlink" title="魔改过程"></a>魔改过程</h4><p>进入网页开发者模式（Windows 用 F12），可以很容易查到安知鱼主题的 about 卡片都是属于一个叫author-content-item 类的</p><div align=center><img src="https://s2.loli.net/2025/01/29/ZtG618JWiSc9M2L.png"></div><p>又通过查看安知鱼主题下的 about.pug 模版文件，搜索 <em>author-content-item</em> ，找到了相应的位置，大概在 <em>100</em> 多行。如下所示，对应的是关注偏好和音乐偏好的两张卡片。about.pug 模版文件在博客根目录的 <strong>&#x2F;theme&#x2F;anzhiyu&#x2F;layout&#x2F;includes&#x2F;page</strong> 里，pug 文件是指导生成最后的 HTML 文件的，我们更改它是可以最终更改最终页面的显示的。</p><details class="custom-details"><summary>关注偏好和音乐偏好卡片源码</summary><p><div class="language-pug"><button title="Copy code" class="copy"></button><span class="lang">pug</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #BABED8">      </span><span style="color: #FFCB6B">.author-content</span></span><span class="line"><span style="color: #BABED8">        - </span><span style="color: #C792EA">let</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">music_tips</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> music_title</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> music_link</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> music_bg</span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> item</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">music</span></span><span class="line"><span style="color: #BABED8">        - </span><span style="color: #C792EA">let</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">like_tips</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> like_title</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> like_bottom</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> like_bg</span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> item</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">like</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">.author-content-item.like-technology</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">background: url(</span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">like_bg</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D">) top / cover no-repeat;</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.card-content</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.author-content-item-tips</span><span style="color: #BABED8">=like_tips</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.author-content-item-title</span><span style="color: #BABED8">=like_title</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.content-bottom</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #FFCB6B">.tips</span><span style="color: #BABED8">=like_bottom</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">.author-content-item.like-music</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">background: url(</span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">music_bg</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D">) top / cover no-repeat;</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.card-content</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.author-content-item-tips</span><span style="color: #BABED8">=music_tips</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.author-content-item-title</span><span style="color: #BABED8">=music_title</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.content-bottom</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #FFCB6B">.tips</span><span style="color: #BABED8">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">跟 </span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">aboutName</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D"> 一起欣赏更多音乐</span><span style="color: #89DDFF">`</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.banner-button-group</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #F07178">a</span><span style="color: #FFCB6B">.banner-button</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">onclick</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">pjax.loadUrl(&quot;</span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">music_link</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D">&quot;)</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #F07178">i</span><span style="color: #FFCB6B">.anzhiyufont.anzhiyu-icon-arrow-circle-right</span></span><span class="line"><span style="color: #BABED8">                |  </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.banner-button-text</span><span style="color: #BABED8"> 更多推荐</span></span><span class="line"></span></code></pre></div></p></details><p>因此我们只要想办法在 pug 上改这个就可以实现加减卡片了。介于本人的技术力不够高，只能在 pug 模版文件上改改，再新写一个 js 文件辅助。</p><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">1. 更改 pug 文件，加入新增的两张卡片的代码，具体代码可以与下文比较确定在 pug 文件中的位置再添加。</span></span></code></pre></div><details class="custom-details"><summary>about.pug 部分魔改源码</summary><p><div class="language-pug"><button title="Copy code" class="copy"></button><span class="lang">pug</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #BABED8">      </span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #FFCB6B">.author-content</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">.author-content-item.maxim</span></span><span class="line"><span style="color: #BABED8">          - </span><span style="color: #C792EA">let</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">maxim_tips</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> maxim_top</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> maxim_bottom</span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> item</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">maxim</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.author-content-item-tips</span><span style="color: #BABED8">=maxim_tips</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.maxim-title</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">span</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">opacity:.6;margin-bottom:8px</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">=maxim_top</span></span><span class="line"><span style="color: #BABED8">            |  </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">span</span><span style="color: #BABED8">=maxim_bottom</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">.author-content-item.buff</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.card-content</span></span><span class="line"><span style="color: #BABED8">          - </span><span style="color: #C792EA">let</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">buff_tips</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> buff_top</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> buff_bottom</span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> item</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">buff</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.author-content-item-tips</span><span style="color: #BABED8">=buff_tips</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.buff-title</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #F07178">span</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">opacity:.6;margin-bottom:8px</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">=buff_top</span></span><span class="line"><span style="color: #BABED8">              |  </span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #F07178">span</span><span style="color: #BABED8">=buff_bottom</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.card-background-icon</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">i</span><span style="color: #FFCB6B">.anzhiyufont.anzhiyu-icon-dice-d20</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">      //- 新加的，在about页多一栏展示，但是得纯手调</span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #FFCB6B">.author-content</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">.author-content-item.like-technology</span><span style="color: #F78C6C">#rotating-content</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">background: url(/img/about_img/titanfall2.jpg) top / cover no-repeat;</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.card-content</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.author-content-item-tips</span><span style="color: #BABED8">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">第九艺术</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.author-content-item-title</span><span style="color: #BABED8">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">协议三：保护铁驭</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.content-bottom</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #FFCB6B">.tips</span><span style="color: #BABED8">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">TitanFall2</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">.author-content-item.like-music</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">background: url(&quot;/img/about_img/sea.jpg&quot;) top / cover no-repeat;</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.card-content</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.author-content-item-tips</span><span style="color: #BABED8">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">我的图片集</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.author-content-item-title</span><span style="color: #BABED8">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">见证生活</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.content-bottom</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #FFCB6B">.tips</span><span style="color: #BABED8">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">如生命般的谜团</span><span style="color: #89DDFF">`</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.banner-button-group</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #F07178">a</span><span style="color: #FFCB6B">.banner-button</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">onclick</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">pjax.loadUrl(&quot;/album&quot;)</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #F07178">i</span><span style="color: #FFCB6B">.anzhiyufont.anzhiyu-icon-arrow-circle-right</span></span><span class="line"><span style="color: #BABED8">                |  </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.banner-button-text</span><span style="color: #BABED8"> 瞅一眼</span></span><span class="line"><span style="color: #C3E88D">        //</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #FFCB6B">.author-content</span></span><span class="line"><span style="color: #BABED8">        - </span><span style="color: #C792EA">let</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">game_tips</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> game_title</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> game_uid</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> game_bg</span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> item</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">game</span></span><span class="line"><span style="color: #BABED8">      </span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">.author-content-item.game-yuanshen</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">background: url(</span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">game_bg</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D">) top / cover no-repeat;</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.card-content</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.author-content-item-tips</span><span style="color: #BABED8">=game_tips</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.author-content-item-title</span><span style="color: #BABED8">=game_title</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.content-bottom</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #FFCB6B">.icon-group</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #FFCB6B">.loading-bar</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">role</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">presentation</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">, </span><span style="color: #C792EA">aria-hidden</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">true</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF"> </span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`$&#123;</span><span style="color: #BABED8">game_title </span><span style="color: #89DDFF">!=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">原神</span><span style="color: #89DDFF">&quot;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">?</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">display: none</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;&quot;&#125;`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #FFCB6B">.tips.game-yuanshen-uid</span><span style="color: #BABED8">=game_uid</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">.author-content-item.comic-content</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.card-content</span></span><span class="line"><span style="color: #BABED8">            - </span><span style="color: #C792EA">let</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">comic_tips</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> comic_title</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> comic_list</span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> item</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">comic</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.author-content-item-tips</span><span style="color: #BABED8">=comic_tips</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.author-content-item-title</span><span style="color: #BABED8">=comic_title</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.comic-box</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #C792EA">if</span><span style="color: #BABED8"> comic_list</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #C792EA">each</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF">in</span><span style="color: #BABED8"> comic_list</span></span><span class="line"><span style="color: #BABED8">                  </span><span style="color: #F07178">a</span><span style="color: #FFCB6B">.comic-item</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">href</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">href</span><span style="color: #89DDFF">, </span><span style="color: #C792EA">target</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">_blank</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">, </span><span style="color: #C792EA">title</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">name</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #FFCB6B">.comic-item-cover</span></span><span class="line"><span style="color: #BABED8">                      </span><span style="color: #F07178">img</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">cover</span><span style="color: #89DDFF">, </span><span style="color: #C792EA">alt</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">name</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">      </span></span><span class="line"><span style="color: #BABED8">      </span><span style="color: #FFCB6B">.author-content</span></span><span class="line"><span style="color: #BABED8">        - </span><span style="color: #C792EA">let</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">music_tips</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> music_title</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> music_link</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> music_bg</span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> item</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">music</span></span><span class="line"><span style="color: #BABED8">        - </span><span style="color: #C792EA">let</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">like_tips</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> like_title</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> like_bottom</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> like_bg</span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> item</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">like</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">.author-content-item.like-technology</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">background: url(</span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">like_bg</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D">) top / cover no-repeat;</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.card-content</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.author-content-item-tips</span><span style="color: #BABED8">=like_tips</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.author-content-item-title</span><span style="color: #BABED8">=like_title</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.content-bottom</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #FFCB6B">.tips</span><span style="color: #BABED8">=like_bottom</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">.author-content-item.like-music</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">style</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">background: url(</span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">music_bg</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D">) top / cover no-repeat;</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">          </span><span style="color: #FFCB6B">.card-content</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.author-content-item-tips</span><span style="color: #BABED8">=music_tips</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.author-content-item-title</span><span style="color: #BABED8">=music_title</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.content-bottom</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #FFCB6B">.tips</span><span style="color: #BABED8">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">跟 </span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">aboutName</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D"> 一起欣赏更多音乐</span><span style="color: #89DDFF">`</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #FFCB6B">.banner-button-group</span></span><span class="line"><span style="color: #BABED8">              </span><span style="color: #F07178">a</span><span style="color: #FFCB6B">.banner-button</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">onclick</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">pjax.loadUrl(&quot;</span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">music_link</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D">&quot;)</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #F07178">i</span><span style="color: #FFCB6B">.anzhiyufont.anzhiyu-icon-arrow-circle-right</span></span><span class="line"><span style="color: #BABED8">                |  </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #F07178">span</span><span style="color: #FFCB6B">.banner-button-text</span><span style="color: #BABED8"> 更多推荐</span></span><span class="line"><span style="color: #BABED8">                </span></span></code></pre></div></p></details><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">2. 添加循环图片的 js 代码， 新建rotating-content.js 文件在 /public/js/anzhiyu 下， 添加如下内容</span></span></code></pre></div><details class="custom-details"><summary>rotating-content.js</summary><p><div class="language-js"><button title="Copy code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #BABED8">document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">addEventListener</span><span style="color: #BABED8">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">DOMContentLoaded</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #C792EA">function</span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #BABED8">content</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">document</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getElementById</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">rotating-content</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #BABED8">images</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> [ </span><span style="color: #676E95; font-style: italic">//这里的url可以填入图链也可以是相对/public的文件路径</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> url</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/img/about_img/titanfall2.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> tips</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">第九艺术</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> title</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">协议三：保护铁驭</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> bottom</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">TitanFall 2</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;,</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> url</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/img/about_img/cyberpunk2077.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> tips</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">第九艺术</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> title</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">以我残躯化烈火</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> bottom</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">CyberPunk 2077</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;,</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> url</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/img/about_img/assassins_creed.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> tips</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">第九艺术</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> title</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">万物皆虚，万事皆允</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> bottom</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Assassin</span><span style="color: #BABED8">\&#39;</span><span style="color: #C3E88D">s Creed</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;,</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> url</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/img/about_img/riden.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> tips</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">第九艺术</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> title</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">我要你知道，开膛手杰克回来了！</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> bottom</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Metal Gear Rising: Revengeance</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;,</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> url</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/img/about_img/detroit_become_human.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> tips</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">第九艺术</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> title</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">RA9</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> bottom</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Detroit: Become Human</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;,</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> url</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/img/about_img/seker0.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> tips</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">第九艺术</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> title</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">犹豫就会败北</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> bottom</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Sekiro: Shadows Die Twice</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;,</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> url</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/img/about_img/death_stranding.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> tips</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">第九艺术</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> title</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Don</span><span style="color: #BABED8">\&#39;</span><span style="color: #C3E88D">t be so serious</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> bottom</span><span style="color: #89DDFF">:</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Death Stranding</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;,</span></span><span class="line"><span style="color: #F07178">    </span></span><span class="line"><span style="color: #F07178">      </span></span><span class="line"><span style="color: #89DDFF">      </span><span style="color: #676E95; font-style: italic">// 添加更多图片和文字</span></span><span class="line"><span style="color: #F07178">    ]</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #C792EA">let</span><span style="color: #F07178"> </span><span style="color: #BABED8">currentIndex</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">  </span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #C792EA">function</span><span style="color: #F07178"> </span><span style="color: #82AAFF">updateContent</span><span style="color: #89DDFF">()</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #F07178"> </span><span style="color: #BABED8">url</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #BABED8">tips</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #BABED8">title</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #BABED8">bottom</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#125;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">images</span><span style="color: #F07178">[</span><span style="color: #BABED8">currentIndex</span><span style="color: #F07178">]</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #BABED8">nextIndex</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> (</span><span style="color: #BABED8">currentIndex</span><span style="color: #F07178"> </span><span style="color: #89DDFF">+</span><span style="color: #F07178"> </span><span style="color: #F78C6C">1</span><span style="color: #F07178">) </span><span style="color: #89DDFF">%</span><span style="color: #F07178"> </span><span style="color: #BABED8">images</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">length</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #C792EA">const</span><span style="color: #F07178"> </span><span style="color: #BABED8">nextImage</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">images</span><span style="color: #F07178">[</span><span style="color: #BABED8">nextIndex</span><span style="color: #F07178">]</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">  </span></span><span class="line"><span style="color: #89DDFF">      </span><span style="color: #676E95; font-style: italic">// 设置当前背景图层</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #BABED8">content</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">style</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">backgroundImage</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">url(</span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">url</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D">), url(</span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">nextImage</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">url</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D">)</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #BABED8">content</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">style</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">transition</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">background-image 0.5s ease-in-out</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #BABED8">content</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.author-content-item-tips</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">textContent</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">tips</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #BABED8">content</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.author-content-item-title</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">textContent</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">title</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #BABED8">content</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.content-bottom .tips</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">textContent</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">bottom</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">  </span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #82AAFF">setTimeout</span><span style="color: #F07178">(</span><span style="color: #89DDFF">()</span><span style="color: #F07178"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #BABED8">content</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">style</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">backgroundImage</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #89DDFF">`</span><span style="color: #C3E88D">url(</span><span style="color: #89DDFF">$&#123;</span><span style="color: #BABED8">nextImage</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">url</span><span style="color: #89DDFF">&#125;</span><span style="color: #C3E88D">)</span><span style="color: #89DDFF">`</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #BABED8">content</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.author-content-item-tips</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">textContent</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">nextImage</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">tips</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #BABED8">content</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.author-content-item-title</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">textContent</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">nextImage</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">title</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #BABED8">content</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">querySelector</span><span style="color: #F07178">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.content-bottom .tips</span><span style="color: #89DDFF">&#39;</span><span style="color: #F07178">)</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">textContent</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">nextImage</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">bottom</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">        </span><span style="color: #BABED8">currentIndex</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">nextIndex</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #89DDFF">&#125;,</span><span style="color: #F07178"> </span><span style="color: #F78C6C">500</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #676E95; font-style: italic">// 500ms 与 CSS 过渡时间匹配</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #F07178">  </span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #82AAFF">setInterval</span><span style="color: #F07178">(</span><span style="color: #BABED8">updateContent</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #F78C6C">5000</span><span style="color: #F07178">)</span><span style="color: #89DDFF">;</span><span style="color: #F07178"> </span><span style="color: #676E95; font-style: italic">// 每5秒轮换一次</span></span><span class="line"><span style="color: #F07178">  </span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8">)</span><span style="color: #89DDFF">;</span></span><span class="line"></span></code></pre></div></p></details><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">3. 在 about.pug 中要引用这个 js 文件，即在 pug 文件的末尾加上如下代码</span></span></code></pre></div><details class="custom-details"><summary>添加引用</summary><p><div class="language-pug"><button title="Copy code" class="copy"></button><span class="lang">pug</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #BABED8">    </span><span style="color: #F07178">script</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">src</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">url_for</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/js/anzhiyu/rotating-content.js</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">))</span></span></code></pre></div></p></details><p>魔改完成！！！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/anzhiyu-c/hexo-theme-anzhiyu&quot;&gt;安知鱼&lt;/a&gt;主题是一个</summary>
      
    
    
    
    <category term="hexo" scheme="http://example.com/categories/hexo/"/>
    
    
    <category term="blog" scheme="http://example.com/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>相机标定总结</title>
    <link href="http://example.com/post/%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A%E6%80%BB%E7%BB%93.html"/>
    <id>http://example.com/post/%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A%E6%80%BB%E7%BB%93.html</id>
    <published>2024-12-11T14:59:03.000Z</published>
    <updated>2025-03-05T13:40:51.478Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>想做相机的定位和测量，这是必不可少的一步就是相机标定。相机标定的目的是确定相机的内参和外参，以便将图像坐标转换为实际的三维坐标，亦可以将实际的三维坐标转换为图像坐标。本文就从简单的单目相机出发，主要从代码上对相机标定进行解析，相关的理论可以去参考其他博客。</p><h1 id="单目相机标定"><a href="#单目相机标定" class="headerlink" title="单目相机标定"></a>单目相机标定</h1><h2 id="实践目的"><a href="#实践目的" class="headerlink" title="实践目的"></a>实践目的</h2><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">使用张正友标定法对手机主摄相机进行标定。</span></span></code></pre></div><h2 id="实践步骤"><a href="#实践步骤" class="headerlink" title="实践步骤"></a>实践步骤</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">a. 准备工作：选择一台手机，写明手机型号。</span></span><span class="line"><span style="color: #babed8"></span></span><span class="line"><span style="color: #babed8">b. 实践准备：下载并安装OpenCV库，确保可以在编程环境中调用相关函数。</span></span><span class="line"><span style="color: #babed8"></span></span><span class="line"><span style="color: #babed8">c. 实践实施：</span></span><span class="line"><span style="color: #babed8">拍摄标定棋盘格照片：在不同的角度、距离和姿态下，使用手机主摄相机拍摄至少10张标定棋盘格照片。</span></span><span class="line"><span style="color: #babed8">图像处理：使用OpenCV库中的函数对照片进行图像处理，提取出标定棋盘格的角点坐标。</span></span><span class="line"><span style="color: #babed8">标定相机：利用提取得到的角点坐标，使用张正友标定法计算相机的内参和畸变参数。</span></span><span class="line"><span style="color: #babed8"></span></span><span class="line"><span style="color: #babed8">d. 实践结果分析：根据标定结果，分析相机的内参和畸变参数的含义和作用。</span></span></code></pre></div></p></div><h2 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h2><h3 id="手机选型"><a href="#手机选型" class="headerlink" title="手机选型"></a>手机选型</h3><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">使用Apple iPhone Xs max</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/11/rdMXVA2OU8eSEiT.jpg"></div><hr><h3 id="库环境配置"><a href="#库环境配置" class="headerlink" title="库环境配置"></a>库环境配置</h3><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">实践代码主要采用OpenCV库进行编写，需要下载OpenCV-python库，本次实践是在anaconda和vscode编辑器的环境下进行的，</span></span><span class="line"><span style="color: #babed8">下载安装OpenCV-python库可以就通过vscode的内置终端完成。只需要在终端输入如下命令：</span></span></code></pre></div><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">pip</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">opencv-python</span></span><span class="line"></span></code></pre></div><h3 id="采集标定板图像"><a href="#采集标定板图像" class="headerlink" title="采集标定板图像"></a>采集标定板图像</h3><p><a href="https://calib.io/pages/camera-calibration-pattern-generator">在线棋盘格生成</a></p><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">在本次实践中，我们使用的是棋盘格标定板</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/11/xCP8TwIRN6gOhsp.png"></div><div align=center>8*11 格宽20mm的棋盘格标定板</div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">固定好手机，手持该标定板，站在手机的视场范围内，上下左右平移和旋转移动标定板位置，进行图像采集。</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/11/Rn2VdX9UaSlPjCM.png"></div><div align=center>标定图像采集结果</div><h3 id="OpenCV图像处理"><a href="#OpenCV图像处理" class="headerlink" title="OpenCV图像处理"></a>OpenCV图像处理</h3><h4 id="角点计算"><a href="#角点计算" class="headerlink" title="角点计算"></a>角点计算</h4><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">将采集到的图像输入OpenCV脚本进行亚像素级别的角点检测提取角点位置并建立对应的三维空间坐标</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/11/mIjtuSvgeTZV6LO.png"></div><div align=center>角点位置可视化</div><div align=center><img src="https://s2.loli.net/2024/12/11/KOB4jef2WhI9ics.png"></div><div align=center>三维空间坐标系可视化</div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">将三维坐标和图像中的角点坐标带入OpenCV函数可以得到五个参数</span></span></code></pre></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #676E95; font-style: italic">求解参数</span></span><span class="line"><span style="color: #676E95; font-style: italic">输入：世界坐标系里的位置；像素坐标；图像的像素尺寸大小；</span></span><span class="line"><span style="color: #676E95; font-style: italic">输出：</span></span><span class="line"><span style="color: #676E95; font-style: italic">ret: 重投影误差；</span></span><span class="line"><span style="color: #676E95; font-style: italic">mtx：内参矩阵；</span></span><span class="line"><span style="color: #676E95; font-style: italic">dist：畸变系数；</span></span><span class="line"><span style="color: #676E95; font-style: italic">rvecs：旋转向量 （外参数）；</span></span><span class="line"><span style="color: #676E95; font-style: italic">tvecs：平移向量 （外参数）；</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #BABED8">ret</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> mtx</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> dist</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> rvecs</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> tvecs </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">calibrateCamera</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objpoints</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> imgpoints</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> gray</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[::-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None)</span></span><span class="line"></span></code></pre></div><h4 id="优化内参数和畸变系数"><a href="#优化内参数和畸变系数" class="headerlink" title="优化内参数和畸变系数"></a>优化内参数和畸变系数</h4><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">使用相机内参mtx和畸变系数dist，并使用cv2.getOptimalNewCameraMatrix()</span></span></code></pre></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 优化内参数和畸变系数</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 使用相机内参mtx和畸变系数dist，并使用cv.getOptimalNewCameraMatrix()</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 通过设定自由自由比例因子alpha。</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 当alpha设为0的时候，将会返回一个剪裁过的将去畸变后不想要的像素去掉的内参数和畸变系数；</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 当alpha设为1的时候，将会返回一系个包含额外黑色像素点的内参数和畸变数，并返回一个ROI用于将其剪裁掉。</span></span><span class="line"><span style="color: #BABED8">newcameramtx</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> roi </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getOptimalNewCameraMatrix</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">mtx</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> dist</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img_w</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> img_h</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img_w</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> img_h</span><span style="color: #89DDFF">))</span></span><span class="line"></span></code></pre></div><h4 id="矫正畸变"><a href="#矫正畸变" class="headerlink" title="矫正畸变"></a>矫正畸变</h4><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">使用cv2.undistort()函数</span></span></code></pre></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #BABED8">dst </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">undistort</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> mtx</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> dist</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None,</span><span style="color: #82AAFF"> newcameramtx</span><span style="color: #89DDFF">)</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/12/DxolTgpqKRa8B2r.png"></div><div align=center>矫正畸变之后的图像</div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">可以观察到其实畸变矫正前后的图像变化并不大，可知手机镜头的畸变并不大。</span></span></code></pre></div><h4 id="计算反投影误差与外参矩阵"><a href="#计算反投影误差与外参矩阵" class="headerlink" title="计算反投影误差与外参矩阵"></a>计算反投影误差与外参矩阵</h4><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">根据得到的相机的外参数矩阵和内参数矩阵，将三维世界坐标系映射到二维图像坐标系中，</span></span><span class="line"><span style="color: #babed8">计算三维世界坐标系和二维图像坐标系之间的 L2 范数，然后除以点的数量以得到平均误差。</span></span></code></pre></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 反投影误差total_error,越接近0，说明结果越理想。</span></span><span class="line"><span style="color: #BABED8">total_error </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objpoints</span><span style="color: #89DDFF">)):</span></span><span class="line"><span style="color: #BABED8">    imgpoints2</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _ </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">projectPoints</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objpoints</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> rvecs</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> tvecs</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> mtx</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> dist</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 计算三维点到二维图像的投影</span></span><span class="line"><span style="color: #BABED8">    error </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">norm</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">imgpoints</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> imgpoints2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">NORM_L2</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">imgpoints2</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 反投影得到的点与图像上检测到的点的误差</span></span><span class="line"><span style="color: #BABED8">    total_error </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> error</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">((</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">total error: </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> total_error </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objpoints</span><span style="color: #89DDFF">))</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 记平均</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">((</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">actual_error: </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> total_error </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> square_size </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objpoints</span><span style="color: #89DDFF">))</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 实际尺度上的误差单位（mm）</span></span></code></pre></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">通过罗德里格斯变换将旋转向量转换成旋转矩阵，将旋转矩阵和平移向量进行拼接形成外参矩阵</span></span></code></pre></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 将旋转向量转换为旋转矩阵</span></span><span class="line"><span style="color: #BABED8">R</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _ </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">Rodrigues</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">rvecs</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 构建外参矩阵</span></span><span class="line"><span style="color: #BABED8">extrinsic_matrix </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">hstack</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">R</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> tvecs</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]))</span></span></code></pre></div><h4 id="标定结果"><a href="#标定结果" class="headerlink" title="标定结果"></a>标定结果</h4><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #FFCB6B">ret（重投影误差）:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.1413772517683631</span></span><span class="line"><span style="color: #FFCB6B">mtx（内参矩阵）:</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">1.31882019</span><span style="color: #BABED8">e+03 </span><span style="color: #F78C6C">0.00000000</span><span style="color: #BABED8">e+00 </span><span style="color: #F78C6C">8.57509174</span><span style="color: #BABED8">e+02</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0.00000000</span><span style="color: #BABED8">e+00 </span><span style="color: #F78C6C">1.31860717</span><span style="color: #BABED8">e+03 </span><span style="color: #F78C6C">6.33641314</span><span style="color: #BABED8">e+02</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0.00000000</span><span style="color: #BABED8">e+00 </span><span style="color: #F78C6C">0.00000000</span><span style="color: #BABED8">e+00 </span><span style="color: #F78C6C">1.00000000</span><span style="color: #BABED8">e+00</span><span style="color: #89DDFF">]]</span></span><span class="line"><span style="color: #FFCB6B">dist（畸变参数）:</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2.20700651</span><span style="color: #BABED8">e-01 </span><span style="color: #F78C6C">-9.82057636</span><span style="color: #BABED8">e-01  </span><span style="color: #F78C6C">1.24391971</span><span style="color: #BABED8">e-03  </span><span style="color: #F78C6C">5.90204064</span><span style="color: #BABED8">e-04</span></span><span class="line"><span style="color: #BABED8">   </span><span style="color: #F78C6C">1.05299236</span><span style="color: #BABED8">e+00</span><span style="color: #89DDFF">]]</span></span><span class="line"><span style="color: #FFCB6B">rvecs（旋转向量）:</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">array([[-0.07040504],</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.02458443</span><span style="color: #89DDFF">]</span><span style="color: #FFCB6B">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.23714922</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">]</span><span style="color: #89DDFF">)</span><span style="color: #FFCB6B">,</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">array</span><span style="color: #89DDFF">([[</span><span style="color: #F78C6C">-0.07666068</span><span style="color: #BABED8">],</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.21833802</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.0387807</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">]</span><span style="color: #BABED8">]), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.22630376</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.16093939</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.04463943</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.21575282</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.169161</span><span style="color: #BABED8">  </span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.01774507</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.04331008</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.26869301</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.04642156</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.01362953</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.11523612</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.27805932</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.07350822</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.11668527</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.37951501</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.01487231</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.16699536</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.13681347</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.00788721</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.15841166</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.25513863</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.10608478</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.19683212</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.4318067</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.13768347</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.0315557</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.03572001</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.05685385</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.07553545</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.16208654</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.06280539</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.13300909</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.04773781</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.01146554</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.00381729</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.03160458</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">0.07776906</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0.18055448</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0.04001535</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.27461065</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.19452584</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.07211498</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.27116111</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.00959587</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.05686497</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.04804264</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-0.06006959</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.05891735</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">0.20324042</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0.16290313</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0.00683915</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-0.17702452</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.02876084</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.02663478</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">))</span></span><span class="line"><span style="color: #BABED8">tvecs（平移向量）:</span></span><span class="line"><span style="color: #BABED8"> (array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8">  </span><span style="color: #F78C6C">5.89107127</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-90.20451726</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">740.72705078</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">71.10716462</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-71.0584125</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">712.66197123</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-169.97106025</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-58.59923787</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">794.78611693</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">48.43607734</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-74.90782221</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">811.81301621</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">103.69168092</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-156.16442287</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">810.12092573</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8">  </span><span style="color: #F78C6C">21.16412172</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-126.01889817</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">696.46118615</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-165.6582237</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-201.04863421</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">672.13293143</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-155.67441912</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-172.14787045</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">680.15419596</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-215.57912659</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-147.6266857</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">609.9832129</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">103.63010108</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-209.23021318</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">774.8869188</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-31.98368466</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-138.22382981</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">763.95694362</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-90.84268402</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-95.07723685</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">700.66792599</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">109.57667227</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-125.08005104</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">748.29416674</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-92.05567469</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-93.55191194</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">684.95003553</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">37.54766021</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-80.46249655</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">700.43156552</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">46.82545373</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-79.72855492</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">788.33084715</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-165.36023846</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-88.2298791</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">784.91078991</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-159.86010857</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">-95.03131382</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">716.96008586</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">41.42167738</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-70.53566402</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">691.08121097</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">), array(</span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">-24.66936381</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-91.20291511</span><span style="color: #89DDFF">]</span><span style="color: #BABED8">,</span></span><span class="line"><span style="color: #BABED8">       </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">744.95852765</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8">))</span></span><span class="line"><span style="color: #BABED8">newcameramtx（优化后相机内参）:</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">[[</span><span style="color: #F78C6C">1.33806621</span><span style="color: #BABED8">e+03 </span><span style="color: #F78C6C">0.00000000</span><span style="color: #BABED8">e+00 </span><span style="color: #F78C6C">8.57359155</span><span style="color: #BABED8">e+02</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0.00000000</span><span style="color: #BABED8">e+00 </span><span style="color: #F78C6C">1.33715907</span><span style="color: #BABED8">e+03 </span><span style="color: #F78C6C">6.35504339</span><span style="color: #BABED8">e+02</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0.00000000</span><span style="color: #BABED8">e+00 </span><span style="color: #F78C6C">0.00000000</span><span style="color: #BABED8">e+00 </span><span style="color: #F78C6C">1.00000000</span><span style="color: #BABED8">e+00</span><span style="color: #89DDFF">]]</span></span><span class="line"><span style="color: #BABED8">total error:  </span><span style="color: #F78C6C">0.014879780065884956</span></span><span class="line"><span style="color: #BABED8">actual_error:  </span><span style="color: #F78C6C">0.29759560131769913</span></span><span class="line"><span style="color: #BABED8">外参矩阵：</span></span><span class="line"><span style="color: #89DDFF">[[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">9.71724002</span><span style="color: #BABED8">e-01 </span><span style="color: #F78C6C">-2.35575063</span><span style="color: #BABED8">e-01  </span><span style="color: #F78C6C">1.60266417</span><span style="color: #BABED8">e-02  </span><span style="color: #F78C6C">5.89107127</span><span style="color: #BABED8">e+00</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2.33853091</span><span style="color: #BABED8">e-01  </span><span style="color: #F78C6C">9.69558949</span><span style="color: #BABED8">e-01  </span><span style="color: #F78C6C">7.25821976</span><span style="color: #BABED8">e-02 </span><span style="color: #F78C6C">-9.02045173</span><span style="color: #BABED8">e+01</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">-3.26373296</span><span style="color: #BABED8">e-02 </span><span style="color: #F78C6C">-6.67819839</span><span style="color: #BABED8">e-02  </span><span style="color: #F78C6C">9.97233659</span><span style="color: #BABED8">e-01  </span><span style="color: #F78C6C">7.40727051</span><span style="color: #BABED8">e+02</span><span style="color: #89DDFF">]]</span></span><span class="line"></span></code></pre></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">可以看到误差很小，基本可以认为标定结果在1个毫米内是准确的。</span></span></code></pre></div><h3 id="MATLAB快速标定"><a href="#MATLAB快速标定" class="headerlink" title="MATLAB快速标定"></a>MATLAB快速标定</h3><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">使用MATLAB可以低代码的实现快速单目标定。</span></span><span class="line"><span style="color: #babed8">使用MATLAB的APP里的Camera Calibrator</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/12/HKdiXJILVp1j3Dz.png"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">向Camera Calibrator中通过FILE选项卡下的Add Images选项加入图片，</span></span><span class="line"><span style="color: #babed8">在使用CALIBRATE选项卡下的calibrate选项进行标定</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/12/nTKgi42eAwXsPjH.png"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">通过EXPORT选项卡下的Export Camera Parameters向外导出相机参数。</span></span><span class="line"><span style="color: #babed8">之后可以在MATLAB的变量空间中查看到cameraParams</span></span></code></pre></div><details class="custom-details"><summary>show cameraParams</summary><p><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">内参矩阵</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/13/a5jZNbvnhTQBtSd.png"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">外参矩阵</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/13/H5sRqf2wBmFVCkz.png"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">旋转向量</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/13/RLzTkSWyH3YFMwh.png"></div><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">平移向量</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2024/12/13/jwiLYFIB6RpQEez.png"></div></p></details><hr><h1 id="双目相机标定"><a href="#双目相机标定" class="headerlink" title="双目相机标定"></a>双目相机标定</h1><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">未完待续</span></span></code></pre></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;想做相机的定位和测量，这是必不可少的一步就是相机标定。相机标定的目的是确定相机的内参和外参，以便将图像坐标转换为实际的三维坐标，亦可以将实际</summary>
      
    
    
    
    <category term="ComputerVision" scheme="http://example.com/categories/ComputerVision/"/>
    
    
    <category term="calibration" scheme="http://example.com/tags/calibration/"/>
    
  </entry>
  
  <entry>
    <title>光学设计实操（二）—— 地面望远镜设计</title>
    <link href="http://example.com/post/%E5%85%89%E5%AD%A6%E8%AE%BE%E8%AE%A1%E5%AE%9E%E6%93%8D%EF%BC%88%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94-%E5%9C%B0%E4%B8%8A%E6%9C%9B%E8%BF%9C%E9%95%9C%E8%AE%BE%E8%AE%A1.html"/>
    <id>http://example.com/post/%E5%85%89%E5%AD%A6%E8%AE%BE%E8%AE%A1%E5%AE%9E%E6%93%8D%EF%BC%88%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94-%E5%9C%B0%E4%B8%8A%E6%9C%9B%E8%BF%9C%E9%95%9C%E8%AE%BE%E8%AE%A1.html</id>
    <published>2024-12-07T06:16:36.000Z</published>
    <updated>2024-12-07T08:58:20.414Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>三大经典光学系统设计之望远镜</p><hr><h1 id="设计要求"><a href="#设计要求" class="headerlink" title="设计要求"></a>设计要求</h1><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">REQUIREMENT</p><p>设计一个用于看演出看比赛的望远镜。其物镜孔径42mm，放大倍数为12倍，物方最大视场角为3度（全视场6度）。（如需使用薄透镜，系统最后一面应距薄透镜10mm，薄透镜焦距25mm）</p><p>硬性要求：<strong>不能使用非球面</strong>。</p><div align=center><img src="https://s2.loli.net/2024/12/07/qBV5R26zNfZ4OCv.jpg"></div></div><h1 id="设计分析"><a href="#设计分析" class="headerlink" title="设计分析"></a>设计分析</h1><p>采用伽利略式望远镜</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">截止频率</p><p><ol><li><strong>计算衍射极限分辨率</strong><div align=center><img src="https://s2.loli.net/2024/12/07/89Cdg5jEYLXIvb6.png"></div></li></ol><hr><ol start="2"><li><strong>计算截止频率</strong><div align=center><img src="https://s2.loli.net/2024/12/07/XzQbSgkeD3lVEhr.png"></div></li></ol><hr></p></div><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">目镜设计</p><p>最后的望远镜结构是根据目镜的选用而决定的。本次设计没有对目镜有所限制因此根据网上的一般设计，我们认为目镜需要至少20度的半视场所以，我们决定使用相对比较复杂的目镜设计——埃尔弗型目镜。出曈5mm，采用35mm的目镜焦距。</p></div><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">物镜设计</p><p><p>物镜的孔径已知为42mm直径，根据目镜焦距可以推算出需要35x12&#x3D;420mm的焦距。考虑需要消像差，因此我们选择使用双胶合镜头为初始结构进行优化。</p></p></div><h1 id="设计过程"><a href="#设计过程" class="headerlink" title="设计过程"></a>设计过程</h1><div class="custom-quote danger"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M19.76 5.23C15.84 5.23 12 2 12 2C12 2 8.15996 5.23 4.23996 5.23C4.23996 5.23 1.86996 16.99 12 22C22.13 16.99 19.76 5.23 19.76 5.23Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 16H12"></path></svg></span><p class="custom-quote-title">EXPERIENCE</p><p>物目镜分别设计，目镜很多现成的可以直接套，再EFLY优化焦距，物镜就用双胶合就行，用EFLY优化焦距，一定要把物镜设计的比较完美不然上目镜就是一坨，如果设计物镜的时候光路长度过大可以考虑之后加转向棱镜，光路越长转折越小像质越好</p></div><h2 id="目镜"><a href="#目镜" class="headerlink" title="目镜"></a>目镜</h2><p>采用埃尔弗型目镜</p><div align=center><img src="https://s2.loli.net/2024/12/07/NWc6tPMmpOdnHB7.png"></div><div align=center>目镜初始结构</div><hr><p>设置EFLY操作数然后设置中间的对称镜厚度进行优化</p><div align=center><img src="https://s2.loli.net/2024/12/07/yZR6HASjzJPq5eF.png"></div><hr><p>再进行反转镜头，得到的最终目镜镜头</p><div align=center><img src="https://s2.loli.net/2024/12/07/CcyW4IGrglBX28v.png"></div><hr><div align=center><img src="https://s2.loli.net/2024/12/07/eNd5tbBcFJyTKz2.png"></div><div align=center>目镜系统数据</div><hr><h2 id="物镜"><a href="#物镜" class="headerlink" title="物镜"></a>物镜</h2><p>没有选取初始结构只是简单写出了一个双胶合消色差透镜，通过直接优化得到的</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">优化过程</p><p><p>STEP1: 使用默认函数进行优化加上EFLY控制焦距，如果像质不理想可以考虑STEP2<br>STEP2: 将双胶合镜片改装成具有空气间隔的双分离镜。重新设置对双分离镜进行优化<br>STEP3: 将全部曲率和焦点设置成变量进行优化，直到现有的像差小于0.25个波长认为可以了</p></p></div><p>得到的物镜光路长度有500mm总体是偏长的，如果不加入转向系统的话对于用户来说几乎是过于笨重，使用起来极度不舒适。因此在系统中加入平板模拟棱镜，最终得到参数如下：</p><div align=center><img src="https://s2.loli.net/2024/12/07/5K8nedGYP4pLaoB.png"></div><hr><div align=center><img src="https://s2.loli.net/2024/12/07/GrcaD75FoikOLUt.png"></div><div align=center>目镜系统数据</div><hr><h2 id="镜组拼接"><a href="#镜组拼接" class="headerlink" title="镜组拼接"></a>镜组拼接</h2><p>将设计好的物镜和目镜进行拼接，调整目镜与物镜之间的距离，找到合适的位置（找共焦就行了），设置出曈距10mm处的25mm焦距薄透镜模拟人眼，设置 Marginal Ray Normal 最终可以得到效果如下</p><div align=center><img src="https://s2.loli.net/2024/12/07/euhPFQRWKUrmG7Y.png"></div><hr><div align=center><img src="https://s2.loli.net/2024/12/07/YGLwijq9heuznso.png"></div><div align=center>望远系统数据</div><hr><div align=center><img src="https://s2.loli.net/2024/12/07/pKU5ObnaEGwjigW.gif"></div><div align=center>最终设计完成</div><hr><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>有了上次设计猫眼的经历积累了使用zemax的经验，这次的优化就比较得心应手了。主要的设计参数可以通过几何光学算出个大概，只能说，<strong>要想学好光学设计，几何光学必须得滚瓜烂熟</strong></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;三大经典光学系统设计之望远镜&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;设计要求&quot;&gt;&lt;a href=&quot;#设计要求&quot; class=&quot;headerlin</summary>
      
    
    
    
    <category term="Optic Design" scheme="http://example.com/categories/Optic-Design/"/>
    
    
    <category term="Zemax" scheme="http://example.com/tags/Zemax/"/>
    
  </entry>
  
  <entry>
    <title>光学设计实操（一）——PeepHole门镜设计</title>
    <link href="http://example.com/post/%E5%85%89%E5%AD%A6%E8%AE%BE%E8%AE%A1%E5%AE%9E%E6%93%8D-1-%E2%80%94%E2%80%94PeepHole%E9%97%A8%E9%95%9C%E8%AE%BE%E8%AE%A1.html"/>
    <id>http://example.com/post/%E5%85%89%E5%AD%A6%E8%AE%BE%E8%AE%A1%E5%AE%9E%E6%93%8D-1-%E2%80%94%E2%80%94PeepHole%E9%97%A8%E9%95%9C%E8%AE%BE%E8%AE%A1.html</id>
    <published>2024-11-18T15:25:51.000Z</published>
    <updated>2025-07-18T06:31:54.538Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>两周时间从零开始蹿出来的猫眼设计</p><h1 id="设计要求"><a href="#设计要求" class="headerlink" title="设计要求"></a>设计要求</h1><p>（1）设计防盗门上的猫眼（透镜直径为1cm），给出猫眼透镜组整体结构参数，并给出门内看门外和门外看门内两种工作模式下成像效果。（2）有不法分子携带“反猫眼”，用于门外投过猫眼看清室内状况，请尝试分析该反猫眼原理，并设计之。<br>评分标准：性价比好（性能优异，价格有优势）；结构紧凑，功能齐全，符合用户需求。不能使用非球面。</p><h1 id="设计分析"><a href="#设计分析" class="headerlink" title="设计分析"></a>设计分析</h1><p><strong>基础知识</strong>：（1）明视距离（25cm），近点距离（8.3cm）；（2）人眼明视距离看物体分辨率0.1-0.5mm</p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>光路长度没有统一标准，但应该和常见防盗门匹配（厚度5cm、7cm、9cm、11cm…..）<br>视场角假设猫眼距离地面1.5米，敲门人身高1.2-1.8米，则根据敲门人距离门距离不同，视场角需求变化<br>例如：站门前30cm，则45度<br>                站门前50cm，则30度<br>                站门前60cm，则25度</p><p>假设直接肉眼看人分辨率0.5 mm不影响结果，那么猫眼呈缩小像，不同猫眼放大率不同。放大率等于像距除以物距，因此如果只是看敲门的人，站在门前0.5 m，成像在明视距离0.25 m处，放大率为0.5。但考虑猫眼除了看敲门人以外，也有其他功能，例如听到门外有声响，透过看看门外发生了什么，假设看看两三米外的情况，则物体缩小近十倍（即放大率为0.1），看小的像对弥散控制要求更高，假设现在弥散0.05mm可以识别出人。那么传递函数需要参考空间频率20以内的情况</p></div><p><strong>截止频率</strong>：1&#x2F;(0.5*放大率）。总体来说对像差要求并不高。更直观的可以看“几何像分析”直接衡量成像效果</p><p><strong>功能正确</strong><br><strong>正看</strong>：成像明视距离处，25度视场成像清晰<br><strong>反看</strong>：成像近点距离以内，且越近越好。</p><p><strong>猫眼设计评价顺序</strong></p><ol><li>优先满足功能，即功能上是猫眼（只能单向用）</li><li>其次满足尺寸，即能用，装的上</li><li>再次保证性能：正看：给定视场角成像较清晰；反看：越近越好</li></ol><p><strong>能用</strong>：（1）功能上是猫眼（单向工作）；（2）光路长度&gt;50 mm；（3）镜头参数符合标准；（4）镜头孔径1cm以内，特别是目镜；（5）视场角不能太低。<br><strong>好用</strong>：（1）考虑缩小率后确定截止频率内，像差矫正良好，传递函数曲线视场均一（或不同视场几何像清晰可见）。（2）视场应达到25度。（3）门外看门内像点越近越好，如靠近近点出现成像错误不能清晰获得像也可。</p><p>对该应用场曲畸变不是很重要，不用看<br><strong>波像差曲线</strong>：最大波像差正负5个波长偏大<br><strong>点列图</strong>：色差大，且随视场角增大RMS值快速增大<br><strong>传递函数曲线</strong>：截止频率只有8左右，离预期20很远，且随视场增大曲线快速下降，同一视场子午弧矢曲线分离严重轴上（看1.5m身高的人）成像还行，但偏离则成像很差</p><h1 id="设计流程"><a href="#设计流程" class="headerlink" title="设计流程"></a>设计流程</h1><h2 id="系统建模"><a href="#系统建模" class="headerlink" title="系统建模"></a>系统建模</h2><div align=center><img src="https://s2.loli.net/2024/11/20/2i7JsFgRcD4TlBa.png"></div><div align=center>参考专利 CN 112859302 A</div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">此结构的合理性</p><p><p>第一个镜片为弯月形的镜头，对于门内看门外可以有效得接收到大视场的光线，而对于门外看门内可以有效使光线发散，实际成像面非常靠近镜头，使门外无法看清门内<br>中间两个镜片为对称式结构，对于门内看门外可以有效消除像差<br>最后一个镜片为成像目镜，对于门内看门外使像最终成在明视距离处</p></p></div><details class="custom-details"><summary>详细操作</summary><p><div align=center><img src="https://s2.loli.net/2024/11/20/R8wb3kQrA1cWZGN.png"></div><div align=center>设定镜头初始参数</div><div align=center><img src="https://s2.loli.net/2024/11/20/C3PbOjelpWtokIJ.png"></div><div align=center>2D Lay</div><div align=center><img src="https://s2.loli.net/2024/11/20/QC6sXN7VdlvTB9E.png"></div><div align=center>光圈随光阑尺寸浮动</div><div align=center><img src="https://s2.loli.net/2024/11/20/TxyIv3c1btuzf5g.png"></div><div align=center>开启光线追踪</div><div align=center><img src="https://s2.loli.net/2024/11/20/6SgZVcHIEbkjRxP.png"></div><div align=center>100度大视场</div><div align=center><img src="https://s2.loli.net/2024/11/20/Cm6co9OiJArL1Q5.png"></div><div align=center>设置RGB可见光波长</div><div align=center><img src="https://s2.loli.net/2024/11/20/4PzwlfM5tcXv2S6.png"></div><div align=center>设置pick up保证对称式结构</div><div align=center><img src="https://s2.loli.net/2024/11/20/CjoGTqEbSle52p7.png"></div><div align=center>成像面(虚像)应在-250mm明视距离</div><div align=center><img src="https://s2.loli.net/2024/11/20/6mkF4rAnd9MiY7Z.png"></div><div align=center>控制口半径5mm以下</div></p></details><h2 id="系统优化"><a href="#系统优化" class="headerlink" title="系统优化"></a>系统优化</h2><div align=center><img src="https://s2.loli.net/2024/11/20/3wLBCsfTpF4qnP5.png"></div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">配置默认评价函数</p><p>设置Spot Radius 可以有效优化像差，优先优化点列图和MTF,如果之后MTF基本优化成一束之后遇到瓶颈，可以重新改回wavefront<br>设置玻璃的厚度限制 保证在优化过程中玻璃厚度不会优化成很抽象的东西</p></div><div align=center><img src="https://s2.loli.net/2024/11/20/TniNXxQwdCPHyoY.png"></div><div align=center>赛德尔系数</div><div align=center><img src="https://s2.loli.net/2024/11/20/nGVq1cOBEpvx7WH.png"></div><div align=center>添加操作数</div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">优化流程</p><p><p>首先默认函数直接优化，收敛到镜头参数相对合理的情况，再一点一点优化厚度，建议0.1mm慢慢调，一次动一个厚度<br>通过观察赛德尔系数确定每个面对像差的贡献从而在操作数里面特别优化</p></p></div><details class="custom-details"><summary>一些经验</summary><p>(叠个甲，这不一定在你的应用场景中是有效的)</p><ol><li>先保证视场光波长孔径这些参数正确</li><li>先调两个镜片，调好后再加镜片，通常厚度距离都设个10，半径直接无穷</li><li>后直接四个半径一起优化，优化出来如果慧差大，那就加个COMA的操作数（优化慧差）；后像散大，就加个ASTI操作数优化像散，但通常优化像散的同时，球差会增大；后对于MTF曲线，一般可能轴外视场的MTF曲线不好，可以用MTFT慢慢拉高（后面做烦了，就没怎么整这个）</li><li>插入操作数后可以直接将全部曲面半径一起优化，这样变化稍微大点，对于thickness则初始值正常都是10来一个一个优化，（不要一起优化，不然必爆），初始值不能太离谱，优化完曲率半径之后，初始值基本就那边了</li><li>优化完两个透镜之后，保存为一个文件，后可在两个透镜中加个双胶合透镜，但玻璃材料须为一个BK7,一个F2（一定不能都是BK7），接着可以选择（1）不动前面优化好的透镜，只优化双胶合，以及透镜间的距离（2）将全部曲率半径一起优化</li><li>先优化双胶合的曲率，再优化双胶合的thickness</li><li>优化像差先优化曲率半径，就是看点列图，优先把球差搞小，其实球差中间用对称式然后微调距离都可以变小，用spha操作数，搞小之后看慧差，用coma操作数优化，像散可以稍稍优化，用asti操作数，优化目标都是0，权重设成1就行</li><li>优化距离就用totr操作数控制整体的距离，然后开锤空气，镜头厚度就手动慢慢调整，一次只调一个，调一次镜头厚度就锤目镜，mtf也可以通过mtfa操作数一点一点拉高</li></ol></p></details><h2 id="优化结果"><a href="#优化结果" class="headerlink" title="优化结果"></a>优化结果</h2><h3 id="门内看门外"><a href="#门内看门外" class="headerlink" title="门内看门外"></a>门内看门外</h3><details class="custom-details"><summary>点列图、波像差曲线、畸变场曲曲线、调制传递函数曲线</summary><p><div align=center><img src="https://s2.loli.net/2024/11/20/4TOUARmXZ1nEivq.png"></div><div align=center><img src="https://s2.loli.net/2024/11/20/mGirOuc5ARJyIVb.png"></div><div align=center><img src="https://s2.loli.net/2024/11/20/KAa8IGXZwmtkxTd.png"></div><div align=center><img src="hhttps://s2.loli.net/2024/11/20/cYIT6BOGs5VwNqA.png"></div><div align=center><img src="https://s2.loli.net/2024/11/20/jEBUNmOtIhbryPf.png"></div></p></details><details class="custom-details"><summary>像分析</summary><p><div align=center><img src="https://s2.loli.net/2024/11/20/Kcat5CXxbdHlsRF.png"></div><p>可以看出成像的畸变比较大，且大市场的成像质量比较差，考虑到孔径大小的约束，这个结果也已经可以接受</p></p></details><details class="custom-details"><summary>系统参数</summary><p><div align=center><img src="https://s2.loli.net/2024/11/20/b3KNCw1dUlALctp.png"></div><p>后焦距在-234mm即明视距离左右，说明成像位置还是优化的比较正确</p></p></details><h3 id="门外看门内"><a href="#门外看门内" class="headerlink" title="门外看门内"></a>门外看门内</h3><div align=center><img src="https://s2.loli.net/2024/11/20/PAHFw7MLD6ifISR.png"></div><div align=center><img src="https://s2.loli.net/2024/11/20/qa7LJWAkHFto3zU.png"></div><div align=center>5度视场无法通过，3度勉强通过</div><details class="custom-details"><summary>点列图、调制传递函数曲线、像分析</summary><p><div align=center><img src="https://s2.loli.net/2024/11/20/XQcg9VAJKYMsj41.png"></div><div align=center><img src="https://s2.loli.net/2024/11/20/wufMkpJcySKEn9Z.png"></div><div align=center><img src="https://s2.loli.net/2024/11/20/kIoEVPRfchDMCnp.png"></div></p></details><details class="custom-details"><summary>系统参数</summary><p><div align=center><img src="https://s2.loli.net/2024/11/20/DXsmNRw94ujL1H7.png"></div><p>后焦距在-4mm说明门内的情况对门外的人来说是几乎没有可能看清的</p></p></details><h3 id="反猫眼"><a href="#反猫眼" class="headerlink" title="反猫眼"></a>反猫眼</h3><p>反猫眼理应设置成变焦系统以供不同款式的猫眼使用，但是由于本次设计的工期较短，且本人才刚开始学习Zemax，所以能力有限，只设计出匹配我自己设计的猫眼的反猫眼镜头，没能在ddl前设计出变焦的反猫眼镜组，这里提供一个思路，去用<strong>三双胶合镜头</strong>为初始结构，使用Zemax的多重结构设计来控制焦距优化出镜头。</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>在课堂上老师提出了从用户角度思考问题，对于使用反猫眼的人来说大多数都是小偷，对于他们来说使用一个变焦系统来看还是太麻烦了，他们大多的心态还是广撒网，对于一家来说只会凑上去看那么一下下，如果需要调焦可能也过于麻烦了。因此应该设计成成像大景深的镜组，通过多重结构去优化不同物距下的成像效果，最终实现在一定的物距范围内都能透过猫眼看清门内的情况。</p></div><div align=center><img src="https://s2.loli.net/2024/11/20/DU5qoKgQSJ1ERAv.png"></div><div align=center><img src="https://s2.loli.net/2024/11/20/EOasCV6YhZUbqAT.png"></div><details class="custom-details"><summary>点列图、调制传递函数曲线</summary><p><div align=center><img src="https://s2.loli.net/2024/11/20/UvZB97M1wKnRacp.png"></div><div align=center><img src="https://s2.loli.net/2024/11/20/f1u3Y9yqpvlTkQI.png"></div></p></details><details class="custom-details"><summary>像分析</summary><p><div align=center><img src="https://s2.loli.net/2024/11/20/1SygXQDh6V7sxYk.png"></div></p></details><details class="custom-details"><summary>系统参数</summary><p><div align=center><img src="https://s2.loli.net/2024/11/20/OXMnG1zosDlCkTy.png"></div><p>后焦距在大致明视距离处，说明反猫眼有效</p></p></details><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><div align=center><img src="https://s2.loli.net/2024/11/12/1LvtinHZ6CzoEIh.png"></div><div align=center>我这两周都不会忘记这张笑脸的></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;两周时间从零开始蹿出来的猫眼设计&lt;/p&gt;
&lt;h1 id=&quot;设计要求&quot;&gt;&lt;a href=&quot;#设计要求&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="Optic Design" scheme="http://example.com/categories/Optic-Design/"/>
    
    
    <category term="Zemax" scheme="http://example.com/tags/Zemax/"/>
    
  </entry>
  
  <entry>
    <title>光学设计资料整合</title>
    <link href="http://example.com/post/%E5%85%89%E5%AD%A6%E8%AE%BE%E8%AE%A1%E8%B5%84%E6%96%99%E6%95%B4%E5%90%88.html"/>
    <id>http://example.com/post/%E5%85%89%E5%AD%A6%E8%AE%BE%E8%AE%A1%E8%B5%84%E6%96%99%E6%95%B4%E5%90%88.html</id>
    <published>2024-11-18T14:46:59.000Z</published>
    <updated>2024-12-07T08:18:43.034Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本文主要记载我在入门光学设计所看到的有帮助的帖子</p><h1 id="帖子"><a href="#帖子" class="headerlink" title="帖子"></a>帖子</h1><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><ol><li><a href="https://zhuanlan.zhihu.com/p/707751330">ZEMAX光学设计—单透镜（a singlet）</a></li><li><a href="https://www.optkt.com/fa/345/1">ZEMAX光学设计实例（2）—双透镜（a doublet）</a></li><li><a href="https://www.optkt.com/fa/572/1">ZEMAX详解（5）—评价函数与操作数详解</a></li><li><a href="https://www.optkt.com/fa/356/1">Zemax光学设计实例（37）—变焦镜头</a></li><li><a href="https://www.optkt.com/t/2212">ZEMAX优化要点</a></li><li><a href="https://blog.csdn.net/m0_53263220/article/details/127273472">ZEMAX像质评价及六种像差汇总</a></li><li><a href="https://blog.csdn.net/lzy750750/article/details/125566379">ZEMAX操作25–像差理论和修正（球差、慧差、像散）</a></li><li><a href="http://www.opticsky.cn/simple/t114369.html">ZEMAX主要优化函数表</a></li><li><a href="https://blog.csdn.net/qq_35608277/article/details/107528452">光学镜头参数详解（EFL、TTL、BFL、FFL、FBL&#x2F;FFL、FOV、F&#x2F;NO、RI、MTF、TV-Line、Flare&#x2F;Ghost）</a></li><li><a href="https://www.optkt.com/portal.php?mod=view&aid=597">Zemax光学设计实例（19）—凯涅尔目镜的设计</a></li><li><a href="https://zhuanlan.zhihu.com/p/41127682">目镜的光学和相差特性</a></li></ol></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;本文主要记载我在入门光学设计所看到的有帮助的帖子&lt;/p&gt;
&lt;h1 id=&quot;帖子&quot;&gt;&lt;a href=&quot;#帖子&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="Optic Design" scheme="http://example.com/categories/Optic-Design/"/>
    
    
    <category term="Zemax" scheme="http://example.com/tags/Zemax/"/>
    
  </entry>
  
  <entry>
    <title>图像拼接编程实践</title>
    <link href="http://example.com/post/%E5%9B%BE%E5%83%8F%E6%8B%BC%E6%8E%A5%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5.html"/>
    <id>http://example.com/post/%E5%9B%BE%E5%83%8F%E6%8B%BC%E6%8E%A5%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5.html</id>
    <published>2024-11-13T14:12:35.000Z</published>
    <updated>2024-11-13T15:34:39.102Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本项目是关于的图像拼接练习，我使用的编程语言是python，是笔者在校系统性学习机器学习的课程小项目，也不是啥新鲜玩意了，GitHub上很多复现的，感兴趣可以去GitHub上多找找。</p><h1 id="项目前置"><a href="#项目前置" class="headerlink" title="项目前置"></a>项目前置</h1><h2 id="python版本要求"><a href="#python版本要求" class="headerlink" title="python版本要求"></a>python版本要求</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>python&#x3D;3.x</p></div><h2 id="库依赖要求"><a href="#库依赖要求" class="headerlink" title="库依赖要求"></a>库依赖要求</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p><p>opencv-python<br>stitching<br>numpy &lt;&#x3D; 1.26.4</p></p></div><h1 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h1><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><ol><li>图像采集：使用相机或手机拍摄至少三幅图像。确保这些图像具有重叠部分（重叠区域建议为30%-50%）。建议选择一个具有丰富细节的场景，比如风景、建筑物或室内环境。</li><li>图像预处理：使用图像处理软件（如OpenCV）读取和预处理这些图像；对图像进行畸变校正（如果必要），确保图像质量。</li><li>特征检测与匹配：使用SIFT、ORB等特征检测算法提取图像中的关键点，应用匹配算法找到不同图像之间的特征匹配。</li><li>拼接与合成：将图像进行变换和拼接，创建一幅全景图像。</li></ol></blockquote><h1 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h1><p>通过网上查找资料总共有三套多图像拼接的解决方案</p><h2 id="使用OpenCV-stitcher类"><a href="#使用OpenCV-stitcher类" class="headerlink" title="使用OpenCV stitcher类"></a>使用OpenCV stitcher类</h2><h3 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h3><div align=center><img src="https://s2.loli.net/2024/11/13/cbxyrkTfMGjZWzV.png"></div><div align=center>Opencv的Stitcher类的内部逻辑</div><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">这张图展示了 OpenCV Stitcher 类中的图像拼接流程。</p><p>首先，它从一组输入图像开始，将图像调整到中等分辨率，然后在图像中提取特征点并匹配这些特征点，以找到相邻图像之间的重叠区域。接着，程序对相机参数进行初步估计，并通过全局优化来确保图像的精确对齐。同时，还会进行波形校正和全景图的尺度估计，使图像在同一尺度上对齐。<br>在合成阶段，图像经过透视变换后能够在同一平面上对齐，然后系统会自动补偿不同图像之间的曝光差异，计算并修正曝光误差。随后，程序会找到图像的接缝区域，并调整掩码的分辨率以确保无缝融合。<br>最后，对齐后的图像进行融合处理，消除接缝区域的边界痕迹，最终输出一张完整的全景图。整个流程实现了从多张图像生成无缝全景图的功能<br>直接使用stitcher类来生成拼接图像就很简单，速度也很快</p></p></div><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><details class="custom-details"><summary>图像加载</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">load_images</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">image_path</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    加载指定路径下的所有图像</span></span><span class="line"><span style="color: #676E95; font-style: italic">    :param image_path: 图像文件夹路径</span></span><span class="line"><span style="color: #676E95; font-style: italic">    :return: 加载的图像列表</span></span><span class="line"><span style="color: #676E95; font-style: italic">    </span><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #BABED8">    logging</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">info</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">正在加载图像...</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 获取所有以 .jpg 结尾的图像文件路径</span></span><span class="line"><span style="color: #BABED8">    image_files </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">image_path</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8">file</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> file </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">listdir</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">image_path</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> file</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">endswith</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 读取图像文件</span></span><span class="line"><span style="color: #BABED8">    images </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imread</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">file</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> file </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> image_files</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 检查是否有图像加载失败</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">any</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img </span><span style="color: #89DDFF; font-style: italic">is</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> img </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> images</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">raise</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">ValueError</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">加载图像时出错，请检查图像路径和文件格式。</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> images</span></span><span class="line"></span></code></pre></div></p></details><details class="custom-details"><summary>拼接图像</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">stitch_images</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">images</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    拼接图像</span></span><span class="line"><span style="color: #676E95; font-style: italic">    :param images: 图像列表</span></span><span class="line"><span style="color: #676E95; font-style: italic">    :return: 拼接后的图像</span></span><span class="line"><span style="color: #676E95; font-style: italic">    </span><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #BABED8">    logging</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">info</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">正在拼接图像...</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 创建拼接器对象</span></span><span class="line"><span style="color: #BABED8">    stitcher </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">createStitcher</span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> imutils</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">is_cv3</span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">Stitcher_create</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 拼接图像</span></span><span class="line"><span style="color: #BABED8">    status</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> stitched </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> stitcher</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">stitch</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">images</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 检查拼接状态</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> status </span><span style="color: #89DDFF">!=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">raise</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">RuntimeError</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;图像拼接失败，错误代码：</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">status</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> stitched</span></span><span class="line"></span></code></pre></div></p></details><details class="custom-details"><summary>裁切图片</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">crop_stitched_image</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">stitched</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    裁剪拼接后的图像，去除黑边</span></span><span class="line"><span style="color: #676E95; font-style: italic">    :param stitched: 拼接后的图像</span></span><span class="line"><span style="color: #676E95; font-style: italic">    :return: 裁剪后的图像</span></span><span class="line"><span style="color: #676E95; font-style: italic">    </span><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #BABED8">    logging</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">info</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">正在裁剪...</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 在图像周围添加边框</span></span><span class="line"><span style="color: #BABED8">    stitched </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">copyMakeBorder</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">stitched</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">BORDER_CONSTANT</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 转换为灰度图像</span></span><span class="line"><span style="color: #BABED8">    gray </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">stitched</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_BGR2GRAY</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 二值化处理</span></span><span class="line"><span style="color: #BABED8">    thresh </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">threshold</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">gray</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">THRESH_BINARY</span><span style="color: #89DDFF">)[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 查找轮廓</span></span><span class="line"><span style="color: #BABED8">    cnts </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">thresh</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">copy</span><span style="color: #89DDFF">(),</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">RETR_EXTERNAL</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">CHAIN_APPROX_SIMPLE</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    cnts </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> imutils</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">grab_contours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cnts</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 获取最大轮廓</span></span><span class="line"><span style="color: #BABED8">    c </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">max</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cnts</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">key</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">contourArea</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 创建掩码</span></span><span class="line"><span style="color: #BABED8">    mask </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">zeros</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">thresh</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">dtype</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">uint8</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> w</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">boundingRect</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">c</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">rectangle</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">mask</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">x</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> y</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">x </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> w</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> y </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> h</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    minRect </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> mask</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">copy</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    sub </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> mask</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">copy</span><span style="color: #89DDFF">()</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 逐步腐蚀掩码，去除黑边</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">while</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">countNonZero</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">sub</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        minRect </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">erode</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">minRect</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None)</span></span><span class="line"><span style="color: #BABED8">        sub </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">subtract</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">minRect</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> thresh</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 查找腐蚀后的轮廓</span></span><span class="line"><span style="color: #BABED8">    cnts </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">minRect</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">copy</span><span style="color: #89DDFF">(),</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">RETR_EXTERNAL</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">CHAIN_APPROX_SIMPLE</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    cnts </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> imutils</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">grab_contours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cnts</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    c </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">max</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cnts</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">key</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">contourArea</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> w</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">boundingRect</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">c</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 裁剪图像</span></span><span class="line"><span style="color: #BABED8">    stitched </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> stitched</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">y</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">y </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> h</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> x</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">x </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> w</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> stitched</span></span><span class="line"></span></code></pre></div></p></details><details class="custom-details"><summary>main</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">main</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">args</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #676E95; font-style: italic">    主函数，执行图像拼接和保存</span></span><span class="line"><span style="color: #676E95; font-style: italic">    :param args: 命令行参数</span></span><span class="line"><span style="color: #676E95; font-style: italic">    </span><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">output_path</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">try</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 获取当前时间戳</span></span><span class="line"><span style="color: #BABED8">        timestamp </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> datetime</span><span style="color: #89DDFF">.</span><span style="color: #F07178">datetime</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">now</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">strftime</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">%Y-%m-</span><span style="color: #F78C6C">%d</span><span style="color: #C3E88D">-%H-%M-%S</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 加载图像</span></span><span class="line"><span style="color: #BABED8">        images </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">load_images</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">args</span><span style="color: #89DDFF">.</span><span style="color: #F07178">images</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 拼接图像</span></span><span class="line"><span style="color: #BABED8">        stitched </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">stitch_images</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">images</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 如果需要裁剪拼接图像</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> args</span><span style="color: #89DDFF">.</span><span style="color: #F07178">crop</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            stitched </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">crop_stitched_image</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">stitched</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 确保输出文件路径包含有效的扩展名</span></span><span class="line"><span style="color: #BABED8">            valid_extensions </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.png</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.jpeg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">any</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">args</span><span style="color: #89DDFF">.</span><span style="color: #F07178">output</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">lower</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">endswith</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">ext</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> ext </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> valid_extensions</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                args</span><span style="color: #89DDFF">.</span><span style="color: #F07178">output</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">args</span><span style="color: #89DDFF">.</span><span style="color: #F07178">output</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;stitched_</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">timestamp</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">.png&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">args</span><span style="color: #89DDFF">.</span><span style="color: #F07178">output</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 保存拼接后的图像</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imwrite</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">args</span><span style="color: #89DDFF">.</span><span style="color: #F07178">output</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> stitched</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 显示拼接后的图像</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Stitched</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> stitched</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">waitKey</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">except</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">Exception</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> e</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        logging</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">error</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">e</span><span style="color: #89DDFF">)</span></span><span class="line"></span></code></pre></div></p></details><h2 id="使用stitching库"><a href="#使用stitching库" class="headerlink" title="使用stitching库"></a>使用stitching库</h2><h3 id="实现思路-1"><a href="#实现思路-1" class="headerlink" title="实现思路"></a>实现思路</h3><p>这个库是我在github上闲逛找到的一个python图像拼接库<a href="">stitching</a></p><div align=center><img src="https://s2.loli.net/2024/11/13/9NcyUHjAPzEhYWb.png"></div><p>这也是受 OpenCV stitcher类启发并基于此写出的python包，原理上和openCV差不多。可以通过在conda环境中输入</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">pip</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">stitching</span></span></code></pre></div><p>从PyPi上安装该库，通过研读stitching库的API，可以通过简单几行代码实现多图像的拼接</p><h3 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h3><details class="custom-details"><summary>only a simple sample</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> stitching </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> Stitcher</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> osp</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> os</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> cv2</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> datetime</span></span><span class="line"><span style="color: #BABED8">script_path </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">abspath</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">__file__</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">project_path </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">script_path</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">image_path </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">project_path</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">images</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">output_path </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">project_path</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">output</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">images </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imread</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">image_path</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8">file</span><span style="color: #89DDFF">))</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> file </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">listdir</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">image_path</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> file</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">endswith</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)]</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">stitcher </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">Stitcher</span><span style="color: #89DDFF">()</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">stitcher </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">Stitcher</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">detector</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">sift</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">confidence_threshold</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">0.3</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">timestamp </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> datetime</span><span style="color: #89DDFF">.</span><span style="color: #F07178">datetime</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">now</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">strftime</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">%Y-%m-</span><span style="color: #F78C6C">%d</span><span style="color: #C3E88D">-%H-%M-%S</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"><span style="color: #BABED8">panorama </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> stitcher</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">stitch</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">images</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imwrite</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">output_path </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;/stitched_</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">timestamp</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">.png&#39;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> panorama</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Panorama save</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Panorama</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> panorama</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">waitKey</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">destroyAllWindows</span><span style="color: #89DDFF">()</span></span><span class="line"></span></code></pre></div></p></details><h2 id="半手搓复现stitch"><a href="#半手搓复现stitch" class="headerlink" title="半手搓复现stitch"></a>半手搓复现stitch</h2><p>调OpenCV的一些检测与计算算法</p><h3 id="实现思路-2"><a href="#实现思路-2" class="headerlink" title="实现思路"></a>实现思路</h3><div align=center><img src="https://s2.loli.net/2024/11/13/52dJl4pH6L1PQD9.png"></div><div align=center>复现的stitch类流程图</div><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">我的复现流程分为3个步骤</p><ol><li>图像预处理：首先加载需要拼接的图像，通过 SIFT提取每张图像的特征点。使用FLANN进行特征点的匹配，找到相邻图像之间的匹配点。</li><li>图像变换计算与拼接准备：利用匹配点计算单应性矩阵 H，应用 RANSAC 算法来筛选出最佳变换模型，将变换后的图像通过多张图像的融合拼接成一个整体，对拼接图像进行边缘处理，去除边界的黑边，使得拼接区域更平滑，调整图像的曝光以保持整体亮度的一致性</li><li>图像融合：使用多频段融合消除图像交界处的拼接痕迹</li></ol></div><h3 id="代码实现-2"><a href="#代码实现-2" class="headerlink" title="代码实现"></a>代码实现</h3><details class="custom-details"><summary>复现的关键点检测</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">detect_and_compute</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">img</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 使用SIFT检测关键点并计算描述符</span></span><span class="line"><span style="color: #BABED8">    sift </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">SIFT_create</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">nfeatures</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">nOctaveLayers</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">contrastThreshold</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">0.04</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">edgeThreshold</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">sigma</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">1.6</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    kp</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> des </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> sift</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">detectAndCompute</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> kp</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> des</span></span><span class="line"></span></code></pre></div></p></details><details class="custom-details"><summary>复现的关键点匹配</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">match_features</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">des1</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">des2</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 使用FLANN匹配器匹配特征点描述符</span></span><span class="line"><span style="color: #BABED8">    FLANN_INDEX_KDTREE </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">    indexParams </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">dict</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">algorithm</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">FLANN_INDEX_KDTREE</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">trees</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    searchParams </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">dict</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">checks</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">32</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    flann </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">FlannBasedMatcher</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">indexParams</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> searchParams</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    matches </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> flann</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">knnMatch</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">des1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> des2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">k</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># k=2表示返回两个最近邻</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 应用Lowe&#39;s ratio test，筛选出好的匹配</span></span><span class="line"><span style="color: #BABED8">    good_matches </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">m </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> m</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> n </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> matches </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> m</span><span style="color: #89DDFF">.</span><span style="color: #F07178">distance</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&lt;</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.6</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> n</span><span style="color: #89DDFF">.</span><span style="color: #F07178">distance</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> good_matches</span></span><span class="line"></span></code></pre></div></p></details><details class="custom-details"><summary>复现的计算单应性矩阵与透视变换</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">find_homography</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">kp1</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">kp2</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">good_matches</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 计算单应矩阵</span></span><span class="line"><span style="color: #BABED8">    src_pts </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">float32</span><span style="color: #89DDFF">([</span><span style="color: #82AAFF">kp1</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">m</span><span style="color: #89DDFF">.</span><span style="color: #F07178">queryIdx</span><span style="color: #89DDFF">].</span><span style="color: #F07178">pt</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> m </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> good_matches</span><span style="color: #89DDFF">]).</span><span style="color: #82AAFF">reshape</span><span style="color: #89DDFF">(-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    dst_pts </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">float32</span><span style="color: #89DDFF">([</span><span style="color: #82AAFF">kp2</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">m</span><span style="color: #89DDFF">.</span><span style="color: #F07178">trainIdx</span><span style="color: #89DDFF">].</span><span style="color: #F07178">pt</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> m </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> good_matches</span><span style="color: #89DDFF">]).</span><span style="color: #82AAFF">reshape</span><span style="color: #89DDFF">(-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    M</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> mask </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findHomography</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">dst_pts</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> src_pts</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">RANSAC</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">5.0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> M</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">warp_image</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">img</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">M</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">dsize</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 应用透视变换，得到变换后的图像</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">warpPerspective</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> M</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> dsize</span><span style="color: #89DDFF">)</span></span><span class="line"></span></code></pre></div></p></details><details class="custom-details"><summary>复现的去除图像边缘黑边</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">remove_black_borders</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">img</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 去除图像中的黑边</span></span><span class="line"><span style="color: #BABED8">    gray </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_BGR2GRAY</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    _</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> thresh </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">threshold</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">gray</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">THRESH_BINARY</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    contours</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _ </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">thresh</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">RETR_EXTERNAL</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">CHAIN_APPROX_SIMPLE</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> w</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">boundingRect</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contours</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 裁剪图像，去除黑边</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> img</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">y</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">y</span><span style="color: #89DDFF">+</span><span style="color: #BABED8">h</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> x</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">x</span><span style="color: #89DDFF">+</span><span style="color: #BABED8">w</span><span style="color: #89DDFF">]</span></span><span class="line"></span></code></pre></div></p></details><details class="custom-details"><summary>复现的图像重叠区域优化</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 采用重叠区域加权平均的算法，会有缺点</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 可以加入曝光补偿来优化拼接处的色彩不连续</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">optimize_stitching</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">warpImg</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">img1</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 优化拼接，处理重叠区域</span></span><span class="line"><span style="color: #BABED8">    rows</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> cols </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> img1</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[:</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    left </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">    right </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cols</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 找到重叠区域的左边界</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> col </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cols</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> img1</span><span style="color: #89DDFF">[:,</span><span style="color: #BABED8"> col</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">any</span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> warpImg</span><span style="color: #89DDFF">[:,</span><span style="color: #BABED8"> col</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">any</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">            left </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> col</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">break</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    res </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">zeros</span><span style="color: #89DDFF">([</span><span style="color: #82AAFF">rows</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cols</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint8</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> row </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> rows</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> col </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> right</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> img1</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> col</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">any</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #676E95; font-style: italic"># 如果img1在该像素为黑色，使用warpImg的像素</span></span><span class="line"><span style="color: #BABED8">                res</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> warpImg</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> col</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">elif</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> warpImg</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> col</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">any</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #676E95; font-style: italic"># 如果warpImg在该像素为黑色，使用img1的像素</span></span><span class="line"><span style="color: #BABED8">                res</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> img1</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> col</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #676E95; font-style: italic"># 对重叠区域进行加权平均</span></span><span class="line"><span style="color: #BABED8">                srcImgLen </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">float</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">abs</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">col </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> left</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">                testImgLen </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">float</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">abs</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">col </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> right</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">                alpha </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> srcImgLen </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">srcImgLen </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> testImgLen</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                res</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">clip</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img1</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">row</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> col</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> alpha</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> warpImg</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">row</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> col</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> alpha</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    warpImg</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">img1</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">img1</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> res</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> warpImg</span></span><span class="line"></span></code></pre></div></p></details><details class="custom-details"><summary>复现的多图像拼接</summary><p><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>我复现的多图像拼接的本质还是做双图像的拼接，好处是处理起来简单，坏处是遇到很多的图像的时候拼接效果会畸变会很严重导致效果很差，这其实也是0几年算法的缺陷，仅仅对一张图片做单应性矩阵的运算，然后只进行一次的透射变换，视差一大必然导致畸变放大，单次的透射变换复杂度不够描述一些关键点对应关系比较复杂的图像拼接，而且这种定下来一个主图其他图仿射变换到其上的拼接方式会导致很严重的误差累积，在一张一张分别处理拼接的时候。</p></blockquote><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">stitch_images</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">img1_path</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">img2_path</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 拼接两张图像</span></span><span class="line"><span style="color: #BABED8">    img1 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">read_image</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img1_path</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    img2 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">read_image</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img2_path</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    kp1</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> des1 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">detect_and_compute</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    kp2</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> des2 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">detect_and_compute</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img2</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    good_matches </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">match_features</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">des1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> des2</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">good_matches</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">min_matches</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 计算单应矩阵</span></span><span class="line"><span style="color: #BABED8">        M </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">find_homography</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">kp1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> kp2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> good_matches</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 应用透视变换</span></span><span class="line"><span style="color: #BABED8">        warpImg </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">warp_image</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> M</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img1</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> img2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span></span><span class="line"><span style="color: #82AAFF">                                                max</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> img1</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])))</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 优化拼接</span></span><span class="line"><span style="color: #BABED8">        optimize </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">optimize_stitching</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">warpImg</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> img1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 去除黑边</span></span><span class="line"><span style="color: #BABED8">        optimize </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">remove_black_borders</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">optimize</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 保存并显示结果</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imwrite</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img1_path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">split</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">.jpg</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">optimize.png</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> optimize</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">result saved!</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic">#cv2.imshow(&quot;result&quot;, optimize)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic">#cv2.waitKey(0)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic">#cv2.destroyAllWindows()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">not enough matches!</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">stitch_multiple_images</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">image_paths</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 拼接多张图像</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">image_paths</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&lt;</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">需要至少两张图像进行拼接</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    base_image_path </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> image_paths</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> next_image_path </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> image_paths</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">:]:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 逐步拼接图像</span></span><span class="line"><span style="color: #BABED8">        self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">stitch_images</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">base_image_path</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> next_image_path</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 更新基准图像为上一次的拼接结果</span></span><span class="line"><span style="color: #BABED8">        base_image_path </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> base_image_path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">split</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">.jpg</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">optimize.png</span><span style="color: #89DDFF">&quot;</span></span><span class="line"></span><span class="line"></span></code></pre></div></p></details><h1 id="测试结果"><a href="#测试结果" class="headerlink" title="测试结果"></a>测试结果</h1><h2 id="使用images-a数据集"><a href="#使用images-a数据集" class="headerlink" title="使用images_a数据集"></a>使用images_a数据集</h2><p>7张图片小视差数据集，每张图片之间的重叠区域在70%~80%左右，</p><h3 id="OpenCV-stitcher实现"><a href="#OpenCV-stitcher实现" class="headerlink" title="OpenCV stitcher实现"></a>OpenCV stitcher实现</h3><div align=center><img src="https://s2.loli.net/2024/11/13/vY1smtVMSAEr6Ud.png"></div><p>OpenCV stitcher类底层是由C++实现的在加上算法优化可以保证5秒钟之内融合出图，速度特别快，但是由于其会使边缘变形较为严重，截成矩形图像后保存的拼接图看起来会比较短。</p><h3 id="stitching库实现"><a href="#stitching库实现" class="headerlink" title="stitching库实现"></a>stitching库实现</h3><div align=center><img src="https://s2.loli.net/2024/11/13/RjUcPX3YV2MW1rL.png"></div><p>生成速度也比较快，估计在7秒左右，图片的调教做的不错，边缘处理变形不大，可以保留大部分边缘信息完好，但是在多张图像重叠区域还是会出现一点模糊的情况。</p><h3 id="复现stitch"><a href="#复现stitch" class="headerlink" title="复现stitch"></a>复现stitch</h3><div align=center><img src="https://s2.loli.net/2024/11/13/K2Lc4eV5vquOrIX.png"></div><p>自己写的拼接生成拼接图片的速度比较慢，在2022年的拯救者r9000p笔记本上2分钟左右才能跑出来，而且会产生鬼影，重叠区域处理采用最简单的加权处理就会产生这种问题。</p><h2 id="使用images-b数据集"><a href="#使用images-b数据集" class="headerlink" title="使用images_b数据集"></a>使用images_b数据集</h2><p>7张图片大视差数据集，每张图片之间的重叠区域在40%~50%左右<br>由于视差比较大，三种方法出来的图畸变都很严重</p><h3 id="OpenCV-stitcher实现-1"><a href="#OpenCV-stitcher实现-1" class="headerlink" title="OpenCV stitcher实现"></a>OpenCV stitcher实现</h3><div align=center><img src="https://s2.loli.net/2024/11/13/8J3bZVzHeIltUnk.png"></div><p>由于严重的变形，前面的部分都被截掉了。</p><h3 id="stitching库实现-1"><a href="#stitching库实现-1" class="headerlink" title="stitching库实现"></a>stitching库实现</h3><div align=center><img src="https://s2.loli.net/2024/11/13/iT6upEQjhZYyAsx.png"></div><p>整体最像一张全景图，但是中间的连接处不够平滑，有突变。</p><h3 id="复现stitch-1"><a href="#复现stitch-1" class="headerlink" title="复现stitch"></a>复现stitch</h3><div align=center><img src="https://s2.loli.net/2024/11/13/Jgl4xhyLzBaMG9p.png"></div><p>视差太大，我自己写的算法仅仅只是对一整个图像做单次的单应性矩阵的透视变换，仅仅做了线性变换每次都矫正的不够彻底，每次做变换都会导致误差累积，最后只融合了4张图就不够关键点匹配了。边缘的鬼影问题还是照旧。</p><h2 id="目前想到的优化方案"><a href="#目前想到的优化方案" class="headerlink" title="目前想到的优化方案"></a>目前想到的优化方案</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p><strong>(1)</strong> 采用2013年CVPR的APAP算法的思想，采用网格分割，每个网格分别应用局部单应性矩阵，得到曲面的拼接图，但是这需要的算力会变大，运算时间会上升。</p><div align=center><img src="https://s2.loli.net/2024/11/13/87xtUj2vJRPkcqd.png"></div><div align=center>As-Projective-As-Possible Image Stitching with Moving DLT</div><p><strong>(2)</strong> 减少使用for循环多使用numpy，增加并行运算提高运算效率。</p></div><h1 id="心得与体会"><a href="#心得与体会" class="headerlink" title="心得与体会"></a>心得与体会</h1><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">总结 </p><p><p>通过这次图像拼接的课程作业，我深入学习并实践了图像拼接的核心流程，包括图像特征提取、匹配、变换计算以及图像融合等关键技术。在实现过程中，我使用了 OpenCV 的 Stitcher 类和 stitching 库，并尝试复现拼接算法，从中获得了许多收获。<br>首先，通过使用 OpenCV 的 Stitcher 类，我体会到基于已有库的实现优势。这种方法速度快、效果较好，尤其是在小视差的场景下，可以高效地生成质量不错的全景图。Stitcher 类内部的优化算法让拼接过程变得简单，同时避免了许多细节上的困难。不过，OpenCV 拼接的边缘变形问题在一些场景下仍然较明显，需要进一步裁剪和调整。<br>在尝试 stitching 库的过程中，我发现这类开源库通过 Python API 进行了更高层次的封装，使得代码实现更加便捷。尽管效果与 OpenCV 类似，但在多图像拼接时，该库在保留边缘细节方面表现稍好，尤其是对中等视差场景的拼接有一定优势。不过，拼接处可能会出现模糊的问题。<br>最后，通过复现 Stitcher 类，我在算法的实现细节上加深了理解。通过手动编写特征提取、匹配、单应性计算和图像融合的过程，我掌握了拼接算法的关键步骤。然而，自实现算法的效率较低，尤其在大视差情况下，由于误差累积，拼接效果不够理想，甚至出现了鬼影和边缘重叠的现象。这一过程让我意识到精确控制参数、使用更高效的算法（如 APAP 局部单应性算法）和提升计算效率的重要性。</p></p></div><hr><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">未来展望</p><p>由于iphone的相机软件也有产生全景图的功能，我希望之后能通过优化算法实现实时的图像拼接，然后再使用相机（或手机）实时采图，也做出这种效果。</p><div align=center><img src="https://s2.loli.net/2024/11/13/1bcXfLRlVj9Z45I.png"></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;本项目是关于的图像拼接练习，我使用的编程语言是python，是笔者在校系统性学习机器学习的课程小项目，也不是啥新鲜玩意了，GitHub上很多</summary>
      
    
    
    
    <category term="MashineLearning" scheme="http://example.com/categories/MashineLearning/"/>
    
    
    <category term="python" scheme="http://example.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>光学设计入门（一）——牛顿反射式望远镜设计</title>
    <link href="http://example.com/post/%E5%85%89%E5%AD%A6%E8%AE%BE%E8%AE%A1%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94%E7%89%9B%E9%A1%BF%E5%8F%8D%E5%B0%84%E5%BC%8F%E6%9C%9B%E8%BF%9C%E9%95%9C%E8%AE%BE%E8%AE%A1.html"/>
    <id>http://example.com/post/%E5%85%89%E5%AD%A6%E8%AE%BE%E8%AE%A1%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94%E7%89%9B%E9%A1%BF%E5%8F%8D%E5%B0%84%E5%BC%8F%E6%9C%9B%E8%BF%9C%E9%95%9C%E8%AE%BE%E8%AE%A1.html</id>
    <published>2024-11-12T15:22:20.000Z</published>
    <updated>2024-12-07T06:17:44.367Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我们使用的光学设计软件是Zemax，这是光学设计的入门软件，比较简单，优化参数相对CodeV没那么多。</p><div align=center><img src="https://s2.loli.net/2024/11/12/1LvtinHZ6CzoEIh.png"></div><div align="center">这是Zemax2005版</div><p>现在的Zemax已经被<a href="https://www.ansys.com/products/optics/ansys-zemax-opticstudio">Ansys</a>收购了。</p><div align=center><img src="https://s2.loli.net/2024/11/12/J5A3Yeux8HaN7Bo.png"></div><h1 id="设计流程"><a href="#设计流程" class="headerlink" title="设计流程"></a>设计流程</h1><p>设计一个1000 mm焦距 F&#x2F;5的牛顿望远镜物镜</p><p>1000&#x2F;D&#x3D;5，所以物镜孔径D&#x3D;200mm。球面反射镜焦距近似是半径的一半，所以设计球面物镜的半径应该是2000mm</p><p><strong>1.</strong> 使用Lens data editor定义球面物镜。注意球面物镜的半径和厚度的符号。对凹面物镜，圆心在镜面左边，所以Radius是-2000，由于像面在物镜左边，所以thickness是-1000。详细表格如下图：</p><div align=center><img src="https://s2.loli.net/2024/11/12/NkMKwF8hJ9teoIW.png"></div><p><strong>2.</strong> 定义孔径D：<br>选择zemax主菜单-&gt;系统-&gt;通用配置-&gt;aperture，在入瞳直径栏键入200，如下图：</p><div align=center><img src="https://s2.loli.net/2024/11/12/M9OpHl5it3r2Uzk.png"></div><p><strong>3.</strong> 查看光路图：从zemax主界面，分析-&gt;草图-&gt;D草图可以看到下图的光路图：</p><div align=center><img src="https://s2.loli.net/2024/11/12/p32efR4SXLFuctx.png"></div><p><strong>4.</strong> 如果想更加形象化的看光路，也可从主菜单选择：分析-&gt;草图-&gt;渲染模型。可以使用键盘上下左右键来调整三维合适的观测角度，如下图：</p><div align=center><img src="https://s2.loli.net/2024/11/12/A5dBH8DyIts71zW.png"></div><p>我们来看性能分析曲线：</p><p><strong>5.</strong> 先看点列图。从主菜单选择分析-&gt;点列图-&gt;标准选项，可以看到下图：</p><div align=center><img src="https://s2.loli.net/2024/11/12/m9IEgFc3vUSW4yk.jpg"></div><p>从图中我们可以看到像差均方根（RMS）值为77.604。弥散斑直径约400微米。球差较大。这里我们只观测了550nm的波长。我们选择多波长，看是否有色差。</p><p><strong>6.</strong> 选择zemax主界面，系统-&gt;光波长菜单，可以看到下图：</p><div align=center><img src="https://s2.loli.net/2024/11/13/KvA7rZPko8n5gYQ.png"></div><p><strong>7.</strong> 如果我们要选择可见光的RGB三原色波长，我们可以按上图红圈所示的选择键，出现下图：</p><div align=center><img src="https://s2.loli.net/2024/11/13/K4exIMorPb92HAB.png"></div><p>这样我们观测波长就选择三个。正好是三原色波长。再点击确定，如上图圈所示键。</p><p><strong>8.</strong> 重复步骤5，可以看到下图：</p><div align=center><img src="https://s2.loli.net/2024/11/12/mq578fkWVxctJjQ.jpg"></div><p>和步骤5图相比较，可以发现数值一样。证明反射镜没有引入色差。</p><p><strong>9.</strong> 看MTF曲线。在主界面里选择分析调制传递函数（MTF）快速傅里叶变换(FFT MTF)。可以看到下图，</p><div align=center><img src="https://s2.loli.net/2024/11/12/2YPeLSQmCBt5bHk.png"></div><p><strong>10.</strong> 如果我们想和没有像差，只存在衍射时的MTF曲线做比较，可点击设置按键，设置，如下图</p><div align=center><img src="https://s2.loli.net/2024/11/12/sZDWylPrMT9g4Xv.png"></div><p>在上图所示选项打钩。再点下面的确定，就会看到在9步骤MTF曲线里出现一条黑线，如下图所示：</p><div align=center><img src="https://s2.loli.net/2024/11/12/XJpZQx3V7gIaChs.png"></div><p>黑色曲线就是没有像差影响，只存在凹面镜孔径引起的衍射作用时的MTF曲线。</p><p><strong>11.</strong> 注意，现在的结果是没有经过优化的，即使用几何光学中的公式R&#x3D;2f来定义凹面镜曲率半径和焦距的关系。下面我们将半径改设为变量，使用优化功能做的最佳的表面曲率半径，并和原结果做对比。回到透镜编辑表里：</p><div align=center><img src="https://s2.loli.net/2024/11/12/M9qFYjiEg2DrmPf.png"></div><p>鼠标左键双击图中-2000部位，跳出如下对话框</p><div align=center><img src="https://s2.loli.net/2024/11/12/FBYP4jrQo1WAnGt.png"></div><p>将图中菜单下拉，将求解类型由默认的“Fixed”改为第二项“variable”，如下图所示，并点击确定。</p><p>回到透镜编辑表里，可以看到在半径后面列中出现一个“V”符号，代表当前已经将半径设为变量。</p><p><strong>12.</strong> 系统优化，自动搜寻最佳的变量Radius。过程为，回到主菜单，点击“编辑”菜单下的“优化函数”选项，跳出如下所示评价函数编辑表格：</p><div align=center><img src="https://s2.loli.net/2024/11/12/vx9yEQ3WzlSo1FN.png"></div><p>选择“工具”下“默认评价函数”，将跳出如下对话框</p><div align=center><img src="https://s2.loli.net/2024/11/12/z95qKtE8GxIDimY.png"></div><p>该对话框用于对默认评价函数，即像差最小的搜索方法做编辑，这里我们先什么都不用改动，直接点击确定。回到评价函数编辑表里，可以看到表格变为下图：</p><div align=center><img src="https://s2.loli.net/2024/11/13/kyMwi6loXU1WLD3.png"></div><p>这就是系统根据“像差最小”的默认目标需求，自动生成的源代码。我们可以最小化或者直接关闭该表格，并回到主菜单：</p><div align=center><img src="https://s2.loli.net/2024/11/12/TBDN6fk2FVwlipa.png"></div><p>点击图中“工具”菜单下“优化”下第一个选项“优化”，跳出如下对话框：</p><div align=center><img src="https://s2.loli.net/2024/11/12/xORBgVYsX5yjwuW.png"></div><p>可见半径数值已由原来的“-2000”变为现在的“-2001.250106”。</p><p><strong>13.</strong> 下面我们检验优化后性能是否改进，按照步骤5，查看点列图，如下图所示</p><div align=center><img src="https://s2.loli.net/2024/11/12/y4Nv7k9pPahWglo.png"></div><div align=center><img src="https://s2.loli.net/2024/11/12/6Kpj4FNyVYCoMxU.png"></div><p><strong>14.</strong> 将球面改为抛物面。直接从透镜编辑里，在凹面镜conic的值置为-1。</p><div align=center><img src="https://s2.loli.net/2024/11/12/M9qFYjiEg2DrmPf.png"></div><p><strong>15.</strong> 重复步骤5，可以看到如下点列图：</p><div align=center><img src="https://s2.loli.net/2024/11/13/Cx1nystFNbfmvDz.png"></div><p>可以看到RMS值为0，没有球差、色差。</p><p><strong>16.</strong> 重复步骤9和10，可以看到如下MTF曲线，</p><div align=center><img src="https://s2.loli.net/2024/11/13/dUt5OVSsmqFCA8P.png"></div><p>可以看到实际MTF曲线和没有像差只存在衍射时的MTF曲线完全重合。达到最佳值。</p><p><strong>17.</strong> 观察轴外成像情况，在主界面选择，系统-&gt;视场，跳出如下图所示对话框，</p><div align=center><img src="https://s2.loli.net/2024/11/13/SO4zbAZKh5Ix16m.png"></div><p>键入0.75和1.5度两个轴外视场。再重复步骤5和9&#x2F;10，可以看到下面的图，</p><div align=center><img src="https://s2.loli.net/2024/11/12/RmYNgFt97VebHKP.png"></div><p>从点列图中可以看到，虽然抛物线凹面镜没有球差、色差，但是还是有轴外高阶像差的，如彗差、像散等。</p><div align=center><img src="https://s2.loli.net/2024/11/12/ciMK5FaBHE47kNw.png"></div><p>可以看到虽然轴上MTF曲线非常完美，但是轴外信息传递能力快速恶化。</p><p><strong>18.</strong> 为了方便观察，必须加转镜，以便人观察时能不把物方光挡住。注意因为进来的光束为200mm宽，因此成像平面至少在离光轴100mm的上方，如此”看”像的时候才不会挡住入射光。我们决定用200mm，而fold mirror离先前的反射镜面为800mm，因为200+800&#x3D;1000等于原先在STO上的thickness，即成像”距离”不变。操作如下，先把STO的thickness改为-800。再在STO面后新插入一个平面，作为我们的反射镜，如下图所示，</p><div align=center><img src="https://s2.loli.net/2024/11/13/DnLUMsmg1ajwRq8.png"></div><p>注意在Zemax里，如果出现多个反射镜时，一般出现奇数个反射面，当前面thichkness值为负，如果出现偶数个反射面时，当前面thickness为正。</p><p><strong>19.</strong> 现在我们将编号为“2”的表面设置为让光线转折90度的转镜。回到主界面，选择工具-&gt;折叠反射镜-&gt;添加折叠反射镜选项，弹出下图所示对话框，并编辑数据，</p><div align=center><img src="https://s2.loli.net/2024/11/13/hCj4RD5sp1nSZWA.png"></div><p>我们想将“2”号表面定为转镜，所以我们就将上图圈内选项选为“2”即可。点确定。</p><p><strong>20.</strong> 看光路图，注意，一旦系统里有了转镜，就无法用2D草图显示。应从zemax主界面，分析-&gt;草图-&gt;3D草图</p><div align=center><img src="https://s2.loli.net/2024/11/12/Foe37Lkr5zRiTP1.png"></div><p>或按照步骤4，看渲染图，如下</p><div align=center><img src="https://s2.loli.net/2024/11/12/lCOu7k3NGmf2nLy.png"></div><p>注意到，镜头数据编辑变成下图，</p><div align=center><img src="https://s2.loli.net/2024/11/12/vgzTry64VwWPqtj.png"></div><p>图中红色行只是用来坐标变换，为虚拟平面，不会在光路图里显示出来。</p><p><strong>21.</strong> 目前的系统还有一个重要问题，由于转镜与光轴呈45度夹角，因此入射光如果直接照射到转镜背面，可能会与镜筒多次反射干扰最终成像，引起大的照射。既然入射的光会被转镜挡住，无法参与成像。那么不如干脆在望远镜入口处设置障碍物把这部分光挡住。我们在STO面前插入一个平面，该面到凹面镜的距离为900mm。则镜头数据编辑表变为下图：</p><div align=center><img src="https://s2.loli.net/2024/11/13/ke24fnBxcRmVJuG.png"></div><p><strong>22.</strong> 下面我们再学习将该表面设置为障碍物，双击上图红圈内容，在弹出的对话框里点击Aperture选项，如下图所示，</p><div align=center><img src="https://s2.loli.net/2024/11/12/jx1VWvOC4nZchgu.png"></div><p>如上图，将光圈类型下拉菜单选为“圆形挡光”，设置参数时选择Max Radius，即最大挡光半径为“63”。之所以这里值置为63，是因为步骤18中表格，转光镜最大半径为62.71。圆形挡光板应完全覆盖转光镜。最后点击确定，设置完毕。</p><p><strong>23.</strong> 现在来看光路渲染效果图，如下图所示</p><div align=center><img src="https://s2.loli.net/2024/11/12/m5iB1KvPGaXHrTC.png"></div><p><strong>24.</strong> 看现在的点列图和MTF曲线，如下</p><div align=center><img src="https://s2.loli.net/2024/11/12/9o6r5vJGYA2pzbH.png"></div><p>可以看到，轴上无变化，轴外性能略有恶化。这是因为加入的挡光板后抛物线面中间不工作了，因此成像质量进一步恶化。<br>MTF曲线如下，</p><div align=center><img src="https://s2.loli.net/2024/11/12/ciMK5FaBHE47kNw.png"></div><p>如图所示，MTF曲线相比先前也有恶化。主要表现为低频段下降。这是因为挡光板挡住了部分中低频分量的进入。但注意截止频率不变，因为加入反射镜不改变系统焦距，因此系统可以接收的最高空间频率分量未发生变化。</p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>光学设计的可调参数实在太多了，实际设计起来优化很是费劲，最近在做门镜（猫眼）设计，给我调麻了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;我们使用的光学设计软件是Zemax，这是光学设计的入门软件，比较简单，优化参数相对CodeV没那么多。&lt;/p&gt;
&lt;div align=cen</summary>
      
    
    
    
    <category term="Optic Design" scheme="http://example.com/categories/Optic-Design/"/>
    
    
    <category term="Zemax" scheme="http://example.com/tags/Zemax/"/>
    
  </entry>
  
  <entry>
    <title>ComfyUI初体验--个性化二维码生成</title>
    <link href="http://example.com/post/ComfyUI%E5%88%9D%E4%BD%93%E9%AA%8C-%E4%B8%AA%E6%80%A7%E5%8C%96%E4%BA%8C%E7%BB%B4%E7%A0%81%E7%94%9F%E6%88%90.html"/>
    <id>http://example.com/post/ComfyUI%E5%88%9D%E4%BD%93%E9%AA%8C-%E4%B8%AA%E6%80%A7%E5%8C%96%E4%BA%8C%E7%BB%B4%E7%A0%81%E7%94%9F%E6%88%90.html</id>
    <published>2024-11-05T14:59:50.000Z</published>
    <updated>2025-03-10T02:39:43.343Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我在2022年就有在关注ai绘画领域，当时stable diffusion算刚刚出圈，现在flux都出来了，sd都更到SDXL了。ai绘画基本都使用WebUI作为GUI界面，虽然说WebUI也不是不好用，但就是比较传统。随着WebUI停止维护，许多的ai绘画工作者或爱好者都转到了ComfyUI的阵地，正好最近ComfyUI也更新了2.0版本的前端GUI，flux也说很牛，我上半年也搞了张4070super，种种机缘巧合之下，我又拾起了以前落下的AI绘画 <strong>（炼丹）</strong>开始玩。</p><details class="custom-details"><summary>SD1代的上古遗骸–图生图，校徽拟人</summary><p><div align=center><img src="https://s2.loli.net/2024/11/05/YzBA2G1Ju6Hx53e.png"></div><hr><div align=center><img src="https://s2.loli.net/2024/11/05/jHeJwMdkZ5NSqgC.png"></div></p></details><h1 id="ComfyUI"><a href="#ComfyUI" class="headerlink" title="ComfyUI"></a>ComfyUI</h1><p><img src="https://s2.loli.net/2024/11/06/wuknyVt4NZsicmR.png" alt=" 2024-11-06 172351.png"></p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">ComfyUI官网</p><p><a href="https://www.comfy.org/">ComfyUI官网</a></p></div><p>ComfyUI的下载安装网上教程业已详尽，我不过多赘述。</p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p><ol><li>这里推荐一个<a href="https://www.bilibili.com/video/BV1D7421N7xN/">入门视频</a></li><li>不想动脑可以用秋叶大佬<a href="https://space.bilibili.com/12566101">秋葉aaaki</a>的ai绘画整合包</li></ol></p></div><p>我是自个上 <a href="https://github.com/comfyanonymous/ComfyUI">ComfyUI</a> GitHub库拉的release</p><p>把<strong>release</strong>下载下来之后解压就可以看到</p><p>windows用户就可以直接运行如下的.bat批处理文件开启ComfyUI了</p><div align=center><img src="https://s2.loli.net/2024/11/05/n5Da6SrjFNmbKkw.png"></div>如果电脑没Nvidia显卡就用第一个cpu版的，如果有就可以用第二个gpu版的。<p>如果想通过命令行启动就要进到ComfyUI目录下找到如下的main.py执行（需要自己配环境，建议使用conda）</p><div align=center><img src="https://s2.loli.net/2024/11/05/L1VJufGxIqiZnae.png"></div><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">pip</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-r</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">requirements.txt</span></span><span class="line"><span style="color: #FFCB6B">python</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">main.py</span></span></code></pre></div><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">ComfyUI使用体验</p><p>ComfyUI使用起来就像是画一个流程图，搞清楚你想要的生成图形的流程，用上ComfyUI的节点可以轻松完成很多的图形处理和生成工作。</p></div><h1 id="二维码生成"><a href="#二维码生成" class="headerlink" title="二维码生成"></a>二维码生成</h1><p>思路参考的这篇文章<a href="https://antfu.me/posts/ai-qrcode-101">Stable Diffusion QR Code 101</a></p><h2 id="总体流程"><a href="#总体流程" class="headerlink" title="总体流程"></a>总体流程</h2><p>参考二维码图像进行控制生成（图生图），使用prompt去控制生成的对象。</p><h3 id="二维码制作"><a href="#二维码制作" class="headerlink" title="二维码制作"></a>二维码制作</h3><p>使用的是<a href="https://qrcode.antfu.me/">Anthony Fu</a>大佬的QRCode制作器，这个二维码制作器可以很容易生成美观的二维码基模<br><img src="https://s2.loli.net/2024/11/06/uhCEDJd9PcI8qav.png" alt=" 2024-11-06 165030.png"></p><h3 id="模型选取"><a href="#模型选取" class="headerlink" title="模型选取"></a>模型选取</h3><p>我这里只使用了<strong>controlnet</strong>和<strong>checkpoint</strong>这两个模型<br><a href="https://pan.baidu.com/s/1alOJz-URD9emOVNhZXOLFQ?pwd=qw85">下载链接</a></p><h4 id="checkpoint模型"><a href="#checkpoint模型" class="headerlink" title="checkpoint模型"></a>checkpoint模型</h4><p>Checkpoint模型是真正的Stable Diffusion模型，包含了生成图像所需的所有内容，不需要任何额外的文件。<br><img src="https://s2.loli.net/2024/11/06/I5zB1YN8xgKvJnP.png" alt=" 2024-11-06 174033.png"><br>我使用的是MeinaMix v10是基于Stable diffusion 1.5 训练出来的二次元风格特化的模型</p><div class="custom-quote danger"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M19.76 5.23C15.84 5.23 12 2 12 2C12 2 8.15996 5.23 4.23996 5.23C4.23996 5.23 1.86996 16.99 12 22C22.13 16.99 19.76 5.23 19.76 5.23Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 16H12"></path></svg></span><p class="custom-quote-title">注意</p><p><p>下载了checkpoint模型文件之后要把它放到ComfyUI的models&#x2F;checkpoint文件夹下<br><img src="https://s2.loli.net/2024/11/06/oQbTdtxEJycFI47.png" alt=" 2024-11-06 174946.png"></p></div><h4 id="controlnet模型"><a href="#controlnet模型" class="headerlink" title="controlnet模型"></a>controlnet模型</h4><p>ControlNet是一个控制预训练图像扩散模型（例如 Stable Diffusion）的神经网络。它允许输入调节图像，然后使用该调节图像来操控图像生成。能干的事情很多，想详细了解可以看这篇<a href="https://blog.csdn.net/jarodyv/article/details/132739842">blog</a><br><img src="https://s2.loli.net/2024/11/06/pZduGA3MEgjXOkc.png" alt=" 2024-11-06 174108.png"><br><img src="https://s2.loli.net/2024/11/06/oQszUPBmIG4KCOw.png" alt=" 2024-11-06 174051.png"><br>这两个网络是SD1.5的控制生成二维码的控制模型</p><div class="custom-quote danger"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M19.76 5.23C15.84 5.23 12 2 12 2C12 2 8.15996 5.23 4.23996 5.23C4.23996 5.23 1.86996 16.99 12 22C22.13 16.99 19.76 5.23 19.76 5.23Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 16H12"></path></svg></span><p class="custom-quote-title">注意</p><p>下载了controlnet模型文件之后要把它放到ComfyUI的models&#x2F;controlnet文件夹下<br><img src="https://s2.loli.net/2024/11/06/1rKJ3FfDxVOcEsi.png" alt=" 2024-11-06 174928.png"></div><h3 id="搭建工作流"><a href="#搭建工作流" class="headerlink" title="搭建工作流"></a>搭建工作流</h3><p><a href="https://pan.baidu.com/s/1DpurBvTb8GbpkIOCve7wsw?pwd=utkh">参考工作流</a></p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">大概流程就是</p><p><ol><li>读取二维码图像，写prompt</li><li>送入controlnet控制生成</li><li>送入checkpoint第一次生成512x512的粗图</li><li>读取人脸做精修</li><li>生成图像超分放大</li></ol></p></div><p><img src="https://s2.loli.net/2024/11/06/TcZjNqxvWOSV3fl.png" alt=" 2024-11-06 170600.png"></p><h3 id="生图结果展示"><a href="#生图结果展示" class="headerlink" title="生图结果展示"></a>生图结果展示</h3><div align=center><img src="https://github.com/Yesord/My-Image-Bed/raw/main/QRcode/ComfyUI_00196_.png" width="500"></div><details class="custom-details"><summary>show more</summary><p><div align=center><img src="https://github.com/Yesord/My-Image-Bed/raw/main/QRcode/ComfyUI_00081.png" width="500"></div><hr><div align=center><img src="https://github.com/Yesord/My-Image-Bed/raw/main/QRcode/ComfyUI_00135_.png" width="500"></div><hr><div align=center><img src="https://github.com/Yesord/My-Image-Bed/raw/main/QRcode/ComfyUI_00147_.png" width="500"></div><hr><div align=center><img src="https://github.com/Yesord/My-Image-Bed/raw/main/QRcode/ComfyUI_00148_.png" width="500"></div><hr><div align=center><img src="https://github.com/Yesord/My-Image-Bed/raw/main/QRcode/ComfyUI_00157_.png" width="500"></div><hr><div align=center><img src="https://github.com/Yesord/My-Image-Bed/raw/main/QRcode/ComfyUI_00186_.png" width="500"></div><hr><div align=center><img src="https://github.com/Yesord/My-Image-Bed/raw/main/QRcode/ComfyUI_00194_.png" width="500"></div></p></details><div class="custom-quote danger"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M19.76 5.23C15.84 5.23 12 2 12 2C12 2 8.15996 5.23 4.23996 5.23C4.23996 5.23 1.86996 16.99 12 22C22.13 16.99 19.76 5.23 19.76 5.23Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 16H12"></path></svg></span><p class="custom-quote-title">WARNING</p><p>刚把json文件导入ComfyUI可能会看到很多的节点缺失，ComfyUI是提供了一键安装的选项，只要直接安装等待安装结束重启ComfyUI即可使用。</p></div><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>ComfyUI还挺好玩的吧</p><details class="custom-details"><summary>嗨害嗨</summary><p><p>其实这篇blog的封面就是MeinaMix生成的哦</p></p></details>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;我在2022年就有在关注ai绘画领域，当时stable diffusion算刚刚出圈，现在flux都出来了，sd都更到SDXL了。ai绘画基</summary>
      
    
    
    
    <category term="AI art" scheme="http://example.com/categories/AI-art/"/>
    
    
    <category term="Meinamix" scheme="http://example.com/tags/Meinamix/"/>
    
    <category term="ComfyUI" scheme="http://example.com/tags/ComfyUI/"/>
    
  </entry>
  
  <entry>
    <title>朴素贝叶斯-邮件分类编程实践</title>
    <link href="http://example.com/post/%E6%9C%B4%E7%B4%A0%E8%B4%9D%E5%8F%B6%E6%96%AF-%E9%82%AE%E4%BB%B6%E5%88%86%E7%B1%BB%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5.html"/>
    <id>http://example.com/post/%E6%9C%B4%E7%B4%A0%E8%B4%9D%E5%8F%B6%E6%96%AF-%E9%82%AE%E4%BB%B6%E5%88%86%E7%B1%BB%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5.html</id>
    <published>2024-10-06T14:34:15.000Z</published>
    <updated>2024-11-13T14:27:31.953Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本项目是基于朴素贝叶斯算法的侮辱性和非侮辱性邮件分类，使用的编程语言是python，是笔者在校系统性学习机器学习的课程小项目。</p><h1 id="项目前置"><a href="#项目前置" class="headerlink" title="项目前置"></a>项目前置</h1><h2 id="python-版本要求"><a href="#python-版本要求" class="headerlink" title="python 版本要求"></a>python 版本要求</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>python&gt;&#x3D;3.10</p></div><h2 id="库依赖要求"><a href="#库依赖要求" class="headerlink" title="库依赖要求"></a>库依赖要求</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">数据处理</p><p><p>numpy &lt;&#x3D; 1.26.4<br>pandas</p></p></div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">Google API</p><p>google-auth-oauthlib<br>google-auth-httplib2<br>google-api-python-client</p></div><h1 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h1><h2 id="工程框架"><a href="#工程框架" class="headerlink" title="工程框架"></a>工程框架</h2><p><img src="https://s2.loli.net/2024/10/06/zPHyjZka47L8epl.png" alt=" 2024-10-06 132052.png"></p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p><p><strong>App</strong>:存放用户代码，包括训练脚本train和测试脚本test<br><strong>data</strong>:存放数据文件，包括数据集、OAuth登录令牌<br><strong>utils</strong>:存放工具集，包括gmail工具、数据准备工具、朴素贝叶斯类<br><strong>model</strong>:存放模型参数文件，贝叶斯模型参数</p></div><p>本项目的工程文件已上传<a href="https://github.com/Yesord/NB_gmail_auto_classification">GitHub</a></p><h2 id="朴素贝叶斯类实现"><a href="#朴素贝叶斯类实现" class="headerlink" title="朴素贝叶斯类实现"></a>朴素贝叶斯类实现</h2><p>朴素贝叶斯算法基于贝叶斯定理，通过计算先验概率和后验概率来进行分类。在处理文本数据时，将邮件内容中的每个词视为特征，利用频率来估计条件概率。这种方法简单但有效，尤其适合文本分类任务。</p><p><img src="https://s2.loli.net/2024/10/06/7OJL9tqdSNjXh3l.png" alt=" 2024-10-06 132543.png"></p><h2 id="详细公式"><a href="#详细公式" class="headerlink" title="详细公式"></a>详细公式</h2><ol><li>计算侮辱邮件的<strong>先验概率</strong><br><img src="https://s2.loli.net/2024/10/06/NugEsozV13JDhOM.png" alt=" 2024-10-06 151304.png"></li><li>计算侮辱邮件条件下每个词的<strong>后验概率</strong><br><img src="https://s2.loli.net/2024/10/06/cow29KXWFaATIGE.png" alt=" 2024-10-06 151336.png"></li><li>计算得分<br><img src="https://s2.loli.net/2024/10/06/yXLScx7BuoHO5FZ.png" alt=" 2024-10-06 151343.png"></li><li>计算准确率<br><img src="https://s2.loli.net/2024/10/06/APHE582nLbU6N4j.png" alt=" 2024-10-06 151352.png"></li></ol><h2 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h2><h3 id="训练步骤"><a href="#训练步骤" class="headerlink" title="训练步骤"></a>训练步骤</h3><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p><strong>STEP1</strong>: 对分类器进行初始化，将每个类别的先验概率、存储每个类别下每个词的条件概率、词汇表、侮辱非侮辱类别标签进行初始化。<br><strong>STEP2</strong>: 遍历所有的邮件，将侮辱邮件的先验概率计算出来。<br><strong>STEP3</strong>: 根据邮件的词语使用，将词语记录到词库之中，并对每个词出现的频率进行统计得到训练集侮辱或非侮辱邮件条件下每个词出现的数量。<br><strong>STEP4</strong>: 得到每个词在侮辱或非侮辱邮件条件下的后验概率。<br><strong>STEP5</strong>: 所有邮件遍历完成之后保存模型参数。</p></div><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">train</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">training_set</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 训练分类器</span></span><span class="line"><span style="color: #BABED8">        class_counts </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;&#125;</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 存储每个类别的文档数量</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> doc</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> label </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> training_set</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> label </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">in</span><span style="color: #BABED8"> class_counts</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                class_counts</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">label</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">            class_counts</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">label</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> word </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> doc</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> word </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">in</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">vocabulary</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                    self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">vocabulary</span><span style="color: #89DDFF">[</span><span style="color: #F07178">word</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">spam</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">ham</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> label </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">0</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 假设 &#39;0&#39; 表示垃圾邮件</span></span><span class="line"><span style="color: #BABED8">                    self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">vocabulary</span><span style="color: #89DDFF">[</span><span style="color: #F07178">word</span><span style="color: #89DDFF">][</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">spam</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 假设 &#39;1&#39; 表示非垃圾邮件</span></span><span class="line"><span style="color: #BABED8">                    self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">vocabulary</span><span style="color: #89DDFF">[</span><span style="color: #F07178">word</span><span style="color: #89DDFF">][</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">ham</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">        self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">class_labels</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">list</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">class_counts</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">keys</span><span style="color: #89DDFF">())</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 获取所有类别标签</span></span><span class="line"><span style="color: #BABED8">        num_docs </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">training_set</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 总文档数量</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> label</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> count </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> class_counts</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">items</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">            self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">class_priors</span><span style="color: #89DDFF">[</span><span style="color: #F07178">label</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> count </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> num_docs  </span><span style="color: #676E95; font-style: italic"># 计算先验概率</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 计算后验概率</span></span><span class="line"><span style="color: #BABED8">        word_counts </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">label</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;&#125;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> label </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">class_labels</span><span style="color: #89DDFF">&#125;</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 初始化词频统计</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> word</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> counts </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">vocabulary</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">items</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">            word_counts</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">0</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">word</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> counts</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">spam</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">            word_counts</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">1</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">word</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> counts</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">ham</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> label </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">class_labels</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            total_count </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">sum</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">word_counts</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">label</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">values</span><span style="color: #89DDFF">())</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 计算总词数</span></span><span class="line"><span style="color: #BABED8">            self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">conditional_prob</span><span style="color: #89DDFF">[</span><span style="color: #F07178">label</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> word </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">vocabulary</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                count </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> word_counts</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">label</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">get</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">word</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #676E95; font-style: italic"># 使用拉普拉斯平滑</span></span><span class="line"><span style="color: #BABED8">                self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">conditional_prob</span><span style="color: #89DDFF">[</span><span style="color: #F07178">label</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">word</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">count </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">alpha</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">total_count </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">alpha</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">vocabulary</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">        self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">save_model</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">model_path</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">训练完成.</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span></code></pre></div><h2 id="预测"><a href="#预测" class="headerlink" title="预测"></a>预测</h2><h3 id="预测步骤"><a href="#预测步骤" class="headerlink" title="预测步骤"></a>预测步骤</h3><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p><strong>STEP1</strong>: 获取训练得到的先验概率。<br><strong>STEP2</strong>: 遍历侮辱与非侮辱条件下的每个词，获得其后验概率，并与先验结合得到得分。<br><strong>STEP3</strong>: 根据得分结果，对邮件是否为侮辱邮件进行分类。</p></div><h3 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h3><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">predict</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">docs</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 预测文档的类别</span></span><span class="line"><span style="color: #BABED8">        predictions </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> doc </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> docs</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">     </span></span><span class="line"><span style="color: #BABED8">            scores </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">label</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">log</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">class_priors</span><span style="color: #89DDFF">[</span><span style="color: #F07178">label</span><span style="color: #89DDFF">])</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> label </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">class_labels</span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> label </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">class_labels</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> word </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> doc</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> word </span><span style="color: #89DDFF">in</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">vocabulary</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                        scores</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">label</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">log</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">conditional_prob</span><span style="color: #89DDFF">[</span><span style="color: #F07178">label</span><span style="color: #89DDFF">][</span><span style="color: #82AAFF">word</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #676E95; font-style: italic"># 对于没见过的词，使用拉普拉斯平滑</span></span><span class="line"><span style="color: #BABED8">                        scores</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">label</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">log</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">alpha</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">alpha</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> len</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">vocabulary</span><span style="color: #89DDFF">)))</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 将对数概率转换为实际概率</span></span><span class="line"><span style="color: #BABED8">            max_log_score </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">max</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">scores</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">values</span><span style="color: #89DDFF">())</span></span><span class="line"><span style="color: #BABED8">            exp_scores </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">label</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">exp</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">score </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> max_log_score</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> label</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> score </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> scores</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">items</span><span style="color: #89DDFF">()&#125;</span></span><span class="line"><span style="color: #BABED8">            total_exp_scores </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">sum</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">exp_scores</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">values</span><span style="color: #89DDFF">())</span></span><span class="line"><span style="color: #BABED8">            probabilities </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #BABED8">label</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> exp_score </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> total_exp_scores </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> label</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> exp_score </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> exp_scores</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">items</span><span style="color: #89DDFF">()&#125;</span></span><span class="line"><span style="color: #BABED8">            prediction </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">max</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">probabilities</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">key</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">scores</span><span style="color: #89DDFF">.</span><span style="color: #F07178">get</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 选择概率最大的类别作为预测结果</span></span><span class="line"><span style="color: #BABED8">            predictions</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">prediction</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> predictions</span></span></code></pre></div><h2 id="评估"><a href="#评估" class="headerlink" title="评估"></a>评估</h2><h3 id="评估步骤"><a href="#评估步骤" class="headerlink" title="评估步骤"></a>评估步骤</h3><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p><strong>STEP1</strong>: 对测试集进行预测。<br><strong>STEP2</strong>: 计算准确率。</p></div><h3 id="代码实现-2"><a href="#代码实现-2" class="headerlink" title="代码实现"></a>代码实现</h3><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">evaluate</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">test_set</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 评估分类器的性能</span></span><span class="line"><span style="color: #BABED8">        predictions </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">predict</span><span style="color: #89DDFF">([</span><span style="color: #82AAFF">doc </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> doc</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> label </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> test_set</span><span style="color: #89DDFF">])</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 对测试集进行预测</span></span><span class="line"><span style="color: #BABED8">        correct </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">sum</span><span style="color: #89DDFF">([</span><span style="color: #82AAFF">label </span><span style="color: #89DDFF">==</span><span style="color: #82AAFF"> pred </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">doc</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> label</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> pred </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> zip</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">test_set</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> predictions</span><span style="color: #89DDFF">)])</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 计算正确预测的数量</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> correct </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">test_set</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 返回准确率</span></span></code></pre></div><h2 id="数据处理工具实现"><a href="#数据处理工具实现" class="headerlink" title="数据处理工具实现"></a>数据处理工具实现</h2><p>在处理邮件数据时，数据的清洗和预处理至关重要。通过将邮件内容拆分为标签和文本，并进一步拆分为词，能够有效地构建训练集和测试集，为后续的模型训练提供基础</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>我们使用的数据集：<br>训练集为<strong>spam_train.txt</strong>，包含5000封邮件（txt 5000行）；<br>测试集为<strong>spam_test.txt</strong>（txt 1000行），包含1000封邮件，其中侮辱类邮件行首用0标识，非侮辱类邮件行首用1标识。</p></div><p>首先，根据提供的数据集格式为.txt，同时可以得到数据集内部数据的格式为<br><img src="https://s2.loli.net/2024/10/06/3YipcwvuGCrsgDW.png" alt=" 2024-10-06 151950.png"><br><strong>label</strong>为<strong>0</strong>表示<strong>侮辱邮件</strong>，<strong>label</strong>为<strong>1</strong>表示<strong>非侮辱邮件</strong>，<strong>Text</strong>每个词之间以<strong>空格</strong>隔开。</p><h3 id="处理步骤"><a href="#处理步骤" class="headerlink" title="处理步骤"></a>处理步骤</h3><p>因此处理步骤可分为以下4步</p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p><strong>STEP1</strong>: 读取数据集的.txt的每一行<br><strong>STEP2</strong>: 检索第一个空格，将label和Text拆分，label存入标签列表里。<br><strong>STEP3</strong>: 遍历剩余的每个空格，将Text里的词进行拆分，将词存入数据列表里。<br><strong>STEP4</strong>: 遍历完每一行之后输出标签列表和数据列表。</p></div><p>注：标签列表存的是数据集每封邮件是否是侮辱邮件的标签，数据列表存的是数据集每封邮件的内容，是以每邮件每词进行拆分的二维列表。</p><h3 id="代码实现-3"><a href="#代码实现-3" class="headerlink" title="代码实现"></a>代码实现</h3><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">load_data</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">try</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        train_labels</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> train_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">_split_data_form_txt</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">train_data_path</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        test_labels</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> test_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">_split_data_form_txt</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">test_data_path</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">except</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">FileNotFoundError</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">The data files are not found. Please check the data directory.</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> train_labels</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> train_data</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> test_labels</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> test_data</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">_split_data_form_txt</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">data_path</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    labels </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">    data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">with</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">open</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">data_path</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">r</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">encoding</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">utf-8</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> file</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 读取数据</span></span><span class="line"><span style="color: #BABED8">        lines </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> file</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">readlines</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> line </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> lines</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        split_line </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> line</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">strip</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">split</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        labels</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">split_line</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">        data</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">split_line</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">split</span><span style="color: #89DDFF">())</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> labels</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> data</span></span></code></pre></div><h2 id="Gmail工具实现"><a href="#Gmail工具实现" class="headerlink" title="Gmail工具实现"></a>Gmail工具实现</h2><p>在访问 Gmail API 时，由于需要设置 OAuth2.0 认证以及代理的使用，我遇到了一些配置上的困难。通过查阅文档和进行调试，最终成功实现了邮件的读取和分类</p><p><img src="https://s2.loli.net/2024/10/06/EVUOC5aiTlWhbXL.png" alt=" 2024-10-06 013453.png"></p><h3 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h3><p>首先在Google Cloud上创建项目</p><details class="custom-details"><summary>Details</summary><p><img src="https://s2.loli.net/2024/10/06/xPsX7l13ASW82Cc.png" alt=" 2024-10-04 214011.png"><br><img src="https://s2.loli.net/2024/10/06/dSkDY91lAUOmtfJ.png" alt=" 2024-10-04 214104.png"></details><p>并开启Gmail API的调用权限与服务</p><details class="custom-details"><summary>Details</summary><p><p><img src="https://s2.loli.net/2024/10/06/r1O2w4naZkIyUxJ.png" alt=" 2024-10-04 214120.png"><br><img src="https://s2.loli.net/2024/10/06/Z92ImpXiFs6JrlO.png" alt=" 2024-10-04 214146.png"></p></p></details><p>将OAuth2.0客户端ID密钥等详细信息保存到本地pickle文件，并通过这些信息连接到Google Cloud上的项目，开始调用Gmail API，对Gmail邮件进行读取等操作。</p><details class="custom-details"><summary>客户端打开如图</summary><p><img src="https://s2.loli.net/2024/10/06/W4HbZ2rcR5und3S.png" alt=" 2024-10-06 152633.png"></p></details><h3 id="部分代码"><a href="#部分代码" class="headerlink" title="部分代码"></a>部分代码</h3><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> pickle</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> google_auth_oauthlib</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">flow </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> InstalledAppFlow</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> googleapiclient</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">discovery </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> build</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> google</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">auth</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">transport</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">requests </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> Request</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> email</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">mime</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">text </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> MIMEText</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic">#如果修改了这些作用域，删除token.pickle文件。</span></span><span class="line"><span style="color: #BABED8">SCOPES </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">https://www.googleapis.com/auth/gmail.modify</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 设置代理 需要设置不然中国大陆无法访问google邮箱</span></span><span class="line"><span style="color: #BABED8">os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">environ</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">HTTP_PROXY</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">http://127.0.0.1:7890</span><span style="color: #89DDFF">&#39;</span></span><span class="line"><span style="color: #BABED8">os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">environ</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">HTTPS_PROXY</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">http://127.0.0.1:7890</span><span style="color: #89DDFF">&#39;</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">get_gmail_service</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">    creds </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># token.pickle文件存储了用户的访问和刷新令牌</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">exists</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">token_path</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">with</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">open</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">token_path</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">rb</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> token</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            creds </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> pickle</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">load</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">token</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Loaded token</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 如果没有有效的凭证，让用户登录</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> creds </span><span style="color: #89DDFF">or</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> creds</span><span style="color: #89DDFF">.</span><span style="color: #F07178">valid</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> creds </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> creds</span><span style="color: #89DDFF">.</span><span style="color: #F07178">expired</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> creds</span><span style="color: #89DDFF">.</span><span style="color: #F07178">refresh_token</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            creds</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">refresh</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">Request</span><span style="color: #89DDFF">())</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">Refreshed token</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            flow </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> InstalledAppFlow</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">from_client_secrets_file</span><span style="color: #89DDFF">(</span></span><span class="line"><span style="color: #82AAFF">                json_path</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> SCOPES</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            creds </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> flow</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">run_local_server</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">port</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">12345</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">New token</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 保存凭证以供下次运行使用</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">with</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">open</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">token_path</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">wb</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> token</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            pickle</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dump</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">creds</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> token</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">read_messages</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">service</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">user_id</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">me</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">label_ids</span><span style="color: #89DDFF">=[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">INBOX</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">max_results</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">is_print</span><span style="color: #89DDFF">=False):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">try</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        msg_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">        messages </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> service</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">users</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">messages</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">list</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">userId</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">user_id</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span></span><span class="line"><span style="color: #82AAFF">                                                   </span><span style="color: #BABED8; font-style: italic">labelIds</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">label_ids</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span></span><span class="line"><span style="color: #82AAFF">                                                   </span><span style="color: #BABED8; font-style: italic">maxResults</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">max_results</span><span style="color: #89DDFF">).</span><span style="color: #82AAFF">execute</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> message </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> messages</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">messages</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]:</span></span><span class="line"><span style="color: #BABED8">            msg </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> service</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">users</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">messages</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">get</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">userId</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">user_id</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">id</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">message</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">id</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]).</span><span style="color: #82AAFF">execute</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> is_print</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;Subject: </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">_get_subject</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">msg</span><span style="color: #89DDFF">)</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;From: </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">_get_sender</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">msg</span><span style="color: #89DDFF">)</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;Snippet: </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">msg</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">snippet</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #BABED8">\n</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            msg_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">msg</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> msg_list</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">except</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">Exception</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> error</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;An error occurred: </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">error</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">send_message</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">service</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">user_id</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">subject</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">body</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">to</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    message </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">MIMEText</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">body</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    message</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">to</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> to</span></span><span class="line"><span style="color: #BABED8">    message</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">subject</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> subject</span></span><span class="line"><span style="color: #BABED8">    raw_message </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> base64</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">urlsafe_b64encode</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">message</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">as_bytes</span><span style="color: #89DDFF">()).</span><span style="color: #82AAFF">decode</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">utf-8</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">try</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        message </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> service</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">users</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">messages</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">send</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">userId</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">user_id</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">body</span><span style="color: #89DDFF">=&#123;</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">raw</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">:</span><span style="color: #82AAFF"> raw_message</span><span style="color: #89DDFF">&#125;).</span><span style="color: #82AAFF">execute</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;Message Id: </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">message</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">id</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> message</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">except</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">Exception</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> error</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;An error occurred: </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">error</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span></code></pre></div><h1 id="测试结果"><a href="#测试结果" class="headerlink" title="测试结果"></a>测试结果</h1><h2 id="测试集准确率"><a href="#测试集准确率" class="headerlink" title="测试集准确率"></a>测试集准确率</h2><p>运行<strong>train.py</strong>脚本可以得到测试集的准确率为 <strong>97.4%</strong> 。说明该朴素贝叶斯分类器在测试集上的分类表现良好，能够正确分类大多数测试样本。</p><h2 id="实际邮件的预测效果"><a href="#实际邮件的预测效果" class="headerlink" title="实际邮件的预测效果"></a>实际邮件的预测效果</h2><p>手动输入文本</p><details class="custom-details"><summary>Details</summary><p><p><img src="https://s2.loli.net/2024/10/06/6HXOh8g4QTnUjEF.png" alt=" 2024-10-06 134754.png"><br><img src="https://s2.loli.net/2024/10/06/dchTfroEq2C5R46.png" alt=" 2024-10-06 134858.png"><br><img src="https://s2.loli.net/2024/10/06/4snGkbvSAdTBu6E.png" alt=" 2024-10-06 134728.png"></p></p></details><p>先验概率是从模型计算分数并进行归一化得到的。该朴素贝叶斯分类器能简单的根据邮件的内容（例如“love”“stupid”之类的词）进行侮辱邮件的分类。简单邮件的分类表现不错。</p><h2 id="从Gmail获取最近的一封邮件"><a href="#从Gmail获取最近的一封邮件" class="headerlink" title="从Gmail获取最近的一封邮件"></a>从Gmail获取最近的一封邮件</h2><details class="custom-details"><summary>Details</summary><p><img src="https://s2.loli.net/2024/10/06/Ukgc9IZveF6W3Bl.png" alt=" 2024-10-06 135334.png"><br><img src="https://s2.loli.net/2024/10/06/ePY4VhG81ZF9gEy.png" alt=" 2024-10-06 134948.png"></p></details><p>运行<strong>test.py</strong>脚本能有效地读出测试gmail邮箱中邮件的信息并进行是否为侮辱邮件的简单判断。但是实际效果还是不太好，可能是由于数据集数据量或数据质量受限。</p><h1 id="心得与体会"><a href="#心得与体会" class="headerlink" title="心得与体会"></a>心得与体会</h1><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>在本次项目中，我深入学习和应用了朴素贝叶斯算法进行邮件分类，主要针对侮辱性和非侮辱性邮件的识别。这一过程让我对贝叶斯的基本原理有了更深刻的理解，尤其是在文本分类方面的应用。在未来的学习中，我希望能继续深化对机器学习算法的理解，并尝试更复杂的模型和数据集。</p></div><h2 id="改进方向"><a href="#改进方向" class="headerlink" title="改进方向"></a>改进方向</h2><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>在实际应用中，数据集的质量直接影响到模型的效果。虽然使用了5000封邮件进行训练，但数据的多样性和标签的准确性仍需要关注。在特征提取方面，可以使用一些技巧去提取关键词，而不是将所有词都作为词库，这样在关键词上的处理可以提高模型的表现。在之后的学习可以学到更多的机器学习算法，可以尝试使用它们来对比朴素贝叶斯算法的效果，看看是否能进一步提高分类准确率。</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;本项目是基于朴素贝叶斯算法的侮辱性和非侮辱性邮件分类，使用的编程语言是python，是笔者在校系统性学习机器学习的课程小项目。&lt;/p&gt;
&lt;h</summary>
      
    
    
    
    <category term="MashineLearning" scheme="http://example.com/categories/MashineLearning/"/>
    
    
    <category term="python" scheme="http://example.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>python环境搭建</title>
    <link href="http://example.com/post/python%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html"/>
    <id>http://example.com/post/python%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html</id>
    <published>2024-09-09T14:55:02.000Z</published>
    <updated>2025-04-15T14:05:39.069Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>作为工科生，环境搭建是必不可少的一种能力，学会环境搭建是小白步向菜鸟的第一步。python是一门相对较新的语言，我记得在我读中学的时候这个时候python还没出3，当时懵懵懂懂的，听网上的言论，感觉python是一个和basic、scratch一样的新手入门级编程语言，但实际上python是一个很好用的编程语言，突出一个生态多库多能实现的功能很多涉及的领域也很多，像是网络爬虫、神经网络、软件自动化甚至是硬件操控都可以，感兴趣的话可以去多多了解一下，话不多说，我们准备开始了。</p><p><img src="https://s2.loli.net/2024/09/09/rd4Zl8faYPs2QHR.gif" alt="43b4e7d65202153b8fe3e02e03e369cb.gif"></p><h1 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h1><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">方案一：Anaconda + Visual Studio Code</p><p>Anaconda是一个python多功能工具箱</p><p>就像手机的应用商店，Anaconda提供了一个集成的环境，可以轻松安装、更新和管理各种Python库和工具。你只需通过简单的命令，就能获取你需要的应用（库），让开发和分析变得简单。</p><p>Visual Studio Code是一个代码编辑器（之后简称Vscode）</p><p>VSCode就像一把瑞士军刀，集成了多种工具和功能。无论你需要剪刀、螺丝刀还是开瓶器，VSCode都能满足你的需求。它支持多种编程语言、调试工具和插件，让你在同一个环境中完成各种任务。</p></div><p><em>方案二pycharm之后有机会再做吧</em></p><h1 id="Anaconda配置"><a href="#Anaconda配置" class="headerlink" title="Anaconda配置"></a>Anaconda配置</h1><h2 id="windows端"><a href="#windows端" class="headerlink" title="windows端"></a>windows端</h2><h3 id="Anaconda安装"><a href="#Anaconda安装" class="headerlink" title="Anaconda安装"></a>Anaconda安装</h3><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">Anaconda官网</p><p><p><a href="https://www.anaconda.com/download">Anaconda官网</a></p></p></div><p><strong>STEP1</strong> 点击这个 skip registration 跳过注册</p><p><img src="https://s2.loli.net/2024/09/09/JA8wzR69ZMGcNxy.png" alt=" 2024-09-09 104505.png"></p><p><strong>STEP2</strong> 进入下载界面点击Downlaod</p><p><img src="https://s2.loli.net/2024/09/09/iFXnACtUMY9HeQR.png" alt=" 2024-09-09 102852.png"></p><div class="custom-quote danger"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M19.76 5.23C15.84 5.23 12 2 12 2C12 2 8.15996 5.23 4.23996 5.23C4.23996 5.23 1.86996 16.99 12 22C22.13 16.99 19.76 5.23 19.76 5.23Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 16H12"></path></svg></span><p class="custom-quote-title">注意</p><ol><li>Anaconda占用的存储空间比较大，尽量不要下到C盘，如果分了很多个盘的话。不然你的C盘很快就要红温了。</li><li>需要记住Anaconda的安装路径，之后步骤需要使用</li></ol></div><p><strong>STEP3</strong> 正常下载完成会让你打开Anaconda Navigator，暂时不用管它，右上角关闭，我们这个教程不会使用到，感兴趣我之后可以再做。</p><p><img src="https://s2.loli.net/2024/09/09/BZIW5iEebuDzhFT.png" alt=" 2024-09-09 105536.png"></p><p><em>至此Anaconda下载完毕！</em></p><h3 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><p>安装完毕后我们要开始配置环境变量了</p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">环境变量是个啥</p><p><p>当你在厨房做饭时，你需要各种调料（盐、糖、酱油等）。这些调料放在一个固定的地方（调料架）上，方便你随时取用。环境变量就像是这个调料架，存放着各种系统和应用程序需要的配置信息，方便程序随时读取。</p></p></div><p><strong>STEP1</strong> 找到你windows的开始键，按下进入搜索，搜索环境变量，点击“编辑系统环境变量”</p><p><img src="https://s2.loli.net/2024/09/09/UlIP8hGsvqQOg9R.png" alt=" 2024-09-09 104839.png"></p><p><strong>STEP2</strong> 先按下“path”，再点击“编辑”，进入配置环境变量路径的列表</p><p><img src="https://s2.loli.net/2024/09/09/q5nopzw2xYEQU1M.png" alt=" 2024-09-09 110751.png"></p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>配置环境变量路径的列表如下图所示</p><p><img src="https://s2.loli.net/2024/09/09/j4x8e5fodFt3nAR.png" alt=" 2024-09-09 111038.png"></p><p>双击已有的就可以修改已有的环境变量，双击空白列表处就可以添加新的环境变量</p></div><p><strong>STEP3</strong> 需要去Anaconda的安装路径下找到图中的三个文件夹，并将它们加入环境变量路径列表中</p><p><img src="https://s2.loli.net/2024/09/09/PdHrJpjcAweMxhz.png" alt=" 2024-09-09 103543.png"></p><p><em>至此环境变量配置完毕！</em></p><h3 id="创建环境"><a href="#创建环境" class="headerlink" title="创建环境"></a>创建环境</h3><p><strong>STEP1</strong> 打开Anaconda Prompt</p><p><img src="https://s2.loli.net/2024/09/09/HJvhu3OWVQ9oRiK.png" alt=" 2024-09-09 112140.png"></p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">打开的命令行界面如图所示</p><p><p><img src="https://s2.loli.net/2024/09/09/ky6rePYLfMHFWdi.png" alt=" 2024-09-09 112337.png"></p><p><strong>(base)</strong> 代表的是你当前所处的虚拟环境，base是基础虚拟环境，是下载anaconda后的默认的虚拟环境。</p></p></div><p>STEP2 创建环境</p><p>在Prompt命令行界面输入如下命令</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">conda</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">create</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-n</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">Env_Name</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">python=</span><span style="color: #F78C6C">3.9</span><span style="color: #BABED8"> </span></span></code></pre></div><p><img src="https://s2.loli.net/2024/09/09/RpJjHVu9sf785Sn.png" alt=" 2024-09-09 113221.png"></p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">conda create 参数解析</p><p><em>-n</em> 代表取名 <em>Env_Name</em> 可以换成任意你喜欢的名字，但是得是英文哦<br><em>python&#x3D;3.9</em> 表示该环境预装python3.9</p></div><p>之后命令行打印这个界面按下y就会继续安装</p><p><img src="https://s2.loli.net/2024/09/09/shUlxy7NAKErFG4.png" alt=" 2024-09-09 113423.png"></p><p>命令行打印这些信息就是安装成功啦</p><p><img src="https://s2.loli.net/2024/09/09/gkVQHGqhadrCel9.png" alt=" 2024-09-09 114020.png"></p><p><strong>STEP3</strong> 启动环境</p><p>在Prompt命令行界面输入如下命令</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">conda</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">activate</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">Env_Name</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic">#注意替换Env_Name</span></span></code></pre></div><p>忘了自己刚刚取的环境名字可以输入以下命令查看</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">conda</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">env</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">list</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic">#查看Anaconda的所有环境</span></span></code></pre></div><p>当前路径前面的(base)变成了(Env_Name)就是成功启动环境了</p><p><img src="https://s2.loli.net/2024/09/09/bFTHxzKN1D5vMkR.png" alt=" 2024-09-09 114220.png"></p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">conda activate &amp; conda deactivate</p><p><p><em>conda activate</em> 表示激活环境 后面接你的环境名<br><em>conda deactivate</em> 表示退出环境 后面接你的环境名</p></p></div><p><em>至此创建环境完毕！</em></p><h2 id="Mac端"><a href="#Mac端" class="headerlink" title="Mac端"></a>Mac端</h2><h3 id="Anaconda安装-1"><a href="#Anaconda安装-1" class="headerlink" title="Anaconda安装"></a>Anaconda安装</h3><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">Anaconda官网</p><p><a href="https://www.anaconda.com/download/success">Anaconda官网</a></p></div><p><strong>STEP1</strong> 去Anaconda官网下载<br><em>注意你的Mac是M系列芯片还是Intel芯片</em></p><p><img src="https://s2.loli.net/2024/09/12/EF9vNIxlA7grVYJ.png" alt="a28849e04ac345658fbc6a6890355a2.png"></p><p><strong>STEP2</strong> “Download”里打开安装包</p><p><img src="https://s2.loli.net/2024/09/12/QX8F6cLi95RjhpI.png" alt="c5b3c6ffdc3a7075d1a6cc8c0188701.png"></p><p><strong>STEP3</strong> 一路点击继续，等待安装结束</p><p><img src="https://s2.loli.net/2024/09/12/tZCaHfEp5eR8rbw.png" alt="79ff170918a337b2f5bfd18c00e0d9a.png"></p><details class="custom-details"><summary>Click to see more</summary><p>整个安装流程是往你的用户路径下的.zshrc和.bash_profile文件里写conda的环境变量，可以通过以下命令去终端查看究竟往这两个用户配置文件里面写了什么。</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">nano</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">~/.zshrc</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 查看.zshrc的内容</span></span><span class="line"><span style="color: #FFCB6B">nano</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">~/.bash_profile</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 查看.bash_profile的内容</span></span></code></pre></div><p>环境变量大概如图所示</p><p><img src="https://s2.loli.net/2024/09/12/nDyHYa1rNRqj3Pk.png" alt="a4a865e97a5ddfe92eec6af8d5aa0eb.png"></p><p>所以使用安装包安装anaconda不需要自己配置anaconda的环境变量，但如果以后要移动anaconda文件夹的位置就需要去重写环境变量</p></p></details><p>STEP3 打开你的终端，如果工作目录前面出现(base)即是安装成功</p><p><img src="https://s2.loli.net/2024/09/12/9REe1s6icrHup8t.png" alt="e3a2b66b49df107e36460c84ae27698.png"></p><p><em>至此Anaconda安装完毕！</em></p><h3 id="创建环境-1"><a href="#创建环境-1" class="headerlink" title="创建环境"></a>创建环境</h3><p>操作与windows端一致，在终端进行即可。</p><h2 id="Linux端"><a href="#Linux端" class="headerlink" title="Linux端"></a>Linux端</h2><p>使用 Linux 操作系统一般要熟悉命令行操作，如果你用的是有 desktop 的 Linux 请按下你键盘上的  Ctrl + Alt + T 打开终端，咱们不要当用可视化界面的懦夫，要成为用命令行的强者，在不懂计算机的同学面前秀上一把。</p><h3 id="下载-miniconda"><a href="#下载-miniconda" class="headerlink" title="下载 miniconda"></a>下载 miniconda</h3><p>一般对于我们不搞服务器的、不做大数据计算的, 用 Linux 大多是为了 嵌入式Linux，这边就建议下载一个轻量化的 Anaconda —— miniconda ，不然你那小小的 32G 身板可顶不住 anaconda 的存储空间冲击。</p><p>在命令行中输入下面的命令，下载 miniconda 安装的 shell 脚本</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">wget</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span></span><span class="line"></span></code></pre></div><p>阅读并接受许可协议，选择安装位置，设置环境变量等等…自个用不用管这些。<br>默认情况的话：阅读协议，按空格跳到最下面，输入yes；</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">Do</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">you</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">accept</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">the</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">license</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">terms?</span><span style="color: #BABED8"> [yes</span><span style="color: #89DDFF">|</span><span style="color: #FFCB6B">no]</span></span><span class="line"></span><span class="line"><span style="color: #FFCB6B">yes</span></span><span class="line"></span></code></pre></div><p>默认安装位置，一直按回车；</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #BABED8"> </span><span style="color: #FFCB6B">installation</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">finished.</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">Do</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">you</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">wish</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">the</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">installer</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">to</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">initialize</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">Miniconda3</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">by</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">running</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">conda</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">init?</span></span><span class="line"><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">yes</span><span style="color: #89DDFF">|</span><span style="color: #BABED8">no</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">no</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> &gt;&gt;&gt; </span><span style="color: #FFCB6B">yes</span></span></code></pre></div><p>接着要 source 一下 .bashrc 应用环境变量激活 conda，重启也行（如果你愿意的话）</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #82AAFF">source</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">~/.bashrc</span></span></code></pre></div><p>激活后可以看到启动了 base 环境，此时conda 命令也可以用了。</p><p>查看 conda 版本，确认是装上了哈</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">conda</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">--version</span></span></code></pre></div><p><em>至此Anaconda安装完毕！</em></p><h1 id="Vscode配置"><a href="#Vscode配置" class="headerlink" title="Vscode配置"></a>Vscode配置</h1><details class="custom-details"><summary>Click to see more</summary><p>Vscode在Mac、Windows、Linux下都差不多我就不分着写了。</p></details><h2 id="Vscode下载"><a href="#Vscode下载" class="headerlink" title="Vscode下载"></a>Vscode下载</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">Vscode官网</p><p><a href="https://code.visualstudio.com/">Vscode官网</a></p></div><h2 id="扩展推荐"><a href="#扩展推荐" class="headerlink" title="扩展推荐"></a>扩展推荐</h2><details class="custom-details"><summary>Click to see more</summary><p><ol><li>python相关扩展<br><em>没了你别想用Vscode开发python程序</em><br><img src="https://s2.loli.net/2024/09/09/qYb4zI28iCSg3G7.png" alt=" 2024-09-09 115057.png"></li><li>C&#x2F;C++相关扩展<br><em>没了你别想用Vscode开发C&#x2F;C++程序</em><br><img src="https://s2.loli.net/2024/09/09/Cmj9qFNvpURwWGn.png" alt=" 2024-09-09 115113.png"></li><li>Chinese<br><em>好好想想为什么你需要这个插件</em><br><img src="https://s2.loli.net/2024/09/09/9pLOq57JX3yP1Rt.png" alt=" 2024-09-09 115135.png"></li><li>改变图标<br><em>真看不惯vscode的文件图标显示吧</em><br><img src="https://s2.loli.net/2024/09/09/u6agQkVZJGqFI2r.png" alt=" 2024-09-09 115639.png"></li><li>代码补全<br><em>代码补完计划</em><br><img src="https://s2.loli.net/2024/09/12/DYX24GlrvPpi9Su.png" alt=" 2024-09-12 122028.png"></li><li>书签<br><em>给你的bug留个存档点</em><br><img src="https://s2.loli.net/2024/09/12/7jVcx1T4htpPJGN.png" alt=" 2024-09-12 122017.png"></li></ol></p></details><h2 id="尝试Helloworld"><a href="#尝试Helloworld" class="headerlink" title="尝试Helloworld"></a>尝试Helloworld</h2><p><strong>STEP1</strong> 创建Helloworld.py文件，并在工作区打开</p><p><img src="https://s2.loli.net/2024/09/09/w9qDHTFCJy4U782.png" alt=" 2024-09-09 120146.png"></p><p><strong>STEP2</strong> Vscode右下角点击“选择python解释器”</p><p><img src="https://s2.loli.net/2024/09/09/D2eBwOi37zU1sdE.png" alt=" 2024-09-09 120356.png"></p><p><strong>STEP3</strong> 选择你在Anaconda中创建的虚拟环境</p><p><img src="https://s2.loli.net/2024/09/09/KUawREqicuobQ4H.png" alt=" 2024-09-09 120510.png"></p><p><strong>STEP4</strong> Hello,World!<br>在Helloworld.py文件中添加如下代码</p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Hello, World!</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 你好，世界！</span></span></code></pre></div><p><em>至此Vscode配置完毕！</em></p><p>之后这个工作区的python开发就是使用的Anaconda里你创建的虚拟环境<br>安装库什么的就可以在Vscode的终端里进行安装了</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">提一嘴</p><p><strong>python库安装</strong></p><p>使用pip工具在终端进行库安装（以安装numpy为例）</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">pip</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">numpy</span></span></code></pre></div><p><img src="https://s2.loli.net/2024/09/09/GKq6PQYRUlhncSo.png" alt=" 2024-09-09 121451.png"><br>千万要注意你是在哪个环境进行安装的，注意前头的 ( )</p></div><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>恭喜你，已经成功从环境搭建小白进化成菜鸟了！</p><p><img src="https://s2.loli.net/2024/09/09/vwUbFY5sCpgBDNW.gif" alt="7894f6b528cb3d92189949f3e05fd6ff.gif"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;作为工科生，环境搭建是必不可少的一种能力，学会环境搭建是小白步向菜鸟的第一步。python是一门相对较新的语言，我记得在我读中学的时候这个时</summary>
      
    
    
    
    
    <category term="python" scheme="http://example.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>三子棋对弈装置--视觉部分</title>
    <link href="http://example.com/post/%E4%B8%89%E5%AD%90%E6%A3%8B%E5%AF%B9%E5%BC%88%E8%A3%85%E7%BD%AE-%E8%A7%86%E8%A7%89%E9%83%A8%E5%88%86.html"/>
    <id>http://example.com/post/%E4%B8%89%E5%AD%90%E6%A3%8B%E5%AF%B9%E5%BC%88%E8%A3%85%E7%BD%AE-%E8%A7%86%E8%A7%89%E9%83%A8%E5%88%86.html</id>
    <published>2024-08-12T14:55:02.000Z</published>
    <updated>2025-02-17T12:57:37.648Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本篇blog是本人在打2024电赛E题学习到的相关知识的整理，由于我们选择的方案是深度数据和RGB数据融合的方法来判断棋子的位置。不同于大多数人选择的openmv作为视觉传感，所以我觉得在实现思路上会相对不那么随大流一点，当然我也会提供我自己个人的传统RGB 2DV的思路。在此，我仅会提供部分代码以供参考。</p><details class="custom-details"><summary>自我吐槽</summary><p><p>由于当时全心全意在攒这个代码，没去做照片的记录，所以以下很多的代码没有效果图的作证会有点难受，现在真的有点想穿越到那个时候给自己来一巴掌</p></p></details><h1 id="硬件组成"><a href="#硬件组成" class="headerlink" title="硬件组成"></a>硬件组成</h1><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title"> </p><ol><li>processor: jetson nano 4G</li><li>i-TOF camera: orbbec Femto Bolt</li></ol></div><p>我们使用 jetson nano 作为处理器，读取深度相机 Femto Bolt 的视频流并作相应的图像处理，最终将识别出的棋子和棋盘坐标提取出来，通过串口传到下位机MCU进行控制。</p><p><img src="https://s2.loli.net/2024/08/12/D3yRmNcGp8eaCjA.jpg" alt="ae17cee48916bb9df3a982c4661bd58.jpg"></p><hr><h1 id="软件部分"><a href="#软件部分" class="headerlink" title="软件部分"></a>软件部分</h1><p>在 jetson nano 上运行的程序</p><h2 id="数据流获取"><a href="#数据流获取" class="headerlink" title="数据流获取"></a>数据流获取</h2><p>应用奥比中光的orbbecSDK去采深度相机的数据。orbbecSDK的环境配置不过多赘述，不是本篇的重点，如果读者感兴趣，我未来或许会再做。</p><p>不同厂商的相机SDK肯定是不一样的，这里仅作奥比中光相机通过orbbecSDK的数据流获取思路和代码实现<br>(奥比中光相机的SDK和微软realsense相机的SDK是比较相像的应该可以有所借鉴)</p><h3 id="获取思路"><a href="#获取思路" class="headerlink" title="获取思路"></a>获取思路</h3><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>获取视频流管道类Pipeline和视频流配置类Config。<br>获取对RGB和Depth流的配置并使能，主要可以调帧率和分辨率，如果有需要做RGBD对齐这里也可以做。<br>将管道的数据输出成Frameset类的帧格式，Frameset类有很多帧相关的方法。<br>将每一帧Frameset帧数据给转换成numpy数组便可以通过opencv再做处理。</p></div><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> pyorbbecsdk </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> Config </span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> pyorbbecsdk </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> OBError</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> pyorbbecsdk </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> OBSensorType</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> OBFormat</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> pyorbbecsdk </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> Pipeline</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> FrameSet</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> pyorbbecsdk </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> VideoStreamProfile</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> utils </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> frame_to_bgr_image</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> pyorbbecsdk </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">*</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">#相机初始化</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">camera_init</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">    pipeline </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">Pipeline</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    config </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">Config</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> pipeline</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> config</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 配置RGB流</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">config_color_stream</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">pipeline</span><span style="color: #89DDFF">,</span><span style="color: #BABED8; font-style: italic">config</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">try</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        profile_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> pipeline</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_stream_profile_list</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">OBSensorType</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_SENSOR</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">try</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            color_profile</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> VideoStreamProfile </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> profile_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_stream_profile_by_index</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">except</span><span style="color: #BABED8"> OBError </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> e</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">e</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            color_profile </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> profile_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_default_video_stream_profile</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">color profile: </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> color_profile</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        config</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">enable_stream</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">color_profile</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">except</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">Exception</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> e</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">e</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> config</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 配置深度流</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">config_depth_stream</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">pipeline</span><span style="color: #89DDFF">,</span><span style="color: #BABED8; font-style: italic">config</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">try</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        profile_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> pipeline</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_stream_profile_list</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">OBSensorType</span><span style="color: #89DDFF">.</span><span style="color: #F07178">DEPTH_SENSOR</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">try</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            depth_profile </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> profile_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_stream_profile_by_index</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">except</span><span style="color: #BABED8"> OBError </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> e</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">e</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            depth_profile </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> profile_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_default_video_stream_profile</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">depth profile: </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> depth_profile</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        config</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">enable_stream</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">depth_profile</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">except</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">Exception</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> e</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">e</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> config</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 配置RGBD对齐</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">config_color_depth_align</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">pipeline</span><span style="color: #89DDFF">,</span><span style="color: #BABED8; font-style: italic">config</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    pipeline</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">enable_frame_sync</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    config</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">set_align_mode</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">OBAlignMode</span><span style="color: #89DDFF">.</span><span style="color: #F07178">SW_MODE</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 读颜色深度帧</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">read_color_depth_frame</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">pipeline</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> pipeline</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">wait_for_frames</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> frame </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    color_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_color_frame</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> color_frame </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    depth_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_depth_frame</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> depth_frame </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    width </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_width</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    height </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_height</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    scale </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_depth_scale</span><span style="color: #89DDFF">()</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">frombuffer</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_data</span><span style="color: #89DDFF">(),</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">dtype</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint16</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_data</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">reshape</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">height</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> width</span><span style="color: #89DDFF">))</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_data</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">astype</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">float32</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> scale</span></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">where</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">depth_data </span><span style="color: #89DDFF">&gt;</span><span style="color: #82AAFF"> MIN_DEPTH</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&amp;</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">depth_data </span><span style="color: #89DDFF">&lt;</span><span style="color: #82AAFF"> MAX_DEPTH</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> depth_data</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_data</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">astype</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint16</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    depth_image </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">normalize</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">depth_data</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">NORM_MINMAX</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">dtype</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">CV_8U</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    depth_image </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">applyColorMap</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">depth_image</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLORMAP_JET</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    color_image </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">frame_to_bgr_image</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">color_frame</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">depth_image</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF">color_image</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> color_image</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> depth_image</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 读颜色帧</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">read_color_frame</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">pipeline</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> pipeline</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">wait_for_frames</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> frame </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    color_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_color_frame</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> color_frame </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    color_image </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">frame_to_bgr_image</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">color_frame</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> color_image</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 读深度帧</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">read_depth_frame</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">pipeline</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> pipeline</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">wait_for_frames</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> frame </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    depth_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_depth_frame</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> depth_frame </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    width </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_width</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    height </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_height</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    scale </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_depth_scale</span><span style="color: #89DDFF">()</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">frombuffer</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_data</span><span style="color: #89DDFF">(),</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">dtype</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint16</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_data</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">reshape</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">height</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> width</span><span style="color: #89DDFF">))</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_data</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">astype</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">float32</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> scale</span></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">where</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">depth_data </span><span style="color: #89DDFF">&gt;</span><span style="color: #82AAFF"> MIN_DEPTH</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&amp;</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">depth_data </span><span style="color: #89DDFF">&lt;</span><span style="color: #82AAFF"> MAX_DEPTH</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> depth_data</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_data</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">astype</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint16</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 读深度颜色帧</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">read_color_depth_frame</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">pipeline</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> pipeline</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">wait_for_frames</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> frame </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    color_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_color_frame</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> color_frame </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    depth_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_depth_frame</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> depth_frame </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    width </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_width</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    height </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_height</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    scale </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_depth_scale</span><span style="color: #89DDFF">()</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">frombuffer</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">depth_frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_data</span><span style="color: #89DDFF">(),</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">dtype</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint16</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_data</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">reshape</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">height</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> width</span><span style="color: #89DDFF">))</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_data</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">astype</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">float32</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> scale</span></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">where</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">depth_data </span><span style="color: #89DDFF">&gt;</span><span style="color: #82AAFF"> MIN_DEPTH</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&amp;</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">depth_data </span><span style="color: #89DDFF">&lt;</span><span style="color: #82AAFF"> MAX_DEPTH</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> depth_data</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    depth_data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> depth_data</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">astype</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint16</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    color_image </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">frame_to_bgr_image</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">color_frame</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> color_image</span><span style="color: #89DDFF">,</span><span style="color: #BABED8">depth_data</span></span></code></pre></div><h2 id="相机标定"><a href="#相机标定" class="headerlink" title="相机标定"></a>相机标定</h2><details class="custom-details"><summary>What is the camera celibration ?</summary><p>相机标定（Camera Calibration）是计算机视觉中的一个重要步骤，旨在确定相机的内参和外参。内参包括焦距、光学中心和畸变系数，外参包括相机在世界坐标系中的位置和方向。通过相机标定，可以将二维图像中的点映射到三维空间中的点，从而实现精确的测量和重建。</p><p>相机标定的主要步骤包括：</p><ol><li><strong>拍摄标定图像</strong>：通常使用棋盘格图案，拍摄多张不同角度的图像。</li><li><strong>检测角点</strong>：在每张图像中检测棋盘格的角点。</li><li><strong>计算内参和外参</strong>：使用检测到的角点和已知的棋盘格尺寸，通过算法（如张正友标定法）计算相机的内参和外参。</li><li><strong>校正图像</strong>：使用计算出的参数校正图像中的畸变。<br>:::</li></ol><h3 id="标定思路"><a href="#标定思路" class="headerlink" title="标定思路"></a>标定思路</h3><p>:::warning<br>我们采用的是固定相机机位的方法，如果想要将我们的运动机构和相机传感做联系是要做手眼标定的。因为我们使用的运动机构是龙门架，由于龙门架自身的特性，我们只需要将相机标定到我们的棋盘平面即可得到比较精准的结果，龙门架的初始点只需要做简单的平移就可以做到与相机标定平面的对应。<br>我们使用<strong>张正友标定法</strong>将相机标定到棋盘平面之上，使用 11x8 grid size 20mm的棋盘格标定板进行标定。</p><p>对张正友标定法感兴趣的读者可以去看这篇论文《A Flexible New Technique for Camera Calibration》</p></details><p>这里提供一个脚本做相机标定</p><details class="custom-details"><summary>A script for camera celibration.</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> cv2</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> numpy </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> np</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> os</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">script_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">abspath</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">__file__</span><span style="color: #89DDFF">))</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic">#&lt;-- absolute dir the script is in</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 图片在当前文件夹的位置</span></span><span class="line"><span style="color: #BABED8">file_in </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">script_dir</span><span style="color: #89DDFF">,</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">p1</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 原始图片存放位置</span></span><span class="line"><span style="color: #BABED8">file_out </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">script_dir</span><span style="color: #89DDFF">,</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">p3</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 最后图片的保存位置</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 棋盘格模板规格，只算内角点个数，不算最外面的一圈点</span></span><span class="line"><span style="color: #BABED8">w </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">11</span></span><span class="line"><span style="color: #BABED8">h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">8</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 没考虑棋盘格的大小，只考虑角点的数量，因此计算出来的平移量要乘上棋盘格的大小</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 找棋盘格角点</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 世界坐标系中的棋盘格点，在张正友标定法中认为Z = 0</span></span><span class="line"><span style="color: #676E95; font-style: italic"># mgrid创建了大小为8×5×2的三维矩阵，在reshape成二维以后赋给objp，objp最后为(0,0,0), (1,0,0), (2,0,0) ....,(8,5,0)</span></span><span class="line"><span style="color: #BABED8">objp </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">zeros</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">w </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> h</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">float32</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 大小为wh×3的0矩阵</span></span><span class="line"><span style="color: #BABED8">objp</span><span style="color: #89DDFF">[:,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">:</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">mgrid</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span><span style="color: #F07178">w</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span><span style="color: #F07178">h</span><span style="color: #89DDFF">].</span><span style="color: #F07178">T</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">reshape</span><span style="color: #89DDFF">(-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># :2是因为认为Z=0</span></span><span class="line"><span style="color: #BABED8">objpoints </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 储存在世界坐标系中的三维点</span></span><span class="line"><span style="color: #BABED8">imgpoints </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 储存在图像平面的二维点</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">images </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">listdir</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">file_in</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 读入图像序列</span></span><span class="line"><span style="color: #BABED8">i </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">img_h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">img_w </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 算法迭代的终止条件，第一项表示迭代次数达到最大次数时停止迭代，第二项表示角点位置变化的最小值已经达到最小时停止迭代</span></span><span class="line"><span style="color: #BABED8">criteria </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">TERM_CRITERIA_EPS</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">TERM_CRITERIA_MAX_ITER</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.001</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> fname </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> images</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">    img </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imread</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">file_in </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/</span><span style="color: #89DDFF">&#39;</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> fname</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    img_h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">size</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    img_w </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">size</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    gray </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_BGR2GRAY</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># RGB转灰度</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 找到棋盘格角点，存放角点于corners，如果找到足够点对，将其存储起来，ret为非零值</span></span><span class="line"><span style="color: #BABED8">    ret</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> corners </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findChessboardCorners</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">gray</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">w</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> h</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 检测到角点后，进行亚像素级别角点检测，更新角点</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> ret </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">True:</span></span><span class="line"><span style="color: #BABED8">        i </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 输入图像gray；角点初始坐标corners；搜索窗口为2*winsize+1；表示窗口的最小（-1.-1）表示忽略；求角点的迭代终止条件</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cornerSubPix</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">gray</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> corners</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">11</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">11</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> criteria</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        objpoints</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objp</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 空间坐标</span></span><span class="line"><span style="color: #BABED8">        imgpoints</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">corners</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 角点坐标即图像坐标</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 角点显示</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">drawChessboardCorners</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">w</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> h</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> corners</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> ret</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">findCorners</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> img</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imwrite</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">file_out </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/print_corners</span><span style="color: #89DDFF">&#39;</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> img</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">waitKey</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">destroyAllWindows</span><span style="color: #89DDFF">()</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #676E95; font-style: italic">求解参数</span></span><span class="line"><span style="color: #676E95; font-style: italic">输入：世界坐标系里的位置；像素坐标；图像的像素尺寸大小；</span></span><span class="line"><span style="color: #676E95; font-style: italic">输出：</span></span><span class="line"><span style="color: #676E95; font-style: italic">ret: 重投影误差；</span></span><span class="line"><span style="color: #676E95; font-style: italic">mtx：内参矩阵；</span></span><span class="line"><span style="color: #676E95; font-style: italic">dist：畸变系数；</span></span><span class="line"><span style="color: #676E95; font-style: italic">rvecs：旋转向量 （外参数）；</span></span><span class="line"><span style="color: #676E95; font-style: italic">tvecs：平移向量 （外参数）；</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">&quot;&quot;&quot;</span></span><span class="line"><span style="color: #BABED8">ret</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> mtx</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> dist</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> rvecs</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> tvecs </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">calibrateCamera</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objpoints</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> imgpoints</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> gray</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[::-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None)</span></span><span class="line"></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">((</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">ret（重投影误差）:</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> ret</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">((</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">mtx（内参矩阵）:</span><span style="color: #BABED8">\n</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> mtx</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">((</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">dist（畸变参数）:</span><span style="color: #BABED8">\n</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> dist</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 5个畸变参数，(k_1,k_2,p_1,p_2,k_3)</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">((</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">rvecs（旋转向量）:</span><span style="color: #BABED8">\n</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> rvecs</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">((</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">tvecs（平移向量）:</span><span style="color: #BABED8">\n</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> tvecs</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 优化内参数和畸变系数</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 使用相机内参mtx和畸变系数dist，并使用cv.getOptimalNewCameraMatrix()</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 通过设定自由自由比例因子alpha。</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 当alpha设为0的时候，将会返回一个剪裁过的将去畸变后不想要的像素去掉的内参数和畸变系数；</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 当alpha设为1的时候，将会返回一系个包含额外黑色像素点的内参数和畸变数，并返回一个ROI用于将其剪裁掉。</span></span><span class="line"><span style="color: #BABED8">newcameramtx</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> roi </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getOptimalNewCameraMatrix</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">mtx</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> dist</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img_w</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> img_h</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img_w</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> img_h</span><span style="color: #89DDFF">))</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 矫正畸变</span></span><span class="line"><span style="color: #BABED8">img2 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imread</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">file_in </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">\\</span><span style="color: #C3E88D">img_0.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 第几张图片</span></span><span class="line"><span style="color: #BABED8">dst </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">undistort</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> mtx</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> dist</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">None,</span><span style="color: #82AAFF"> newcameramtx</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imwrite</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">file_out </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">/calibresult.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> dst</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">newcameramtx（优化后相机内参）:</span><span style="color: #BABED8">\n</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> newcameramtx</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 反投影误差total_error,越接近0，说明结果越理想。</span></span><span class="line"><span style="color: #BABED8">total_error </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objpoints</span><span style="color: #89DDFF">)):</span></span><span class="line"><span style="color: #BABED8">    imgpoints2</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _ </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">projectPoints</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objpoints</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> rvecs</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> tvecs</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> mtx</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> dist</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 计算三维点到二维图像的投影</span></span><span class="line"><span style="color: #BABED8">    error </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">norm</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">imgpoints</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> imgpoints2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">NORM_L2</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">imgpoints2</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 反投影得到的点与图像上检测到的点的误差</span></span><span class="line"><span style="color: #BABED8">    total_error </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> error</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">((</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">total error: </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> total_error </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objpoints</span><span style="color: #89DDFF">))</span><span style="color: #BABED8">   </span><span style="color: #676E95; font-style: italic"># 记平均</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 将旋转向量转换为旋转矩阵</span></span><span class="line"><span style="color: #BABED8">R</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _ </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">Rodrigues</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">rvecs</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 构建外参矩阵</span></span><span class="line"><span style="color: #BABED8">extrinsic_matrix </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">hstack</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">R</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> tvecs</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]))</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">外参矩阵：</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">extrinsic_matrix</span><span style="color: #89DDFF">)</span></span></code></pre></div></p></details><h2 id="坐标系映射"><a href="#坐标系映射" class="headerlink" title="坐标系映射"></a>坐标系映射</h2><p>做完相机的内外参标定之后就可以通过深度数据、相机内参K和相机外参E去建立标定的世界坐标系和我们相机的像素坐标系之间的映射关系。</p><h3 id="原理公式"><a href="#原理公式" class="headerlink" title="原理公式"></a>原理公式</h3><div class="custom-quote danger"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M19.76 5.23C15.84 5.23 12 2 12 2C12 2 8.15996 5.23 4.23996 5.23C4.23996 5.23 1.86996 16.99 12 22C22.13 16.99 19.76 5.23 19.76 5.23Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 16H12"></path></svg></span><p class="custom-quote-title">!!!</p><p>捏嘿^o^待补充~~~~</p></div><h3 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h3><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 世界坐标系到像素坐标系的投影</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">project_world_to_pixel</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">point_3d</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 将3D点转换为齐次坐标</span></span><span class="line"><span style="color: #BABED8">    point_world </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">vstack</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">point_3d</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">reshape</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 将3D点从世界坐标系转换到相机坐标系</span></span><span class="line"><span style="color: #BABED8">    point_camera </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> Rt </span><span style="color: #89DDFF">@</span><span style="color: #BABED8"> point_world</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 求出齐次坐标下的像素坐标</span></span><span class="line"><span style="color: #BABED8">    point_pixel_homogeneous </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> K </span><span style="color: #89DDFF">@</span><span style="color: #BABED8"> point_camera</span><span style="color: #89DDFF">[:</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 归一化像素坐标</span></span><span class="line"><span style="color: #BABED8">    point_pixel </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> point_pixel_homogeneous </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> point_pixel_homogeneous</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> point_pixel</span><span style="color: #89DDFF">[:</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 像素坐标系到世界坐标系的投影</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">project_pixel_to_world</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">point_pixel</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">depth</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">t</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]):</span></span><span class="line"><span style="color: #BABED8">    Rt_extended </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">vstack</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">Rt</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]))</span></span><span class="line"><span style="color: #BABED8">    point_pixel_homogeneous </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">vstack</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">point_pixel</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    point_camera </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">linalg</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">inv</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">K</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">@</span><span style="color: #BABED8"> point_pixel_homogeneous</span></span><span class="line"><span style="color: #BABED8">    point_camera </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> point_camera </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> depth</span></span><span class="line"><span style="color: #BABED8">    point_camera_homogeneous </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">vstack</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">point_camera</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    point_world_homogeneous </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">linalg</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">inv</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">Rt_extended</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">@</span><span style="color: #BABED8"> point_camera_homogeneous</span></span><span class="line"><span style="color: #BABED8">    point_world </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> point_world_homogeneous</span><span style="color: #89DDFF">[:</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> point_world_homogeneous</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> point_world</span></span></code></pre></div><h2 id="棋盘检测"><a href="#棋盘检测" class="headerlink" title="棋盘检测"></a>棋盘检测</h2><p>由于比赛的时间关系，我采用的是传统2D视觉图像处理的方法来检测棋盘。</p><h3 id="检测思路"><a href="#检测思路" class="headerlink" title="检测思路"></a>检测思路</h3><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>采用传统轮廓检测算法，首先进行canny边缘提取，通过设置相应的阈值实现将棋盘的边缘进行提取，再执行膨胀操作，将内外边缘合一，通过设置面积特征、形状特征和边长特征的提取，将我对棋盘的ROI区域画出来，完成对棋盘外轮廓的确定。再通过棋盘三等分的几何特性，我将九个格子的十六个格点分别进行提取，再根据这十六个格点相邻之间的像素坐标关系，计算出各个格子的中心点的像素坐标值，由此完成对棋盘的识别。</p></div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">MY VIEW</p><p>优点：图像处理算法相对简单运行起来帧率高。<br>缺陷：需要固定相机位，如果相机位置改变则需要改很多参数。</p></div><h3 id="代码实现-2"><a href="#代码实现-2" class="headerlink" title="代码实现"></a>代码实现</h3><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 找棋盘格</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">find_chessboard</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">color_image</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">depth_image</span><span style="color: #89DDFF">=None):</span></span><span class="line"><span style="color: #BABED8">    find_center_method </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">    pixels_threshold </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">80</span></span><span class="line"><span style="color: #BABED8">    area_threshold </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50</span></span><span class="line"><span style="color: #BABED8">    appo_contour </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    grid_size </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"><span style="color: #BABED8">    sorted_center_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 排序后的中心点像素坐标列表</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 转换为灰度图像</span></span><span class="line"><span style="color: #BABED8">    gray_image </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">color_image</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_RGB2GRAY</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 高斯模糊</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># blurred_image = cv2.GaussianBlur(gray_image, (5, 5), 0)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 边缘检测</span></span><span class="line"><span style="color: #BABED8">    edged </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">Canny</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">gray_image</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">75</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">150</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 膨胀处理</span></span><span class="line"><span style="color: #BABED8">    kernel </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">ones</span><span style="color: #89DDFF">((</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint8</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    dilated </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dilate</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">edged</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> kernel</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">iterations</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># cv2.imshow(&quot;dilated&quot;,dilated)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 选取ROI区域</span></span><span class="line"><span style="color: #BABED8">    dilated_ROI </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> dilated</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">:</span><span style="color: #F78C6C">700</span><span style="color: #89DDFF">,</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">:</span><span style="color: #F78C6C">900</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># ROI与原图像对齐</span></span><span class="line"><span style="color: #BABED8">    dilated_ROI </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">extend_frame_boarden</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">dilated_ROI</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">dilated_ROI</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF">dilated_ROI</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 查找轮廓</span></span><span class="line"><span style="color: #BABED8">    contours</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _ </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">dilated_ROI</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">RETR_EXTERNAL</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">CHAIN_APPROX_SIMPLE</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    contours </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">sorted</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contours</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">key</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">contourArea</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">reverse</span><span style="color: #89DDFF">=True)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contours</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 筛选出最大的轮廓</span></span><span class="line"><span style="color: #BABED8">        largest_contour </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> contours</span><span style="color: #89DDFF">[:</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> contour </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> largest_contour</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            area </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">contourArea</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 近似多边形</span></span><span class="line"><span style="color: #BABED8">            epsilon </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.02</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">arcLength</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">True)</span></span><span class="line"><span style="color: #BABED8">            approx </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">approxPolyDP</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> epsilon</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">True)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># print(area,approx)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">approx</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">               </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> area </span><span style="color: #89DDFF">&gt;=</span><span style="color: #F78C6C">30000</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> area </span><span style="color: #89DDFF">&lt;=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">50000</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                appo_contour </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> contour</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #676E95; font-style: italic"># corners = approx.reshape((4, 2))</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">break</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> appo_contour </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span></span><span class="line"><span style="color: #BABED8">            corners </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> approx</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">reshape</span><span style="color: #89DDFF">((</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">            tl </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> corners</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">            bl </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> corners</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">            br </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> corners</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">            tr </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> corners</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 计算3x3格子的交叉点</span></span><span class="line"><span style="color: #BABED8">            cross_points </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> j </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #676E95; font-style: italic"># 线性插值计算交叉点</span></span><span class="line"><span style="color: #BABED8">                    cross_x </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">tl</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> i</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> tr</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> i</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> j</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">9</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span></span><span class="line"><span style="color: #82AAFF">                                </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">bl</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> i</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> br</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> i</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> j </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">9</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                    cross_y </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">tl</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> i</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> tr</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> i</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> j</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">9</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span></span><span class="line"><span style="color: #82AAFF">                                </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">bl</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> i</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> br</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> i</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> j </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">9</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                    cross_points</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">cross_x</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cross_y</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">                    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">circle</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">color_image</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cross_x</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cross_y</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">            distances </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 计算每行相邻交叉点的距离</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> j </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                    p1 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cross_points</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">i </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> j</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                    p2 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cross_points</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">i </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> j </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                    distance </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">sqrt</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">p1</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> p2</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">**</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">p1</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> p2</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">])</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">**</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                    distances</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">distance</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 计算每列相邻交叉点的距离</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> j </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                    p1 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cross_points</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">i </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> j</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                    p2 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cross_points</span><span style="color: #89DDFF">[(</span><span style="color: #BABED8">i </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> j</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                    distance </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">sqrt</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">p1</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> p2</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">**</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">p1</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> p2</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">])</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">**</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                    distances</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">distance</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            grid_size </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">mean</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">distances</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># print(&quot;grid_size is&quot;, grid_size)</span></span><span class="line"><span style="color: #BABED8">            centers </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 找格子中心点方法一：直接根据顶点计算</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic">#if find_center_method == 1:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> j </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                    center_x </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">cross_points</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">4</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> j</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> cross_points</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">4</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> j </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> cross_points</span><span style="color: #89DDFF">[(</span><span style="color: #82AAFF">i </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">4</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> j</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> cross_points</span><span style="color: #89DDFF">[(</span><span style="color: #82AAFF">i </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">4</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> j </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                    center_y </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">cross_points</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">4</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> j</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> cross_points</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">4</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> j </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> cross_points</span><span style="color: #89DDFF">[(</span><span style="color: #82AAFF">i </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">4</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> j</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> cross_points</span><span style="color: #89DDFF">[(</span><span style="color: #82AAFF">i </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">4</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> j </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">])</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                    centers</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">center_x</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> center_y</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">                    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">circle</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">color_image</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">center_x</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> center_y</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># elif find_center_method == 2:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 对找到的中心点进行编号, y + x 最大就是右下角，最小就是左上角， y-x 最大就是左下角，y-x 最小就是右上角，其它几个点根据在旁边两个点中间判断</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">centers</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">9</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                centers </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">array</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">centers</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                rect </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">zeros</span><span style="color: #89DDFF">((</span><span style="color: #F78C6C">9</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">dtype</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">float32</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                dist </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">zeros</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">9</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">dtype</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">float32</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                s </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> centers</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">sum</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">axis</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                idx_0 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">argmin</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">s</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                idx_8 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">argmax</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">s</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                diff </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">diff</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">centers</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">axis</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                idx_2 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">argmin</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">diff</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                idx_6 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">argmax</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">diff</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> centers</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">idx_0</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> centers</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">idx_2</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">6</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> centers</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">idx_6</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">8</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> centers</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">idx_8</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #676E95; font-style: italic">#   其它点</span></span><span class="line"><span style="color: #BABED8">                calc_center </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">6</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">8</span><span style="color: #89DDFF">])</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4</span></span><span class="line"><span style="color: #BABED8">                mask </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">zeros</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">centers</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">dtype</span><span style="color: #89DDFF">=</span><span style="color: #FFCB6B">bool</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                idxes </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">7</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                mask</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">idxes</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">True</span><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #676E95; font-style: italic"># 筛选出其他中心点</span></span><span class="line"><span style="color: #BABED8">                others </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> centers</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">mask</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #676E95; font-style: italic"># 找到最左、最右、最上和最下的点的索引</span></span><span class="line"><span style="color: #BABED8">                idx_l </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> others</span><span style="color: #89DDFF">[:,</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">argmin</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">                idx_r </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> others</span><span style="color: #89DDFF">[:,</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">argmax</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">                idx_t </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> others</span><span style="color: #89DDFF">[:,</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">argmin</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">                idx_b </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> others</span><span style="color: #89DDFF">[:,</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">argmax</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">                found </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">array</span><span style="color: #89DDFF">([</span><span style="color: #82AAFF">idx_l</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> idx_r</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> idx_t</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> idx_b</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">                mask </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">isin</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">others</span><span style="color: #89DDFF">)),</span><span style="color: #82AAFF"> found</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">invert</span><span style="color: #89DDFF">=False)</span></span><span class="line"><span style="color: #BABED8">                idx_c </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">where</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">mask </span><span style="color: #89DDFF">==</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">False)[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">idx_c</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                    rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> others</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">idx_t</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                    rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> others</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">idx_l</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                    rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> others</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">idx_c</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                    rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> others</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">idx_r</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                    rect</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">7</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> others</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">idx_b</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #676E95; font-style: italic"># 写编号</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">9</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                                                                        </span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #676E95; font-style: italic"># print(f&quot;&#123;i&#125;格的中心点&quot;,rect[i][0],rect[i][1])</span></span><span class="line"><span style="color: #BABED8">                        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">putText</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">color_image</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">+</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">rect</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]),</span><span style="color: #82AAFF"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">rect</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">])),</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">FONT_HERSHEY_SIMPLEX</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0.5</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                        sorted_center_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">((</span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">rect</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]),</span><span style="color: #82AAFF"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">rect</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">])))</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #676E95; font-style: italic"># 大于 45度的情况</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">&gt; 45 degree</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">without appopriate contour</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> sorted_center_list </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">sorted_center_list</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">locals</span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[],</span><span style="color: #BABED8"> grid_size </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">grid_size</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">locals</span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span></code></pre></div><h2 id="棋子检测"><a href="#棋子检测" class="headerlink" title="棋子检测"></a>棋子检测</h2><p>这里提供两种方法</p><h3 id="3DV方法"><a href="#3DV方法" class="headerlink" title="3DV方法"></a>3DV方法</h3><p>3D视觉方法</p><h4 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h4><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>采用二值化+3D点云数据融合分辨黑色棋子和白色棋子。<br>首先，通过对图像滤波再做二值化处理就可以得到黑色棋子的完美轮廓，通过棋子形状和面积等方法去提取出黑色棋子的中心坐标点。再通过对相机做depth和RGB的数据对齐，可以使得到的点云数据和RGB数据有一个对应关系，将点云数据提取出来之后，由于棋盘是一个光滑平面，可以通过ransac拟合平面，再通过点云处理将这个平面给隐藏，再通过 DBSCAN 聚类提取出每个棋子的点云，选取棋子点云中心点作为棋子的相机坐标系坐标，再将每个棋子的相机坐标系坐标映射到像素坐标系上，便可以得到棋子的像素坐标中心点，再将之前二值化得到的黑色棋子的中心坐标点剔除，剩下的就是白色棋子中心点像素坐标。由此，我们成功地完成了对棋子的识别。</p></div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">MY VIEW</p><p>优点：识别基本不受环境光线的干扰，通过三维的信息来识别棋子，你放张棋子照片上去也不会误识别。<br>缺点：点云数据量大，即使做了降采样和裁切之后对算力的要求仍旧很高，帧率很低，体验3帧电竞，对一些实时性有要求的场景不太适合。</p></div><h3 id="代码实现（仅代码块）"><a href="#代码实现（仅代码块）" class="headerlink" title="代码实现（仅代码块）"></a>代码实现（仅代码块）</h3><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 拟合平面ransac </span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">fit_plane</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">points</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    pcd </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> o3d</span><span style="color: #89DDFF">.</span><span style="color: #F07178">geometry</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">PointCloud</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    pcd</span><span style="color: #89DDFF">.</span><span style="color: #F07178">points</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> o3d</span><span style="color: #89DDFF">.</span><span style="color: #F07178">utility</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">Vector3dVector</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">points</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    plane_model</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> inliers </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> pcd</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">segment_plane</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">distance_threshold</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">0.27</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #82AAFF">                                             </span><span style="color: #BABED8; font-style: italic">ransac_n</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #82AAFF">                                             </span><span style="color: #BABED8; font-style: italic">num_iterations</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">1000</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> plane_model</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> inliers</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">detect_objects_on_plane</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">points</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">distance_threshold</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 拟合平面模型，返回平面模型参数和内点索引</span></span><span class="line"><span style="color: #BABED8">    plane_model</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> inliers </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">fit_plane</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">points</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 解包平面模型参数 a, b, c, d</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">a</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> b</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> c</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> d</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> plane_model</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 计算每个点到平面的距离</span></span><span class="line"><span style="color: #BABED8">    distances </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">abs</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">a </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> points</span><span style="color: #89DDFF">[:,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> b </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> points</span><span style="color: #89DDFF">[:,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> c </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> points</span><span style="color: #89DDFF">[:,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> d</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">sqrt</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">a</span><span style="color: #89DDFF">**</span><span style="color: #F78C6C">2</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> b</span><span style="color: #89DDFF">**</span><span style="color: #F78C6C">2</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> c</span><span style="color: #89DDFF">**</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 找到距离大于阈值的点的索引</span></span><span class="line"><span style="color: #BABED8">    object_indices </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">where</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">distances </span><span style="color: #89DDFF">&gt;</span><span style="color: #82AAFF"> distance_threshold</span><span style="color: #89DDFF">)[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 提取这些点作为检测到的物体</span></span><span class="line"><span style="color: #BABED8">    objects </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> points</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">object_indices</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    objects_pcd </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> o3d</span><span style="color: #89DDFF">.</span><span style="color: #F07178">geometry</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">PointCloud</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    objects_pcd</span><span style="color: #89DDFF">.</span><span style="color: #F07178">points</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> o3d</span><span style="color: #89DDFF">.</span><span style="color: #F07178">utility</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">Vector3dVector</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objects</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    cl</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> ind </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> objects_pcd</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">remove_statistical_outlier</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">nb_neighbors</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">20</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">std_ratio</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">2.0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    filtered_pcd </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> objects_pcd</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">select_by_index</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">ind</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 返回检测到的物体点云 </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> objects_pcd</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 使用 DBSCAN 聚类算法提取不同物体</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">extract_objects_from_pcd</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">objects_pcd</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">eps</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">min_points</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 进行 DBSCAN 聚类</span></span><span class="line"><span style="color: #BABED8">    labels </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">array</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objects_pcd</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cluster_dbscan</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">eps</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">eps</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">min_points</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">min_points</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">print_progress</span><span style="color: #89DDFF">=True))</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 获取聚类数目</span></span><span class="line"><span style="color: #BABED8">    max_label </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> labels</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">max</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;point cloud has </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">max_label </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1&#125;</span><span style="color: #C3E88D"> clusters&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 将不同聚类的点云提取出来</span></span><span class="line"><span style="color: #BABED8">    clusters </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">max_label </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        cluster_indices </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">where</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">labels </span><span style="color: #89DDFF">==</span><span style="color: #82AAFF"> i</span><span style="color: #89DDFF">)[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">        cluster_pcd </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> objects_pcd</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">select_by_index</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cluster_indices</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        clusters</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cluster_pcd</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> clusters</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">pcd </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">convert_to_o3d_point_cloud</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">array</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">points</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 降采样</span></span><span class="line"><span style="color: #BABED8">downsampled_pcd </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> pcd</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">voxel_down_sample</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">voxel_size</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">0.01</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 裁剪点云</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 定义包围盒的最小和最大边界点</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 创建轴对齐包围盒</span></span><span class="line"><span style="color: #BABED8">aabb </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> pcd</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">get_axis_aligned_bounding_box</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">min_bound </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> aabb</span><span style="color: #89DDFF">.</span><span style="color: #F07178">min_bound</span></span><span class="line"><span style="color: #BABED8">max_bound </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> aabb</span><span style="color: #89DDFF">.</span><span style="color: #F07178">max_bound</span></span><span class="line"><span style="color: #BABED8">aabb1 </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> o3d</span><span style="color: #89DDFF">.</span><span style="color: #F07178">geometry</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">AxisAlignedBoundingBox</span><span style="color: #89DDFF">([</span><span style="color: #82AAFF">min_bound</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]+</span><span style="color: #F78C6C">250</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF">min_bound</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]+</span><span style="color: #F78C6C">200</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF">min_bound</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]],</span></span><span class="line"><span style="color: #82AAFF">                                                </span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">max_bound</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]-</span><span style="color: #F78C6C">250</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF">max_bound</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]-</span><span style="color: #F78C6C">200</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF">max_bound</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]])</span></span><span class="line"><span style="color: #BABED8">cropped_pcd </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> downsampled_pcd</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">crop</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">aabb1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 将 Open3D 点云对象转换为 numpy 数组</span></span><span class="line"><span style="color: #BABED8">points_np </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">asarray</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cropped_pcd</span><span style="color: #89DDFF">.</span><span style="color: #F07178">points</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">objects_pcd </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">detect_objects_on_plane</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">points_np</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 提取不同物体的点云</span></span><span class="line"><span style="color: #BABED8">cluster_pcd_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">extract_objects_from_pcd</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">objects_pcd</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 可视化处理后的点云</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 创建坐标系对象</span></span><span class="line"><span style="color: #BABED8">coordinate_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> o3d</span><span style="color: #89DDFF">.</span><span style="color: #F07178">geometry</span><span style="color: #89DDFF">.</span><span style="color: #F07178">TriangleMesh</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">create_coordinate_frame</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">size</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">origin</span><span style="color: #89DDFF">=[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">o3d</span><span style="color: #89DDFF">.</span><span style="color: #F07178">visualization</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">draw_geometries</span><span style="color: #89DDFF">([</span><span style="color: #82AAFF">coordinate_frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cluster_pcd_list</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]])</span></span></code></pre></div><h3 id="2DV方法"><a href="#2DV方法" class="headerlink" title="2DV方法"></a>2DV方法</h3><p>传统2D视觉方法</p><h4 id="实现思路-1"><a href="#实现思路-1" class="headerlink" title="实现思路"></a>实现思路</h4><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>采用背景减除+不同色域提取掩膜将黑色棋子和白色棋子在红色背景下提取出来。<br>首先，采用固定机位的相机因此可以相对准确的标记出大致的ROI区域。根据环境预先获取没有棋子的相机RGB图，在处理时对相机的帧数据上与预先的背景RGB图的每个通道做绝对求差，比较两个图像的像素值，提取出前景对象。这样可以很好的将棋子的轮廓和背景之间进行分离。根据分离出来的颜色的对比程度，可以简易判断做掩膜提取效果较好的空间色域。将分离出来的前景图像在RGB空间中做色域提取，通过设置RGB颜色阈值可以将黑色棋子很容易的提取出来，均值滤波后通过K_Means聚类算法将轮廓聚集，二值化前景得到掩膜图。通过上述步骤，就成功地在掩膜图上提取到了特别完整的棋子轮廓，再通过轮廓检测将棋子的中心像素坐标值进行确定，将这个中心坐标和轮廓匹配对齐到RGB帧图像上，最终完成对棋子的识别。</p></div><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">MY VIEW</p><p>优点：识别速度快，算法简单。<br>缺点：会受到环境光的影响，鲁棒性较差，只能使用在理想测试环境下，实际工况复杂需要更多的其他增强稳定性的算法，可以考虑机器学习那一套搞决策树、随机森林、支持向量机之类的（这个后续我也会跟进去学习的）。</p></div><h4 id="代码实现-3"><a href="#代码实现-3" class="headerlink" title="代码实现"></a>代码实现</h4><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 自适应调节rgb阈值 </span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">adjust_rgb_range</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">image</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">base_lower</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">base_upper</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 计算图像的加权平均亮度</span></span><span class="line"><span style="color: #BABED8">    brightness </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">mean</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">image</span><span style="color: #89DDFF">[:,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">:,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0.299</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> image</span><span style="color: #89DDFF">[:,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">:,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0.587</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> image</span><span style="color: #89DDFF">[:,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">:,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0.114</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 根据亮度调整色域范围</span></span><span class="line"><span style="color: #BABED8">    adjustment_factor </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> brightness </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">128.0</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 假设 128 是中等亮度</span></span><span class="line"><span style="color: #BABED8">    lower_rgb </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">array</span><span style="color: #89DDFF">([</span><span style="color: #82AAFF">base_lower</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> adjustment_factor</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> base_lower</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> adjustment_factor</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> base_lower</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> adjustment_factor</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">dtype</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint8</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    upper_rgb </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">array</span><span style="color: #89DDFF">([</span><span style="color: #82AAFF">base_upper</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> adjustment_factor</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> base_upper</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> adjustment_factor</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> base_upper</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> adjustment_factor</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">dtype</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint8</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 背景减除二值化</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">background_bin_subtraction</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">background</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">current_frame</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">binary_threshold</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 调整二值化阈值 binary_threshold 可以有效地筛选黑白棋</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 调整图像尺寸和通道数</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> background</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">!=</span><span style="color: #BABED8"> current_frame</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        current_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">resize</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">current_frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">background</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> background</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]))</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">background</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">current_frame</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            current_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">current_frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_BGR2GRAY</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">elif</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">background</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">3</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">current_frame</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            current_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">current_frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_GRAY2BGR</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    foreground </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">absdiff</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">background</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> current_frame</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #C792EA">global</span><span style="color: #BABED8"> foreground_image </span></span><span class="line"><span style="color: #BABED8">    foreground_image </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> foreground</span></span><span class="line"><span style="color: #BABED8">    gray_foreground </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">foreground</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_BGR2GRAY</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    _</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> binary_foreground </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">threshold</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">gray_foreground</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> binary_threshold</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">THRESH_BINARY</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> binary_foreground</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 背景减除RGB空间</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">background_rgb_subtraction</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">background</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">current_frame</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    rgb_low_threshold </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">array</span><span style="color: #89DDFF">([</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">160</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">    rgb_high_threshold </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">array</span><span style="color: #89DDFF">([</span><span style="color: #F78C6C">65</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">50</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">235</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 调整图像尺寸和通道数</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> background</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">!=</span><span style="color: #BABED8"> current_frame</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        current_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">resize</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">current_frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">background</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> background</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]))</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">background</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">current_frame</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            current_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">current_frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_BGR2GRAY</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">elif</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">background</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">3</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">current_frame</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            current_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">current_frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_GRAY2BGR</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 计算差值</span></span><span class="line"><span style="color: #BABED8">    foreground </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">absdiff</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">background</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> current_frame</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    mask </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">inRange</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">foreground</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> rgb_low_threshold</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> rgb_high_threshold</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic">#cv2.imshow(&quot;mask&quot;, mask)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> mask</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 找白色棋子</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">find_white_piece</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">color_image</span><span style="color: #89DDFF">,</span><span style="color: #BABED8; font-style: italic">area_low_threshold</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1000</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">area_high_threshold</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10000</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 棋子认定面积阈值</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># area_low_threshold</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># area_high_threshold</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 背景减除二值化</span></span><span class="line"><span style="color: #BABED8">    white_piece_center_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">    foreground </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">background_bin_subtraction</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">background_image</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> color_image</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 使用形态学操作</span></span><span class="line"><span style="color: #BABED8">    kernel </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getStructuringElement</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">MORPH_RECT</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># closed = cv2.morphologyEx(foreground, cv2.MORPH_CLOSE, kernel)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic">#腐蚀</span></span><span class="line"><span style="color: #BABED8">    erode </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">erode</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">foreground</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> kernel</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">iterations</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 膨胀</span></span><span class="line"><span style="color: #BABED8">    dilate </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dilate</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">erode</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> kernel</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">iterations</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># cv2.imshow(&quot;dilate&quot;,dilate)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 查找轮廓</span></span><span class="line"><span style="color: #BABED8">    contours</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _ </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">dilate</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">copy</span><span style="color: #89DDFF">(),</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">RETR_EXTERNAL</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">CHAIN_APPROX_SIMPLE</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    i </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> contour </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> contours</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 计算并绘制外接矩形框</span></span><span class="line"><span style="color: #BABED8">        x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> w</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">boundingRect</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">rectangle</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">foreground</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">x</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> y</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">x </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> w</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> y </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> h</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        area </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">contourArea</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> area </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> area_low_threshold </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> area </span><span style="color: #89DDFF">&lt;</span><span style="color: #BABED8"> area_high_threshold</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            i </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 绘制轮廓</span></span><span class="line"><span style="color: #BABED8">            cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">drawContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">foreground</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 计算轮廓的矩</span></span><span class="line"><span style="color: #BABED8">            M </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">moments</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 计算轮廓的质心</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> M</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">m00</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">!=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                cX </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">M</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">m10</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> M</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">m00</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">                cY </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">M</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">m01</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> M</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">m00</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                cX</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> cY </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic">## 打印质心坐标</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic">#print(f&quot;Contour &#123;i&#125; center: (&#123;cX&#125;, &#123;cY&#125;)&quot;)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 添加到白棋中心点列表</span></span><span class="line"><span style="color: #BABED8">            white_piece_center_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">cX</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cY</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 在质心处绘制数字</span></span><span class="line"><span style="color: #BABED8">            cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">putText</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">foreground</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cX </span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cY</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">FONT_HERSHEY_SIMPLEX</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0.5</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">without any chess</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> white_piece_center_list</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> foreground</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 找黑色棋子</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">fine_black_piece</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">color_image</span><span style="color: #89DDFF">,</span><span style="color: #BABED8; font-style: italic">area_low_threshold</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1000</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">area_high_threshold</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">40000</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    black_piece_center_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">    foreground </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">background_rgb_subtraction</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">background_image</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> color_image</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    kernel </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getStructuringElement</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">MORPH_RECT</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    dilate </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dilate</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">foreground</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">,</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">iterations</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic">#腐蚀</span></span><span class="line"><span style="color: #BABED8">    erode </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">erode</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">dilate</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> kernel</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">iterations</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 膨胀</span></span><span class="line"><span style="color: #BABED8">    dilate </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dilate</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">erode</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> kernel</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">iterations</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># cv2.imshow(&quot;dilate&quot;,dilate)</span></span><span class="line"><span style="color: #BABED8">    contours</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _ </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">dilate</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">copy</span><span style="color: #89DDFF">(),</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">RETR_EXTERNAL</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">CHAIN_APPROX_SIMPLE</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    i </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> contour </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> contours</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        area </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">contourArea</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 计算并绘制外接矩形框</span></span><span class="line"><span style="color: #BABED8">        x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> w</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">boundingRect</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># print(w*h)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> area </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> area_low_threshold </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> area </span><span style="color: #89DDFF">&lt;</span><span style="color: #BABED8"> area_high_threshold</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            i </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 绘制轮廓</span></span><span class="line"><span style="color: #BABED8">            cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">drawContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">foreground</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 计算轮廓的矩</span></span><span class="line"><span style="color: #BABED8">            M </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">moments</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contour</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 计算轮廓的质心</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> M</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">m00</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">!=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                cX </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">M</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">m10</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> M</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">m00</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">                cY </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">M</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">m01</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> M</span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">m00</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                cX</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> cY </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># # 打印质心坐标</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># print(f&quot;Contour &#123;i&#125; center: (&#123;cX&#125;, &#123;cY&#125;)&quot;)</span></span><span class="line"><span style="color: #BABED8">            black_piece_center_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">cX</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cY</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 在质心处绘制数字</span></span><span class="line"><span style="color: #BABED8">            cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">putText</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">foreground</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cX </span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cY</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">FONT_HERSHEY_SIMPLEX</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0.5</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">without any chess</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> black_piece_center_list</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> foreground</span></span></code></pre></div><h3 id="串口通信"><a href="#串口通信" class="headerlink" title="串口通信"></a>串口通信</h3><p>通过串口通信与下位机通信</p><h3 id="实现思路-2"><a href="#实现思路-2" class="headerlink" title="实现思路"></a>实现思路</h3><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>在做这个串口通信的时候，使用的是serial库用python来进行串口通信，这个其实是人家通过C++写的封装成python库来用的相对会有很多的受限。因为jetson nano没有硬件中断，所以只能采用多线程的方式来模拟中断。所以调用threading库去实现对串口数据的监听。</p></div><h3 id="代码实现-4"><a href="#代码实现-4" class="headerlink" title="代码实现"></a>代码实现</h3><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> threading</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> serial </span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 串口读取数据线程</span></span><span class="line"><span style="color: #C792EA">class</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">SerialCommunication</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">__init__</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">port</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">baudrate</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">serial_port</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> serial</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">Serial</span><span style="color: #89DDFF">(</span></span><span class="line"><span style="color: #82AAFF">            </span><span style="color: #BABED8; font-style: italic">port</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">port</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #82AAFF">            </span><span style="color: #BABED8; font-style: italic">baudrate</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">baudrate</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #82AAFF">            </span><span style="color: #BABED8; font-style: italic">bytesize</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">serial</span><span style="color: #89DDFF">.</span><span style="color: #F07178">EIGHTBITS</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #82AAFF">            </span><span style="color: #BABED8; font-style: italic">parity</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">serial</span><span style="color: #89DDFF">.</span><span style="color: #F07178">PARITY_NONE</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #82AAFF">            </span><span style="color: #BABED8; font-style: italic">stopbits</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">serial</span><span style="color: #89DDFF">.</span><span style="color: #F07178">STOPBITS_ONE</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #82AAFF">            </span><span style="color: #BABED8; font-style: italic">timeout</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #82AAFF">        </span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">read_from_port</span><span style="color: #89DDFF">(</span><span style="color: #F07178; font-style: italic">self</span><span style="color: #89DDFF">):</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 监听串口数据</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">while</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">True:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">try</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">serial_port</span><span style="color: #89DDFF">.</span><span style="color: #F07178">in_waiting</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                    data </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> self</span><span style="color: #89DDFF">.</span><span style="color: #F07178">serial_port</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">readline</span><span style="color: #89DDFF">().</span><span style="color: #82AAFF">decode</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">utf-8</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">).</span><span style="color: #82AAFF">rstrip</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;Receive:</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">data</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #676E95; font-style: italic"># 读到的数据会存入data，可以自己再写类的接口把这个data读出来</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">except</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">Exception</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> e</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;An error occurred: </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">e</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span></span></code></pre></div><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>解决了最大头的图像处理部分之后剩下的其实就是一些简单的逻辑判断了，基本就是一些if-else，我感觉不太重要就不太想讲了。就是作三子棋对弈算法会麻烦一点不过也没什么的我就也放在这里了。</p></div><p>这里提供一点我当时写的函数</p><details class="custom-details"><summary>对接对弈算法的</summary><p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 检查棋子是否在格子内，只是简单判断，通过比较点的坐标和格子的边界来判断点是否在格子内，复杂的需要考虑坐标系映射</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">is_point_in_grid</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">point</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">grid_center</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">grid_size</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">piece_radius</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    half_size </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> grid_size </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">grid_center</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #BABED8"> half_size </span><span style="color: #89DDFF">&lt;=</span><span style="color: #BABED8"> point</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&lt;=</span><span style="color: #BABED8"> grid_center</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> half_size </span><span style="color: #89DDFF">and</span></span><span class="line"><span style="color: #BABED8">            grid_center</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #BABED8"> half_size </span><span style="color: #89DDFF">&lt;=</span><span style="color: #BABED8"> point</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&lt;=</span><span style="color: #BABED8"> grid_center</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> half_size</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 检查棋子在哪个格子内</span></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">check_pieces_in_grids</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">grid_centers</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">black_piece_centers</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">white_piece_centers</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">grid_size</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">black_piece_radius</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">white_piece_radius</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    grid_status </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">    black_pieces_outside </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">    white_pieces_outside </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> grid_center </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> grid_centers</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        status </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">empty</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> black_center </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> black_piece_centers</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">is_point_in_grid</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">black_center</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> grid_center</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> grid_size</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> black_piece_radius</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                status </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">black</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">break</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> white_center </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> white_piece_centers</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">is_point_in_grid</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">white_center</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> grid_center</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> grid_size</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> white_piece_radius</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                status </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">white</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">break</span></span><span class="line"><span style="color: #BABED8">        grid_status</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">status</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 检查不在任何格子内的黑棋</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> black_center </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> black_piece_centers</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        in_any_grid </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">any</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">is_point_in_grid</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">black_center</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> grid_center</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> grid_size</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> black_piece_radius</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> grid_center </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> grid_centers</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> in_any_grid</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            black_pieces_outside</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">black_center</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 检查不在任何格子内的白棋</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> white_center </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> white_piece_centers</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        in_any_grid </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">any</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">is_point_in_grid</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">white_center</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> grid_center</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> grid_size</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> white_piece_radius</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> grid_center </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> grid_centers</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> in_any_grid</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            white_pieces_outside</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">white_center</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> grid_status</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> black_pieces_outside</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> white_pieces_outside</span></span></code></pre></div></p></details><details class="custom-details"><summary>对弈算法</summary><p>使用的是在棋类对弈中广泛使用的Minimax算法。又名极小化极大算法，是一种找出失败的最大可能性中的最小值的算法。Minimax算法常用于棋类等由两方较量的游戏和程序。该算法是一个零总和算法，即一方要在可选的选项中选择将其优势最大化的选择，另一方则选择令对手优势最小化的方法。<br>而系统中函数的具体实现是minmax函数，而best_move函数则是通过调用minmax函数来找到机器的最佳移动位置，其返回值为机器的最佳移动位置。<br>具体来说，Minimax算法模拟了所有可能的棋盘状态，本设计中的minmax函数返回值为得分，用于表示当前棋盘对玩家的有利程度，其主要包含以下几个步骤：</p><ol><li>检查当前棋盘状态是否有胜利者。如果有胜利者，返回相应的分数。</li><li>检查棋盘是否已满。如果已满，返回 0 表示平局。</li><li>如果轮到机器移动，则尝试所有可能的移动，返回得分最高的移动。</li><li>如果轮到人类移动，则尝试所有可能的移动，返回得分最低的移动。minmax函数的具体实现见附录1。</li></ol><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">#################################################################################################</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 定义常量</span></span><span class="line"><span style="color: #BABED8">PLAYER_X </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic">#机器棋</span></span><span class="line"><span style="color: #BABED8">PLAYER_O </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic">#玩家棋</span></span><span class="line"><span style="color: #BABED8">EMPTY </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #BABED8">       </span><span style="color: #676E95; font-style: italic">#无</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">check_winner</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">board</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 检查行、列和对角线</span></span><span class="line"><span style="color: #BABED8">    lines </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]],</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]],</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]],</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]],</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]],</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]],</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]],</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> line </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> lines</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> line </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">PLAYER_X</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> PLAYER_X</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> PLAYER_X</span><span style="color: #89DDFF">]:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> PLAYER_X</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> line </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">PLAYER_O</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> PLAYER_O</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> PLAYER_O</span><span style="color: #89DDFF">]:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> PLAYER_O</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">is_board_full</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">board</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">all</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cell </span><span style="color: #89DDFF">!=</span><span style="color: #82AAFF"> EMPTY </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> row </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> board </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> cell </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> row</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">minimax</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">board</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">is_maximizing</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    winner </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">check_winner</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">board</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> winner </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> PLAYER_X</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> winner </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> PLAYER_O</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">is_board_full</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">board</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> is_maximizing</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        best_score </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #FFCB6B">float</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">inf</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> row </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> col </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> EMPTY</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                    board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> PLAYER_X</span></span><span class="line"><span style="color: #BABED8">                    score </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">minimax</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">board</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">False)</span></span><span class="line"><span style="color: #BABED8">                    board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> EMPTY</span></span><span class="line"><span style="color: #BABED8">                    best_score </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">max</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">score</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> best_score</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> best_score</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        best_score </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">float</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">inf</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> row </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> col </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> EMPTY</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                    board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> PLAYER_O</span></span><span class="line"><span style="color: #BABED8">                    score </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">minimax</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">board</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">True)</span></span><span class="line"><span style="color: #BABED8">                    board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> EMPTY</span></span><span class="line"><span style="color: #BABED8">                    best_score </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">min</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">score</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> best_score</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> best_score</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">best_move</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">board</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    best_score </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #FFCB6B">float</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">inf</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    move </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> row </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> col </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> EMPTY</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> PLAYER_X</span></span><span class="line"><span style="color: #BABED8">                score </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">minimax</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">board</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">False)</span></span><span class="line"><span style="color: #BABED8">                board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> EMPTY</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> score </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> best_score</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                    best_score </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> score</span></span><span class="line"><span style="color: #BABED8">                    move </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> col</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">get_board</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">chessboard_block_list</span><span style="color: #89DDFF">,</span><span style="color: #BABED8; font-style: italic">black_piece_list</span><span style="color: #89DDFF">,</span><span style="color: #BABED8; font-style: italic">white_piece_list</span><span style="color: #89DDFF">,</span><span style="color: #BABED8; font-style: italic">grid_size</span><span style="color: #89DDFF">,</span><span style="color: #BABED8; font-style: italic">state</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 检查棋子在哪个格子内</span></span><span class="line"><span style="color: #BABED8">    grid_status</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> black_piece_outside_list</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> white_piece_outside_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">check_pieces_in_grids</span><span style="color: #89DDFF">(</span></span><span class="line"><span style="color: #82AAFF">                            chessboard_block_list</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span></span><span class="line"><span style="color: #82AAFF">                            black_piece_list</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span></span><span class="line"><span style="color: #82AAFF">                            white_piece_list</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span></span><span class="line"><span style="color: #82AAFF">                            grid_size</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 将棋盘状态映射为棋盘</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> state </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">map_board_state</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">board</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">            state_mapping </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">empty</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">black</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">white</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[[</span><span style="color: #BABED8">state_mapping</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">cell</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> cell </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> row</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> row </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">        mapped_board </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">map_board_state</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">grid_status</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> mapped_board</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">map_board_state</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">board</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">            state_mapping </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">empty</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">black</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">white</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[[</span><span style="color: #BABED8">state_mapping</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">cell</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> cell </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> row</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> row </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> board</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">        mapped_board </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">map_board_state</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">grid_status</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> mapped_board</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">play_chess</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">now_board</span><span style="color: #89DDFF">,</span><span style="color: #BABED8; font-style: italic">chessboard_grid_world_list</span><span style="color: #89DDFF">=None,</span><span style="color: #BABED8; font-style: italic">black_piece_world_list</span><span style="color: #89DDFF">=None,</span><span style="color: #BABED8; font-style: italic">white_piece_world_list</span><span style="color: #89DDFF">=None,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">serial_comm</span><span style="color: #89DDFF">=None,</span><span style="color: #BABED8; font-style: italic">k_flag</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #C792EA">global</span><span style="color: #BABED8"> last_board</span></span><span class="line"><span style="color: #BABED8">    row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8">col </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span><span style="color: #BABED8">      </span><span style="color: #676E95; font-style: italic">##第六问判断棋子是否变化</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> j </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> now_board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">j</span><span style="color: #89DDFF">]-</span><span style="color: #BABED8">last_board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">j</span><span style="color: #89DDFF">]&gt;</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                        row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8">col </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> i</span><span style="color: #89DDFF">,</span><span style="color: #BABED8">j</span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF; font-style: italic">elif</span><span style="color: #BABED8"> now_board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">j</span><span style="color: #89DDFF">]-</span><span style="color: #BABED8">last_board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">j</span><span style="color: #89DDFF">]&lt;-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">请不要拿走</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">+</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">)+</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">,</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">+</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">j</span><span style="color: #89DDFF">)+</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">黑棋子,请放回去</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                        k_flag </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">                        code </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> i</span><span style="color: #89DDFF">*</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">+</span><span style="color: #BABED8">j</span><span style="color: #89DDFF">+</span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">                        </span></span><span class="line"><span style="color: #BABED8">                        </span></span><span class="line"><span style="color: #BABED8">                        </span></span><span class="line"><span style="color: #BABED8">                    </span><span style="color: #89DDFF; font-style: italic">elif</span><span style="color: #BABED8"> now_board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">j</span><span style="color: #89DDFF">]-</span><span style="color: #BABED8">last_board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">j</span><span style="color: #89DDFF">]&lt;</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                        k_flag </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">                        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">请不要拿走</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">+</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">)+</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">,</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">+</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">j</span><span style="color: #89DDFF">)+</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">白棋子,请放回去</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                        code </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> i</span><span style="color: #89DDFF">*</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">+</span><span style="color: #BABED8">j</span><span style="color: #89DDFF">+</span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> k_flag </span><span style="color: #89DDFF">:</span><span style="color: #BABED8">     </span></span><span class="line"><span style="color: #BABED8">        last_board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> PLAYER_O     </span><span style="color: #676E95; font-style: italic">##棋子被放置完之后记录上一步是玩家下的</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">对手完成：</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">+</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">row</span><span style="color: #89DDFF">)+</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">,</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">+</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">col</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">check_winner</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">last_board</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">last_board</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">玩家 O 胜利!</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            k_flag </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">is_board_full</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">last_board</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">last_board</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">平局!</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            k_flag </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> k_flag</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic">##如果标志位为1则继续此回合</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 机器回合</span></span><span class="line"><span style="color: #BABED8">            row</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> col </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">best_move</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">last_board</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic">##判断最佳决策</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">机器的回合:</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">+</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">row</span><span style="color: #89DDFF">)+</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">,</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">+</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">col</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> serial_comm</span><span style="color: #89DDFF">.</span><span style="color: #F07178">turn4_flag</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                black_piece_world_interger_x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> black_piece_world_decimal_x </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">split_float_number_to_str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">black_piece_world_list</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]/</span><span style="color: #F78C6C">10.0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                black_piece_world_interger_y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> black_piece_world_decimal_y </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">split_float_number_to_str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">black_piece_world_list</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]/</span><span style="color: #F78C6C">10.0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                message_piece </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">(*</span><span style="color: #89DDFF">&quot;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> black_piece_world_interger_y </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> black_piece_world_decimal_y </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> black_piece_world_interger_x </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> black_piece_world_decimal_x </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">)</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">                serial_comm</span><span style="color: #89DDFF">.</span><span style="color: #F07178">serial_port</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">write</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">message_piece</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">encode</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">utf-8</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">))</span><span style="color: #BABED8">       </span><span style="color: #676E95; font-style: italic">##等待机器将棋子放置完毕</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">elif</span><span style="color: #BABED8"> serial_comm</span><span style="color: #89DDFF">.</span><span style="color: #F07178">turn5_flag</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                white_piece_world_interger_x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> white_piece_world_decimal_x </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">split_float_number_to_str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">white_piece_world_list</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]/</span><span style="color: #F78C6C">10.0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                white_piece_world_interger_y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> white_piece_world_decimal_y </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">split_float_number_to_str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">white_piece_world_list</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]/</span><span style="color: #F78C6C">10.0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                message_piece </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">(*</span><span style="color: #89DDFF">&quot;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> white_piece_world_interger_y </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> white_piece_world_decimal_y </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> white_piece_world_interger_x </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> white_piece_world_decimal_x </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">)</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">                serial_comm</span><span style="color: #89DDFF">.</span><span style="color: #F07178">serial_port</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">write</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">message_piece</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">encode</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">utf-8</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">))</span><span style="color: #BABED8">       </span><span style="color: #676E95; font-style: italic">##等待机器将棋子放置完毕</span></span><span class="line"><span style="color: #BABED8">            chessboard_grid_world_interger_x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> chessboard_grid_world_decimal_x </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">split_float_number_to_str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">chessboard_grid_world_list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">row</span><span style="color: #89DDFF">*</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">+</span><span style="color: #82AAFF">col</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]/</span><span style="color: #F78C6C">10.0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            chessboard_grid_world_interger_y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> chessboard_grid_world_decimal_y </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">split_float_number_to_str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">chessboard_grid_world_list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">row</span><span style="color: #89DDFF">*</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">+</span><span style="color: #82AAFF">col</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]/</span><span style="color: #F78C6C">10.0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            message </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">(*</span><span style="color: #89DDFF">&quot;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> chessboard_grid_world_interger_y </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> chessboard_grid_world_decimal_y </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> chessboard_grid_world_interger_x </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> chessboard_grid_world_decimal_x </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">)</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">            serial_comm</span><span style="color: #89DDFF">.</span><span style="color: #F07178">serial_port</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">write</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">message</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">encode</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">utf-8</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">))</span><span style="color: #BABED8">       </span><span style="color: #676E95; font-style: italic">##等待机器将棋子放置完毕</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">机器完成:</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic">##记录上一步机器下的位置</span></span><span class="line"><span style="color: #BABED8">            last_board</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">row</span><span style="color: #89DDFF">][</span><span style="color: #BABED8">col</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> PLAYER_X</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic">##判断游戏是否结束</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">check_winner</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">last_board</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">last_board</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">机器 胜利!</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">is_board_full</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">last_board</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">last_board</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">平局!</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #676E95; font-style: italic">#################################################################################################</span></span><span class="line"></span></code></pre></div></p></details><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>四天三夜的电赛，人要颠了，好悬没把我攒昏过去。<br>总算搞完电赛的总结了~~</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;本篇blog是本人在打2024电赛E题学习到的相关知识的整理，由于我们选择的方案是深度数据和RGB数据融合的方法来判断棋子的位置。不同于大多</summary>
      
    
    
    
    <category term="Electronic" scheme="http://example.com/categories/Electronic/"/>
    
    
    <category term="ComputerVision" scheme="http://example.com/tags/ComputerVision/"/>
    
  </entry>
  
  <entry>
    <title>树莓派数字识别——openCV方法</title>
    <link href="http://example.com/post/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB%E2%80%94%E2%80%94openCV%E6%96%B9%E6%B3%95.html"/>
    <id>http://example.com/post/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB%E2%80%94%E2%80%94openCV%E6%96%B9%E6%B3%95.html</id>
    <published>2024-07-22T15:50:17.000Z</published>
    <updated>2025-03-28T11:50:59.944Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本项目是树莓派识别数字的小例程<br>电赛备赛时写的，实现对1-8的数字识别并与下位机通信控制小车进行运动</p><hr><p><img src="https://s2.loli.net/2024/07/23/ANWPnEUaByL3oKv.jpg" alt="_20240723092005.jpg"></p><hr><h1 id="项目前置"><a href="#项目前置" class="headerlink" title="项目前置"></a>项目前置</h1><h2 id="python-版本要求"><a href="#python-版本要求" class="headerlink" title="python 版本要求"></a>python 版本要求</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>python&gt;&#x3D;3.6</p></div><h2 id="库依赖要求"><a href="#库依赖要求" class="headerlink" title="库依赖要求"></a>库依赖要求</h2><p>做图像处理</p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>numpy<br>opencv-python</p></div><p>做引脚操控</p><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>RPi.GPIO<br>pyserial<br>rpi-lgpi</p></div><h1 id="项目主体"><a href="#项目主体" class="headerlink" title="项目主体"></a>项目主体</h1><h2 id="主要实现思路"><a href="#主要实现思路" class="headerlink" title="主要实现思路"></a>主要实现思路</h2><p><strong>传统图像处理，使用模板匹配</strong></p><h2 id="主要步骤"><a href="#主要步骤" class="headerlink" title="主要步骤"></a>主要步骤</h2><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><ol><li>对模板图像进行预处理，得到1-8总共8个模板</li><li>对识别图像进行预处理，将图像二值化转换取出矩形区域组成ROI区域</li><li>ROI和模板做模板匹配</li></ol></div><h2 id="详细过程"><a href="#详细过程" class="headerlink" title="详细过程"></a>详细过程</h2><p>仅展示部分源码，详细源码可以去 <a href="https://github.com/GreatPowerTrio/Cyber-Vanguard">GitHub库</a></p><h3 id="模板图像预处理"><a href="#模板图像预处理" class="headerlink" title="模板图像预处理"></a>模板图像预处理</h3><hr><p><img src="https://s2.loli.net/2024/07/22/Q1OvxlUdSD3mifr.jpg" alt="num_template.jpg"></p><hr><p>模板预览图本身是含有八个数字带外接矩形黑框的一张图，我们对它作二值化处理，在对二值化模板图像边缘提取，通过轮廓检测将模板的轮廓提取，在将其外接矩形坐标画出来，在对不同数字1-8进行排序，最后将整个图像按比例内截，在重排成（100，150）的固定的模板存入字典。</p><hr><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 定义需识别数字</span></span><span class="line"><span style="color: #BABED8">to_detect_num </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 硬件初始化</span></span><span class="line"><span style="color: #BABED8">ser </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">hardware_init</span><span style="color: #89DDFF">()</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">template </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imread</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">template_dir</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">num_template.jpg</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">gray_template </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">template</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_BGR2GRAY</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">二值化模板图像已读取</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 边缘检测</span></span><span class="line"><span style="color: #BABED8">edged_template </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">Canny</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">template</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">80</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">200</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 边缘低阈值75和高阈值20</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 轮廓检测</span></span><span class="line"><span style="color: #BABED8">template_contours</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> hierarchy </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">edged_template</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">RETR_EXTERNAL</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">CHAIN_APPROX_SIMPLE</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 读取模板轮廓的矩形坐标</span></span><span class="line"><span style="color: #BABED8">x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> w</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">boundingRect</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">template_contours</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">])</span></span><span class="line"></span><span class="line"><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;检测到</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">template_contours</span><span style="color: #89DDFF">)</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">个轮廓&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 模板数字排序 1-8 (太菜了写不出自动排序的脚本 &gt;_&lt; )</span></span><span class="line"><span style="color: #BABED8">sorted_template_contours </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">template_contours</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> template_contours</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> template_contours</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">],</span><span style="color: #BABED8">template_contours</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> template_contours</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">7</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> template_contours</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">6</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> template_contours</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">],</span><span style="color: #BABED8"> template_contours</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]]</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 构造模板字典</span></span><span class="line"><span style="color: #BABED8">digit_dict </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;&#125;</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 分割模板图像</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> c</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">enumerate</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">sorted_template_contours</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> w</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> h</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">boundingRect</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">c</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    roi </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> gray_template</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">y</span><span style="color: #89DDFF">+</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">y</span><span style="color: #89DDFF">+</span><span style="color: #BABED8">h</span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> x</span><span style="color: #89DDFF">+</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">x</span><span style="color: #89DDFF">+</span><span style="color: #BABED8">w</span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    roi </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">resize</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">roi</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">150</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    digit_dict</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">i</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> roi</span></span></code></pre></div><h3 id="识别图像预处理"><a href="#识别图像预处理" class="headerlink" title="识别图像预处理"></a>识别图像预处理</h3><p>从摄像头获取视频流，将其缩放固定比例减少后续的运算量，转换为灰度图并应用高斯模糊将锐度过高的区域排除边缘和消除噪点，再使用Canny边缘检测，提取边缘后进行膨胀，得到识别数字完整的矩形边缘轮廓。通过轮廓检测再将轮廓面积最大的前5个轮廓进行提取并排序，计算轮廓周长，进行近似轮廓，看是否能构成四边形，将能构成四边形的轮廓且面积符合一定要求的轮廓进行筛选，并通过两个矩形左x坐标的大小来判断数字的左右并重排。本身通过相机拍到的矩形数字框就不可能是正好的矩形，需要我们进行图像变换，因此进行透射变换，将提取到的四边形变换成矩形然后二值化。</p><hr><p><img src="https://s2.loli.net/2024/07/23/T2kZeb4Yzulom9X.png" alt=" 2024-07-23 093753.png"></p><hr><p><img src="https://s2.loli.net/2024/07/23/A2sqokG8RFVNEJb.png" alt=" 2024-07-23 093415.png"></p><hr><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 初始化视频捕获对象</span></span><span class="line"><span style="color: #BABED8">cap </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">VideoCapture</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">while</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">True:</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 逐帧读取视频</span></span><span class="line"><span style="color: #BABED8">    start_time </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> time</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">time</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    ret</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cap</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">read</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> ret</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">break</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 图像resize</span></span><span class="line"><span style="color: #BABED8">    ratio </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> frame</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">500.0</span></span><span class="line"><span style="color: #BABED8">    orig_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> frame</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">copy</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 转换为灰度图像</span></span><span class="line"><span style="color: #BABED8">    gray_img </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">orig_frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_BGR2GRAY</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 应用高斯模糊</span></span><span class="line"><span style="color: #BABED8">    blur_img </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">GaussianBlur</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">gray_img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># Canny 边缘检测</span></span><span class="line"><span style="color: #BABED8">    edged_img </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">Canny</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">blur_img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> low_threshold</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> high_threshold</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 边缘低阈值75和高阈值200</span></span><span class="line"><span style="color: #BABED8">    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">edged_img</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF">edged_img</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 定义膨胀操作的核</span></span><span class="line"><span style="color: #BABED8">    kernel </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getStructuringElement</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">MORPH_RECT</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 对边缘检测后的图像进行膨胀操作</span></span><span class="line"><span style="color: #BABED8">    dilated_img </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dilate</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">edged_img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> kernel</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">iterations</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Dilated Image</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> dilated_img</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 轮廓检测</span></span><span class="line"><span style="color: #BABED8">    contours</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _ </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">edged_img</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">RETR_EXTERNAL</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">CHAIN_APPROX_SIMPLE</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    sorted_contours </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">sorted</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">contours</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">key</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">contourArea</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">reverse</span><span style="color: #89DDFF">=True)[:</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    i </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">    screenCnt </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 在循环开始前初始化screenCnt</span></span><span class="line"><span style="color: #BABED8">    output </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> c </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> sorted_contours</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 计算轮廓周长</span></span><span class="line"><span style="color: #BABED8">        peri </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">arcLength</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">c</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">True)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 近似轮廓  0.02*peri为近似精度</span></span><span class="line"><span style="color: #BABED8">        approx </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">approxPolyDP</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">c</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0.02</span><span style="color: #89DDFF">*</span><span style="color: #82AAFF">peri</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">True)</span></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 如果近似轮廓有四个顶点，则认为找到了数字边缘</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">approx</span><span style="color: #89DDFF">)==</span><span style="color: #F78C6C">4</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">contourArea</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">approx</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">10000</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">and</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">contourArea</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">approx</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&lt;</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">45000</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic">#num_detect.shrink_approx(approx, 3)</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #BABED8">            screenCnt</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">approx</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            i </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">break</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 根据检测到的两个数字的x左坐标来判断左右并排序</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">screenCnt</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        num_detect</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">left_right_sort</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">screenCnt</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># print(f&quot;左:&#123;screenCnt[0]&#125;, 右:&#123;screenCnt[1]&#125;&quot;)     </span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 在尝试展示轮廓之前检查screenCnt是否已定义</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> screenCnt </span><span style="color: #89DDFF">!=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]:</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">drawContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> screenCnt</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        postion_count </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #BABED8">        warped_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">        thresh_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> c </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> screenCnt</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 检查轮廓c是否有点（即是否有效）</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> c</span><span style="color: #89DDFF">.</span><span style="color: #F07178">size</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">找到一个空的轮廓，跳过。</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #89DDFF; font-style: italic">continue</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 跳过当前轮廓，继续下一个轮廓</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 透视变换</span></span><span class="line"><span style="color: #BABED8">            warped_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">num_detect</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">four_point_transform</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">orig_frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> c</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">reshape</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">*</span><span style="color: #82AAFF"> ratio</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">            warped_list</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">postion_count</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">cvtColor</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">warped_list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">postion_count</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">COLOR_BGR2GRAY</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            thresh_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">threshold</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">warped_list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">postion_count</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">THRESH_BINARY</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">|</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">THRESH_OTSU</span><span style="color: #89DDFF">)[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #676E95; font-style: italic"># 显示透视变换结果</span></span><span class="line"><span style="color: #BABED8">            cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;Thresh_</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">postion_count</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> thresh_list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">postion_count</span><span style="color: #89DDFF">])</span></span></code></pre></div><h3 id="ROI区域"><a href="#ROI区域" class="headerlink" title="ROI区域"></a>ROI区域</h3><p>首先将图像预处理得到的二值化图像进行重排，变成（150，100）的图像，再进行高斯模糊和腐蚀操作滤除噪点，边缘检测再次提取矩形框边缘，轮廓检测提取矩形框轮廓，最后将整个图像按比例内截，在重排成（100，150）的ROI区域送给下步模板匹配。</p><hr><p><img src="https://s2.loli.net/2024/07/23/mJKSCboDnTfFR2B.png" alt=" 2024-07-23 095047.png"></p><hr><p><img src="https://s2.loli.net/2024/07/23/iBPjtf45hvx3pr8.png" alt=" 2024-07-23 101548.png"></p><hr><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> roi</span><span style="color: #89DDFF">.</span><span style="color: #F07178">size</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 检查roi是否为空</span></span><span class="line"><span style="color: #BABED8">    roi </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">resize</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">thresh_list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">postion_count</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">150</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 定义结构元素</span></span><span class="line"><span style="color: #BABED8">    kernel </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">ones</span><span style="color: #89DDFF">((</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">,</span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint8</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    roi_blur </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">GaussianBlur</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">roi</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">7</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">7</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    roi_edge </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">Canny</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">roi_blur</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">80</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">200</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    roi_eroded </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">erode</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">roi_edge</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> kernel</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">iterations</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 找到边缘的轮廓</span></span><span class="line"><span style="color: #BABED8">    roi_contours</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _ </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">findContours</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">roi_edge</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">RETR_EXTERNAL</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">CHAIN_APPROX_SIMPLE</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> cnt </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> roi_contours</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8">y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8">w</span><span style="color: #89DDFF">,</span><span style="color: #BABED8">h</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">boundingRect</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">roi_edge</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">rectangle</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">roi</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">x</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> y</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">x</span><span style="color: #89DDFF">+</span><span style="color: #82AAFF">w</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> y</span><span style="color: #89DDFF">+</span><span style="color: #82AAFF">h</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">roi_edge</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF">roi_edge</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #BABED8">    roi </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">resize</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">roi</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">y</span><span style="color: #89DDFF">:</span><span style="color: #82AAFF">y</span><span style="color: #89DDFF">+</span><span style="color: #82AAFF">h</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> x</span><span style="color: #89DDFF">:</span><span style="color: #82AAFF">x</span><span style="color: #89DDFF">+</span><span style="color: #82AAFF">w</span><span style="color: #89DDFF">],(</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">150</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    roi </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">resize</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">roi</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">+</span><span style="color: #F78C6C">15</span><span style="color: #89DDFF">:</span><span style="color: #F78C6C">150</span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">15</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">+</span><span style="color: #F78C6C">12</span><span style="color: #89DDFF">:</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">12</span><span style="color: #89DDFF">],(</span><span style="color: #F78C6C">100</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">150</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;ROI</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">postion_count</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> roi</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">ROI为空，跳过调整大小。</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">postion_count </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span></code></pre></div><h3 id="模板匹配"><a href="#模板匹配" class="headerlink" title="模板匹配"></a>模板匹配</h3><p>将字典里的数字与模板图像取出与识别图像的ROI区域进行模板匹配，找到最适合的数字，再进行个赋值。</p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 初始化模板匹配</span></span><span class="line"><span style="color: #BABED8">scores </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">digit</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> digitROI</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> digit_dict</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">items</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">    result </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">matchTemplate</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">roi</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> digitROI</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">TM_CCOEFF</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 模板匹配</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">_</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> score</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> _</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">minMaxLoc</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">result</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    scores</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">score</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">trust </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">False</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 找到最适合的数字，从scores中找到最大值的索引 + 1     1~8</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> score </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> scores</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> score </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0.8</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        trust </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">True</span><span style="color: #BABED8">      </span></span><span class="line"><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> trust</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">    output</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">scores</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">index</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">max</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">scores</span><span style="color: #89DDFF">))</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">))</span></span></code></pre></div><h3 id="下位机通信"><a href="#下位机通信" class="headerlink" title="下位机通信"></a>下位机通信</h3><p>通过串口去传输数据，将左右数字传给下位机MCU进行进一步的控制。</p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> output </span><span style="color: #89DDFF">!=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]:</span><span style="color: #676E95; font-style: italic"># 如果识别结果不为空</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> to_detect_num </span><span style="color: #89DDFF">is</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">None:</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 如果这不是第一次检测</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">)):</span></span><span class="line"><span style="color: #BABED8">            cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">putText</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> output</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">screenCnt</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> screenCnt</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">][</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">-</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">FONT_HERSHEY_SIMPLEX</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0.8</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;左：</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">，右：</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">hardware</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">UART_read</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">ser</span><span style="color: #89DDFF">)==</span><span style="color: #C792EA">b</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">O</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;发送</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">、</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">成功&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                hardware</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">UART_write</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">ser</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;(</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">)</span><span style="color: #BABED8">\r\n</span><span style="color: #C3E88D">&#39;</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">encode</span><span style="color: #89DDFF">())</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">while</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">hardware</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">UART_read</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">ser</span><span style="color: #89DDFF">)==</span><span style="color: #C792EA">b</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">O</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">            hardware</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">UART_write</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">ser</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;(</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">)</span><span style="color: #BABED8">\r\n</span><span style="color: #C3E88D">&#39;</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">encode</span><span style="color: #89DDFF">())</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;发送</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">成功&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            to_detect_num </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;需要识别的数字为 </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">等待下位机OK</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            start_wait_OK </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> time</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">time</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #89DDFF">(((</span><span style="color: #BABED8">start_wait_OK </span><span style="color: #89DDFF">-</span><span style="color: #BABED8"> time</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">time</span><span style="color: #89DDFF">())*</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">)%</span><span style="color: #F78C6C">10</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&gt;</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                start_wait_OK </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> time</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">time</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">等待超时</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">                hardware</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">UART_write</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">ser</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;(</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">)</span><span style="color: #BABED8">\r\n</span><span style="color: #C3E88D">&#39;</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">encode</span><span style="color: #89DDFF">())</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;发送</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">output</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">成功&quot;</span><span style="color: #89DDFF">)</span></span></code></pre></div><h1 id="识别效果"><a href="#识别效果" class="headerlink" title="识别效果"></a>识别效果</h1><p>仅部分图片，有待补充</p><hr><p><img src="https://s2.loli.net/2024/07/22/STJ9CH23vQxImPk.jpg" alt="5add31efe077d8bf27834f7cb80a2e6.jpg"></p><hr><p><img src="https://s2.loli.net/2024/07/22/jPCUBqlNVrJywGu.jpg" alt="58e2ee3769243023b28ab15b4334fb4.jpg"></p><hr><div align="center">  <iframe width="100%" height="100%" style="min-height: 400px;max-width: 1000px; max-height: 600px;" src="https://live.csdn.net/v/embed/411703" frameborder="0" allowfullscreen></iframe></div><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;本项目是树莓派识别数字的小例程&lt;br&gt;电赛备赛时写的，实现对1-8的数字识别并与下位机通信控制小车进行运动&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img</summary>
      
    
    
    
    <category term="MashineLearning" scheme="http://example.com/categories/MashineLearning/"/>
    
    
    <category term="python" scheme="http://example.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Jetson Nano部署Yolo模型笔记</title>
    <link href="http://example.com/post/Jetson-Nano%E9%83%A8%E7%BD%B2Yolo%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0.html"/>
    <id>http://example.com/post/Jetson-Nano%E9%83%A8%E7%BD%B2Yolo%E6%A8%A1%E5%9E%8B%E7%AC%94%E8%AE%B0.html</id>
    <published>2024-07-22T15:34:15.000Z</published>
    <updated>2025-04-15T13:40:45.930Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本人在大二期间就学习了计算机视觉相关的模型搭建、训练和预测。大致了解目标检测的训练流程，却没有去实际在端设备上进行过模型的部署。在准备电赛期间，拿到 jetson nano 开始玩一玩模型部署，就有了这篇博客。</p><p><img src="https://s2.loli.net/2024/07/22/AoBYZEG6m4pd9ID.jpg" alt="d6c653d5d6e978a038602be5322c17b.jpg"></p><h1 id="项目前置"><a href="#项目前置" class="headerlink" title="项目前置"></a>项目前置</h1><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title"> </p><p>深度模型<br><strong>YOLOv8(pytorch框架)</strong></p><p>深度模型部署框架<br><strong>infer (基于TensorRT和onnx模型的框架)</strong></p></div><h1 id="项目主体"><a href="#项目主体" class="headerlink" title="项目主体"></a>项目主体</h1><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title"> </p><p><p>使用YOLOv8对数字进行识别</p></p></div><h2 id="整体流程"><a href="#整体流程" class="headerlink" title="整体流程"></a>整体流程</h2><div class="custom-quote danger"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M19.76 5.23C15.84 5.23 12 2 12 2C12 2 8.15996 5.23 4.23996 5.23C4.23996 5.23 1.86996 16.99 12 22C22.13 16.99 19.76 5.23 19.76 5.23Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 16H12"></path></svg></span><p class="custom-quote-title">WARNING</p><p>电脑上进行YOLOv8模型训练<br>—&gt; 输出.pt模型<br>—&gt; 转换成onnx模型(通用的模型)<br>—&gt; 在infer框架下转换成.engine<br>—&gt; 运行.engine开始运行</p></div><h2 id="模型训练"><a href="#模型训练" class="headerlink" title="模型训练"></a>模型训练</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p><p>在PC端或是GPU服务器上进行会比较顺利。</p></p></div><h2 id="下载YOLOv8"><a href="#下载YOLOv8" class="headerlink" title="下载YOLOv8"></a>下载YOLOv8</h2><p><a href="https://github.com/ultralytics/ultralytics">YOLOv8_GitHub库</a></p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 使用命令行</span></span><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">clone</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">https://github.com/ultralytics/ultralytics.git</span></span></code></pre></div><p>python安装ultralytics库（推荐在conda上进行）</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">pip</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">ultralytics</span></span></code></pre></div><p>安装其他依赖库</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #676E95; font-style: italic"># 在ultralytics的仓库里找到requirements.txt,注意当前工作目录（转移到requirements.txt所在目录）</span></span><span class="line"><span style="color: #FFCB6B">pip</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">install</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-r</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">requirements.txt</span></span></code></pre></div><h2 id="数据集获取"><a href="#数据集获取" class="headerlink" title="数据集获取"></a>数据集获取</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>根据最终需要识别的目标，可以去网上找现成的数据集</p></div><details class="custom-details"><summary>在这里推荐查找数据集的两个网站</summary><ol><li>Kaggle</li></ol><p><img src="https://s2.loli.net/2024/07/22/SpUWXz6diucYOb1.png" alt=" 2024-07-22 144430.png"></p><ol start="2"><li>roboflow Universe</li></ol><p><img src="https://s2.loli.net/2024/07/22/zVX8fjO7WG2TmxE.png" alt=" 2024-07-22 144458.png"></p></details><h2 id="数据集采集（可选）"><a href="#数据集采集（可选）" class="headerlink" title="数据集采集（可选）"></a>数据集采集（可选）</h2><div class="custom-quote tip"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06"></path><path stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M11.99 18H12.01"></path></svg></span><p class="custom-quote-title">TIP</p><p>也可以自己去做数据集，像本项目就是自己去采的数据集。</p></div><details class="custom-details"><summary>本项目</summary><p>总共400张，通过写opencv的脚本去实现采集。<br><img src="https://s2.loli.net/2024/07/22/haGrSRiAvk4wUsW.png" alt=" 2024-07-22 154312.png"></p></details><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>这里提供一个可以通过摄像头去获取图片的脚本<strong>auto_get_img.py</strong></p></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> cv2 </span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> os</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> osp</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> numpy </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> np</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 保存目录需要自己去设置</span></span><span class="line"><span style="color: #BABED8">script_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">__file__</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">img_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">script_dir</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">image</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">save_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">img_dir</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">captured_image_dir</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 创建保存目录,如果不存在</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">exists</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">save_dir</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    os</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">makedirs</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">save_dir</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;保存目录</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">save_dir</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">已创建&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;保存目录</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">save_dir</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">已存在&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 创建视频捕获对象</span></span><span class="line"><span style="color: #BABED8">cap </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">VideoCapture</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> cap</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">isOpened</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">无法打开摄像头</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">exit</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">times </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">input</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">请输入需要截取几个图片</span><span style="color: #BABED8">\n</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">i </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">while</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">True:</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 读取一帧</span></span><span class="line"><span style="color: #BABED8">    ret</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cap</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">read</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> ret</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 显示图像</span></span><span class="line"><span style="color: #BABED8">        cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">frame</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> frame</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #676E95; font-style: italic"># 保存图像</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">waitKey</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&amp;</span><span style="color: #BABED8"> </span><span style="color: #C792EA">0x</span><span style="color: #F78C6C">FF</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">ord</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">s</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">):</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 按s保存图片</span></span><span class="line"><span style="color: #BABED8">            cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imwrite</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">save_dir </span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;img_</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">i</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">.jpg&quot;</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> frame</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;图像已保存为 img_</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">i</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">.jpg&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            times </span><span style="color: #89DDFF">-=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">            i </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">            </span></span><span class="line"><span style="color: #BABED8">        </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">无法读取摄像头图像</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">waitKey</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&amp;</span><span style="color: #BABED8"> </span><span style="color: #C792EA">0x</span><span style="color: #F78C6C">FF</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">ord</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">q</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">or</span><span style="color: #BABED8"> times </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 按q退出</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">break</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 释放摄像头</span></span><span class="line"><span style="color: #BABED8">cap</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">release</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 关闭所有OpenCV窗口</span></span><span class="line"><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">destroyAllWindows</span><span style="color: #89DDFF">()</span></span></code></pre></div><h2 id="数据集的标定（可选）"><a href="#数据集的标定（可选）" class="headerlink" title="数据集的标定（可选）"></a>数据集的标定（可选）</h2><p>本项目使用的是<strong>精灵标注助手</strong>，使用labelme之类的标注工具也是可以的，我们的目的是对数据集图片打标，对我们感兴趣的区域进行标注，画出bondnigbox。我们做的是目标检测detect，只画矩形框即可。</p><details class="custom-details"><summary>大致如图</summary><p><img src="https://s2.loli.net/2024/07/22/klms7viDcShRgZF.png" alt=" 2024-07-22 163813.png"></p></details><h2 id="XML转txt-YOLO数据集格式"><a href="#XML转txt-YOLO数据集格式" class="headerlink" title="XML转txt(YOLO数据集格式)"></a>XML转txt(YOLO数据集格式)</h2><p>XML是labelme标注完之后生成的文件格式，详细可以去google看看。Yolo接受的数据集格式是txt，详细去google。</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>这里提供一个XML转txt的脚本<strong>xml_to_txt.py</strong></p></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic">#########################</span></span><span class="line"><span style="color: #676E95; font-style: italic"># xml2txt.py</span></span><span class="line"><span style="color: #676E95; font-style: italic">#########################</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> xml</span><span style="color: #89DDFF">.</span><span style="color: #F07178">etree</span><span style="color: #89DDFF">.</span><span style="color: #F07178">ElementTree</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> ET</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> cv2</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> numpy </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> np</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> os </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> listdir</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">path </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> join</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">classes </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">1</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">2</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">3</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">4</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">5</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">6</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">7</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">8</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 写入你做目标检测的物体的分类</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">convert</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">size</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">box</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    dw </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">.</span><span style="color: #F07178"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">size</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">    dh </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">.</span><span style="color: #F07178"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">size</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">    x </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">box</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> box</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">])</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2.0</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">    y </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">box</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> box</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">])</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2.0</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">    w </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> box</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #BABED8"> box</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> box</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #BABED8"> box</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">    x </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> x </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> dw</span></span><span class="line"><span style="color: #BABED8">    w </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> w </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> dw</span></span><span class="line"><span style="color: #BABED8">    y </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> y </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> dh</span></span><span class="line"><span style="color: #BABED8">    h </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> h </span><span style="color: #89DDFF">*</span><span style="color: #BABED8"> dh</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">x</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> y</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> w</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> h</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #C792EA">def</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">convert_annotation</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">xmlpath</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">xmlname</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">with</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">open</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">xmlpath</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">r</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">encoding</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">utf-8</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> in_file</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        txtname </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> xmlname</span><span style="color: #89DDFF">[:-</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">+</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.txt</span><span style="color: #89DDFF">&#39;</span></span><span class="line"><span style="color: #BABED8">        txtfile </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">txtpath</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> txtname</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        tree </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> ET</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">parse</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">in_file</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        root </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> tree</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getroot</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">        filename </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> root</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">find</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">filename</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        img </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imdecode</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">np</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">fromfile</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #F78C6C">&#123;&#125;</span><span style="color: #C3E88D">/</span><span style="color: #F78C6C">&#123;&#125;</span><span style="color: #C3E88D">.</span><span style="color: #F78C6C">&#123;&#125;</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">format</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">imgpath</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> xmlname</span><span style="color: #89DDFF">[:-</span><span style="color: #F78C6C">4</span><span style="color: #89DDFF">],</span><span style="color: #82AAFF"> postfix</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> np</span><span style="color: #89DDFF">.</span><span style="color: #F07178">uint8</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">IMREAD_COLOR</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        h</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> w </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> img</span><span style="color: #89DDFF">.</span><span style="color: #F07178">shape</span><span style="color: #89DDFF">[:</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">]</span></span><span class="line"><span style="color: #BABED8">        res </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> obj </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> root</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">iter</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">object</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">            cls </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> obj</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">find</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">name</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">).</span><span style="color: #F07178">text</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> cls </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">in</span><span style="color: #BABED8"> classes</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                classes</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">cls</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            cls_id </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> classes</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">index</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">cls</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            xmlbox </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> obj</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">find</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">bndbox</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            b </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">float</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">xmlbox</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">find</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">xmin</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">).</span><span style="color: #F07178">text</span><span style="color: #89DDFF">),</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">float</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">xmlbox</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">find</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">xmax</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">).</span><span style="color: #F07178">text</span><span style="color: #89DDFF">),</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">float</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">xmlbox</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">find</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">ymin</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">).</span><span style="color: #F07178">text</span><span style="color: #89DDFF">),</span></span><span class="line"><span style="color: #BABED8">                 </span><span style="color: #FFCB6B">float</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">xmlbox</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">find</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">ymax</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">).</span><span style="color: #F07178">text</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">            bb </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">convert</span><span style="color: #89DDFF">((</span><span style="color: #82AAFF">w</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> h</span><span style="color: #89DDFF">),</span><span style="color: #82AAFF"> b</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            res</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cls_id</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">+</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">([</span><span style="color: #FFCB6B">str</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">a</span><span style="color: #89DDFF">)</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #82AAFF"> a </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #82AAFF"> bb</span><span style="color: #89DDFF">]))</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">len</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">res</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">!=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">with</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">open</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">txtfile</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">w+</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> f</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                f</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">write</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8">\n</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">res</span><span style="color: #89DDFF">))</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> __name__ </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">__main__</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">    postfix </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">jpg</span><span style="color: #89DDFF">&#39;</span></span><span class="line"><span style="color: #BABED8">    imgpath </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">xxx</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 图片存储位置</span></span><span class="line"><span style="color: #BABED8">    xmlpath </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">xxx</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># xml存储位置</span></span><span class="line"><span style="color: #BABED8">    txtpath </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">xxx</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># txt存储位置</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">exists</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">txtpath</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        os</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">makedirs</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">txtpath</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">exist_ok</span><span style="color: #89DDFF">=True)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #FFCB6B">list</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">listdir</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">xmlpath</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    error_file_list </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[]</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #BABED8"> i </span><span style="color: #89DDFF; font-style: italic">in</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">range</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> len</span><span style="color: #89DDFF">(</span><span style="color: #FFCB6B">list</span><span style="color: #89DDFF">)):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">try</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            path </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">xmlpath</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.xml</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">in</span><span style="color: #BABED8"> path</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">or</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">.XML</span><span style="color: #89DDFF">&#39;</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">in</span><span style="color: #BABED8"> path</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">convert_annotation</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">path</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;file </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D"> convert success.&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #89DDFF; font-style: italic">else</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">                </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;file </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D"> is not xml format.&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">except</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">Exception</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> e</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;file </span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">]</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D"> convert error.&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;error message:</span><span style="color: #BABED8">\n</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">e</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">            error_file_list</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">append</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">list</span><span style="color: #89DDFF">[</span><span style="color: #82AAFF">i</span><span style="color: #89DDFF">])</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;this file convert failure</span><span style="color: #BABED8">\n</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">error_file_list</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">print</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&#39;Dataset Classes:</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">classes</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&#39;</span><span style="color: #89DDFF">)</span></span></code></pre></div><p>转换得到的文件要做成类似如下文件结构</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">——dataset</span></span><span class="line"><span style="color: #89DDFF">|</span></span><span class="line"><span style="color: #89DDFF">|</span></span><span class="line"><span style="color: #FFCB6B">————train—————images</span></span><span class="line"><span style="color: #89DDFF">|</span><span style="color: #BABED8">       </span><span style="color: #89DDFF">|</span></span><span class="line"><span style="color: #89DDFF">|</span><span style="color: #BABED8">       </span><span style="color: #FFCB6B">——————labels</span></span><span class="line"><span style="color: #89DDFF">|</span></span><span class="line"><span style="color: #FFCB6B">————test——————images</span></span><span class="line"><span style="color: #89DDFF">|</span><span style="color: #BABED8">       </span><span style="color: #89DDFF">|</span></span><span class="line"><span style="color: #89DDFF">|</span><span style="color: #BABED8">       </span><span style="color: #FFCB6B">——————labels</span></span><span class="line"><span style="color: #89DDFF">|</span></span><span class="line"><span style="color: #FFCB6B">————val———————images</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF">|</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #FFCB6B">——————labels</span></span><span class="line"></span></code></pre></div><h2 id="配置数据集"><a href="#配置数据集" class="headerlink" title="配置数据集"></a>配置数据集</h2><p>在yolo中通过yaml文件来对数据集进行管理和读取，在训练时调用数据集就是看yaml的。</p><p>以下提供一个简单的yaml文件的范例，建议把yaml文件和dataset放在同一个文件夹</p><div class="language-yaml"><button title="Copy code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #F07178">path</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">F:\AI\Yolov8\Project\datasets\number\dataset</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic">#数据集的位置</span></span><span class="line"><span style="color: #F07178">train</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">images/train</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># train图片的文件夹与数据集path的相对位置</span></span><span class="line"><span style="color: #F07178">val</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">images/val</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># val图片的文件夹与数据集path的相对位置</span></span><span class="line"></span><span class="line"><span style="color: #F07178">nc</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">8</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 目标检测物体类的数目 </span></span><span class="line"><span style="color: #F07178">names</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">1</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">2</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">3</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">4</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">5</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">6</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">7</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">8</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 物体对应的名称</span></span><span class="line"></span></code></pre></div><h2 id="YOLO模型训练"><a href="#YOLO模型训练" class="headerlink" title="YOLO模型训练"></a>YOLO模型训练</h2><p>通过yolo官方提供的库进行训练，选取yolov8n.pt作为预训练模型。yolov8n是规模最小的模型，之后部署在jetson nano上运行会相对比较流畅。</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>这里提供一个训练脚本<strong>train.py</strong></p></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> ultralytics </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> YOLO</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> osp</span></span><span class="line"><span style="color: #BABED8">root_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">abspath</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">__file__</span><span style="color: #89DDFF">)))</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic">#&lt;-- absolute dir the script is in</span></span><span class="line"><span style="color: #BABED8">script_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">__file__</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic">#&lt;-- absolute dir the script is in</span></span><span class="line"><span style="color: #BABED8">save_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">root_dir</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">exports/runs/train/exp</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 数据会保存到../exports/runs/train/exp</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">not</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">exists</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">save_dir</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">    os</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">makedirs</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">save_dir</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">dataset_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">root_dir</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">datasets</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 数据集存放文件夹位置</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> __name__ </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">__main__</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    model </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">YOLO</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">root_dir</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">//yolov8n.pt&quot;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 改成你的模型的存放地址</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># YOLO(&quot;model.pt&quot;)  use pre-trained model if available</span></span><span class="line"><span style="color: #BABED8">    model</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">info</span><span style="color: #89DDFF">()</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 展示模型信息</span></span><span class="line"><span style="color: #BABED8">    model</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">train</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">task</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">=</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">detect</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">data</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF"> dataset_dir </span><span style="color: #89DDFF">+</span><span style="color: #89DDFF">&quot;</span><span style="color: #BABED8">\\</span><span style="color: #C3E88D">number</span><span style="color: #BABED8">\\</span><span style="color: #C3E88D">num_detection.yaml</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">epochs</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">200</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">workers</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">save_dir</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">save_dir</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 进行模型训练</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># task      -&gt;  表示任务 detect表示做目标检测</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># data      -&gt;  表示数据集yaml文件的存放位置</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># epochs    -&gt;  表示训练的轮数</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># workers   -&gt;  表示装载时CPU的线程数</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># save_dir  -&gt;  表示训练出的模型的保存路径</span></span><span class="line"></span></code></pre></div><h2 id="模型验证"><a href="#模型验证" class="headerlink" title="模型验证"></a>模型验证</h2><p>训练出模型之后我们需要检验一下模型的识别效果，可以去runs里看混淆矩阵或召回率之类的，不过这不是我这篇博客的重点。</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>我在这提供一个摄像头的验证demo</p></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> osp</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> cv2</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> ultralytics </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> YOLO</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> cv2 </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> getTickCount</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> getTickFrequency</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 加载 YOLOv8 模型</span></span><span class="line"><span style="color: #BABED8">script_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">abspath</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">__file__</span><span style="color: #89DDFF">))</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic">#&lt;-- absolute dir the script is in</span></span><span class="line"><span style="color: #BABED8">parent_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">script_dir</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">grandpa_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">parent_dir</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">model_path </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">grandpa_dir</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">runs/detect/train/weights/best.pt</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">model </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">YOLO</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;</span><span style="color: #F78C6C">&#123;</span><span style="color: #82AAFF">model_path</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 获取摄像头内容，参数 0 表示使用默认的摄像头</span></span><span class="line"><span style="color: #BABED8">cap </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">VideoCapture</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">while</span><span style="color: #BABED8"> cap</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">isOpened</span><span style="color: #89DDFF">():</span></span><span class="line"><span style="color: #BABED8">    loop_start </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">getTickCount</span><span style="color: #89DDFF">()</span></span><span class="line"><span style="color: #BABED8">    success</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cap</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">read</span><span style="color: #89DDFF">()</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 读取摄像头的一帧图像</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> success</span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">        results </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> model</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">predict</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">source</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">frame</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 对当前帧进行目标检测并显示结果</span></span><span class="line"><span style="color: #BABED8">    annotated_frame </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> results</span><span style="color: #89DDFF">[</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">].</span><span style="color: #82AAFF">plot</span><span style="color: #89DDFF">()</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 中间放自己的显示程序</span></span><span class="line"><span style="color: #BABED8">    loop_time </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">getTickCount</span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">-</span><span style="color: #BABED8"> loop_start</span></span><span class="line"><span style="color: #BABED8">    total_time </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> loop_time </span><span style="color: #89DDFF">/</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">getTickFrequency</span><span style="color: #89DDFF">())</span></span><span class="line"><span style="color: #BABED8">    FPS </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">int</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">/</span><span style="color: #82AAFF"> total_time</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 在图像左上角添加FPS文本</span></span><span class="line"><span style="color: #BABED8">    fps_text </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #C792EA">f</span><span style="color: #C3E88D">&quot;FPS: </span><span style="color: #F78C6C">&#123;</span><span style="color: #BABED8">FPS</span><span style="color: #C792EA">:.2f</span><span style="color: #F78C6C">&#125;</span><span style="color: #C3E88D">&quot;</span></span><span class="line"><span style="color: #BABED8">    font </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #F07178">FONT_HERSHEY_SIMPLEX</span></span><span class="line"><span style="color: #BABED8">    font_scale </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">1</span></span><span class="line"><span style="color: #BABED8">    font_thickness </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">2</span></span><span class="line"><span style="color: #BABED8">    text_color </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">255</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 红色</span></span><span class="line"><span style="color: #BABED8">    text_position </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">30</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 左上角位置</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">putText</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">annotated_frame</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> fps_text</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> text_position</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> font</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> font_scale</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> text_color</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> font_thickness</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">img</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> annotated_frame</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #676E95; font-style: italic"># 通过按下 &#39;q&#39; 键退出循环</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">waitKey</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&amp;</span><span style="color: #BABED8"> </span><span style="color: #C792EA">0x</span><span style="color: #F78C6C">FF</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">ord</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">q</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">):</span></span><span class="line"><span style="color: #BABED8">        </span><span style="color: #89DDFF; font-style: italic">break</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">cap</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">release</span><span style="color: #89DDFF">()</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 释放摄像头资源</span></span><span class="line"><span style="color: #BABED8">cv2</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">destroyAllWindows</span><span style="color: #89DDFF">()</span><span style="color: #BABED8">  </span><span style="color: #676E95; font-style: italic"># 关闭OpenCV窗口</span></span></code></pre></div><h2 id="模型导出"><a href="#模型导出" class="headerlink" title="模型导出"></a>模型导出</h2><p>yolo是基于pytorch深度学习框架的一种视觉模型，经过训练产生的模型是后缀.pth的pytorch模型，是无法直接在端侧（非pytorch框架下）直接运行的。因此我们需要将其转换成其他类型的模型文件。一般pytorch模型都是导出成onnx模型（一种相对通用的模型）。</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>这里提供一个pth转onnx的脚本<strong>pth_to_onnx.py</strong></p></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> os</span><span style="color: #89DDFF">.</span><span style="color: #F07178">path</span><span style="color: #BABED8"> </span><span style="color: #89DDFF; font-style: italic">as</span><span style="color: #BABED8"> osp</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> ultralytics </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> YOLO</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">script_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">abspath</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">__file__</span><span style="color: #89DDFF">))</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic">#&lt;-- absolute dir the script is in</span></span><span class="line"><span style="color: #BABED8">parent_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">script_dir</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">root_dir </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">dirname</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">parent_dir</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">model_path </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">root_dir</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">runs</span><span style="color: #BABED8">\\</span><span style="color: #C3E88D">detect</span><span style="color: #BABED8">\\</span><span style="color: #C3E88D">train</span><span style="color: #BABED8">\\</span><span style="color: #C3E88D">weights</span><span style="color: #BABED8">\\</span><span style="color: #C3E88D">best.pt</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #676E95; font-style: italic"># 更改成你的模型存放位置 </span></span><span class="line"></span><span class="line"><span style="color: #BABED8">model </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">YOLO</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">model_path</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">success </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> model</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">export</span><span style="color: #89DDFF">(</span><span style="color: #BABED8; font-style: italic">format</span><span style="color: #89DDFF">=</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">onnx</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">batch</span><span style="color: #89DDFF">=</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #BABED8; font-style: italic">save_dir</span><span style="color: #89DDFF">=</span><span style="color: #82AAFF">osp</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">join</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">parent_dir</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">exports</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">))</span><span style="color: #676E95; font-style: italic">#导出为onnx模型</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 静态batch 输入batch张图片作batch个的推理</span></span><span class="line"><span style="color: #676E95; font-style: italic"># success = model.export(format=&quot;onnx&quot;, dynamic=Ture)</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 动态batch 输入多少张图片作多少张推理 server时使用(服务器)</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 此处导出的模型为静态batch</span></span><span class="line"></span></code></pre></div><p>将生成的onnx模型文件上传到jetson nano上，在上位机上的模型训练工作我们就完成了。</p><h2 id="模型部署"><a href="#模型部署" class="headerlink" title="模型部署"></a>模型部署</h2><p>本次模型部署使用的是<a href="https://github.com/shouxieai/infer">infer</a>的模型部署框架<br>详细操作可以参考其GitHub库。</p><p>首先我们在github上拉取infer的仓库</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">git</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">clone</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">https://github.com/shouxieai/infer.git</span></span></code></pre></div><details class="custom-details"><summary>infer框架的文件结构</summary><p><img src="https://s2.loli.net/2024/07/22/ibEgKt5rV3R8mon.png" alt=" 2024-07-22 183830.png"></p><p><strong>src</strong> 源文件夹，存放最终我们cmake的c++文件，进行检测的代码<br><strong>workspace</strong> 存放我们的onnx模型和提供一个节点v8格式到infer格式转换脚本v8trans.py<br><strong>workspace&#x2F;inference</strong> 存放我们的待检测的图片</p></details><p>需要在配置trtexec工具的环境变量</p><p>打开.bashrc文件</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">nano</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">~/.bashrc</span></span></code></pre></div><p>在最后一行添加如下命令</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #C792EA">export</span><span style="color: #BABED8"> PATH</span><span style="color: #89DDFF">=</span><span style="color: #C3E88D">/usr/src/tensorrt/bin:</span><span style="color: #BABED8">$PATH</span></span></code></pre></div><p>按下<strong>ctrl+x y Enter</strong>保存并退出</p><p>刷新一下环境变量</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #82AAFF">source</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">~/.bashrc</span></span></code></pre></div><h2 id="onnx模型转换"><a href="#onnx模型转换" class="headerlink" title="onnx模型转换"></a>onnx模型转换</h2><p>将onnx模型转移到infer的workspace文件夹中，将当前工作路径移动到workspace文件夹中，执行infer提供的onnx转换到infer框架下的onnx的脚本<strong>v8trans.py</strong></p><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #BABED8">python v8trans</span><span style="color: #89DDFF">.</span><span style="color: #F07178">py</span><span style="color: #BABED8"> xx</span><span style="color: #89DDFF">.</span><span style="color: #F07178">onnx</span></span></code></pre></div><p>运行后会在当前工作目录下生成一个xx.trans.onnx模型</p><h2 id="onnx模型优化"><a href="#onnx模型优化" class="headerlink" title="onnx模型优化"></a>onnx模型优化</h2><p>onnxoptimizer、onnxsim被誉为onnx的优化利器，其中onnxsim可以优化常量，onnxoptimizer可以对节点进行压缩</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>这里提供一个onnx模型优化脚本<strong>v8onnxsim.py</strong></p></div><div class="language-python"><button title="Copy code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> onnx</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #BABED8"> onnxsim </span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #BABED8"> simplify</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">onnx_model </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> onnx</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">load</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">xx.transd.onnx</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">model_simp</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> check </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">simplify</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">onnx_model</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">assert</span><span style="color: #BABED8"> check</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Simplified ONNX model could not be Validated</span><span style="color: #89DDFF">&quot;</span></span><span class="line"><span style="color: #BABED8">onnx</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">save</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">model_simp</span><span style="color: #89DDFF">,</span><span style="color: #82AAFF"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">xx.transd.sim.onnx</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"></span></code></pre></div><p>执行完成会在当前工作目录生成一个<strong>xx.transd.sim.onnx</strong>模型，其在端侧运行的能效会高一些。</p><h2 id="生成engine"><a href="#生成engine" class="headerlink" title="生成engine"></a>生成engine</h2><p>infer框架可以直接通过trtexec工具直接生成engine文件。比较简单，没有复杂的封装，适合初学者。</p><p>终端使用trtexec工具直接构建engine</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">trtexec</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">--onnx=workspace/xx.transd.sim.onnx</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">--saveEngine=workspace/xx.transd.sim.engine</span></span></code></pre></div><details class="custom-details"><summary>trtexec的扩展应用</summary><p>trtexec是NVIDIA TensorRT SDK中的一个实用工具，它允许用户从命令行轻松运行和测试TensorRT引擎。trtexec命令行工具可以使用以下参数：</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">./trtexec</span><span style="color: #BABED8"> [-h] </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--uff model.uff </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">model.uff ...</span><span style="color: #89DDFF">]]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--onnx model.onnx</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--model</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">model.plan</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--deploy</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">deploy.prototxt</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--output</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">output_name</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--batch</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">N</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--device</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">N</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--workspace</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">N</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--fp16</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--int8</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--calib</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">dir</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--useDLA</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">N</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--allowGPUFallback</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--iterations</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">N</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--avgRuns</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">N</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--verbose</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--nshapes</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">N</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--optShapes</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">NxN ... NxN</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--minShapes</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">NxN ... NxN</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--maxShapes</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">NxN ... NxN</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--shapeInput</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">&#123;</span><span style="color: #F78C6C">0</span><span style="color: #BABED8">,1,2,...&#125;</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--tacticSources</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--loadEngine</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">filename</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--saveEngine</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">filename</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--plugins</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">XML file</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--dumpOutput</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">filename</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--excludePlugin</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">name</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--start</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">tag</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--streams</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">N</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--batchTile</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--engine</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">filename</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--uffInput</span><span style="color: #89DDFF">=</span><span style="color: #BABED8">input_name,input_shape</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--uffNHWC</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--uffNCHW</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--uffHW</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">value</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--workspaceSize</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">size</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--buildOnly</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--engineFormat</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">format</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--refit</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--saveRefinedEngine</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">filename</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--calibrator</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">classname</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--detach</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--check</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--fp16Char</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--int8Calib</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">dir</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--int8IO</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--disableTensorCores</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--useSpinWait</span><span style="color: #89DDFF">]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--shapes</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">shape</span><span style="color: #89DDFF">&gt;]</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">[</span><span style="color: #BABED8">--maxBatch</span><span style="color: #89DDFF">=&lt;</span><span style="color: #BABED8">size</span><span style="color: #89DDFF">&gt;]</span></span><span class="line"></span><span class="line"><span style="color: #FFCB6B">其中一些重要的参数如下：</span></span><span class="line"></span><span class="line"><span style="color: #FFCB6B">--uff：指定输入为UFF模型，后面跟上模型文件的路径。</span></span><span class="line"><span style="color: #FFCB6B">--onnx：指定输入为ONNX模型，后面跟上模型文件的路径。</span></span><span class="line"><span style="color: #FFCB6B">--model：指定输入为序列化的引擎文件，后面跟上文件路径。</span></span><span class="line"><span style="color: #FFCB6B">--deploy：指定输入为Caffe</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">deploy文件的路径。</span></span><span class="line"><span style="color: #FFCB6B">--output：指定输出Tensor名称。</span></span><span class="line"><span style="color: #FFCB6B">--batch：指定执行推理时每个batch的大小，默认为1。</span></span><span class="line"><span style="color: #FFCB6B">--device：指定执行推理的设备编号，默认为0。</span></span><span class="line"><span style="color: #FFCB6B">--workspace：指定GPU内存的最大使用量，默认为1GB。</span></span><span class="line"><span style="color: #FFCB6B">--fp16：启用FP16精度，可提高推理性能和减少内存使用。</span></span><span class="line"><span style="color: #FFCB6B">--int8：启用INT8精度，可进一步提高推理性能和减少内存使用。</span></span><span class="line"><span style="color: #FFCB6B">--calib：指定INT8校准数据集的路径。</span></span><span class="line"><span style="color: #FFCB6B">--useDLA：指定使用哪个DLA，以及在DLA上运行哪些层。</span></span><span class="line"><span style="color: #FFCB6B">--allowGPUFallback：如果使用DLA，当某些层无法在DLA上运行时，是否允许将其回退到GPU。</span></span><span class="line"><span style="color: #FFCB6B">--iterations：指定测试迭代次数。</span></span><span class="line"><span style="color: #FFCB6B">--avgRuns：指定平均运行次数。</span></span><span class="line"><span style="color: #FFCB6B">--verbose：打印更详细的输出信息。</span></span><span class="line"><span style="color: #FFCB6B">--loadEngine：指定加载的TensorRT引擎文件，后面跟上文件路径</span></span><span class="line"><span style="color: #FFCB6B">--saveEngine：指定生成的TensorRT引擎文件，后面跟上文件路径</span></span><span class="line"></span></code></pre></div></p></details><p>engine构建完成之后就可以开始运行了</p><h2 id="开始检测"><a href="#开始检测" class="headerlink" title="开始检测"></a>开始检测</h2><p>实现视频流的实时目标检测，需提前给jetson nano装上USB摄像头。</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>Makefile文件修改</p></div><div class="language-makefile"><button title="Copy code" class="copy"></button><span class="lang">makefile</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #BABED8">cc        </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> g++</span></span><span class="line"><span style="color: #BABED8">nvcc      </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> /usr/local/cuda-10.2/bin/nvcc</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">cpp_srcs  </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">shell</span><span style="color: #C3E88D"> find src -name &quot;*.cpp&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cpp_objs  </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cpp_srcs:.cpp=.cpp.o</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cpp_objs  </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cpp_objs:src/%=objs/%</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cpp_mk  </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cpp_objs:.cpp.o=.cpp.mk</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">cu_srcs  </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">shell</span><span style="color: #C3E88D"> find src -name &quot;*.cu&quot;</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cu_objs   </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cu_srcs:.cu=.cu.o</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cu_objs  </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cu_objs:src/%=objs/%</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cu_mk  </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cu_objs:.cu.o=.cu.mk</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">include_paths </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> src        \</span></span><span class="line"><span style="color: #BABED8">            /usr/include/opencv4 \</span></span><span class="line"><span style="color: #BABED8">            /usr/include/aarch64-linux-gnu \</span></span><span class="line"><span style="color: #BABED8">            /usr/local/cuda-10.2/include</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">library_paths </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> /usr/lib/aarch64-linux-gnu \</span></span><span class="line"><span style="color: #BABED8">            /usr/local/cuda-10.2/lib64</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">link_librarys </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> opencv_core opencv_highgui opencv_imgproc opencv_videoio opencv_imgcodecs \</span></span><span class="line"><span style="color: #BABED8">            nvinfer nvinfer_plugin nvonnxparser \</span></span><span class="line"><span style="color: #BABED8">            cuda cublas cudart cudnn \</span></span><span class="line"><span style="color: #BABED8">            stdc++ dl</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">empty  </span><span style="color: #89DDFF">:=</span></span><span class="line"><span style="color: #BABED8">export_path   </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">subst</span><span style="color: #C3E88D"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">empty</span><span style="color: #89DDFF">)</span><span style="color: #C3E88D"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">empty</span><span style="color: #89DDFF">),</span><span style="color: #C3E88D">:</span><span style="color: #89DDFF">,$(</span><span style="color: #BABED8">library_paths</span><span style="color: #89DDFF">))</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">run_paths     </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">foreach</span><span style="color: #C3E88D"> item</span><span style="color: #89DDFF">,$(</span><span style="color: #BABED8">library_paths</span><span style="color: #89DDFF">),</span><span style="color: #C3E88D">-Wl</span><span style="color: #89DDFF">,</span><span style="color: #C3E88D">-rpath=</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">item</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">include_paths </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">foreach</span><span style="color: #C3E88D"> item</span><span style="color: #89DDFF">,$(</span><span style="color: #BABED8">include_paths</span><span style="color: #89DDFF">),</span><span style="color: #C3E88D">-I</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">item</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">library_paths </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">foreach</span><span style="color: #C3E88D"> item</span><span style="color: #89DDFF">,$(</span><span style="color: #BABED8">library_paths</span><span style="color: #89DDFF">),</span><span style="color: #C3E88D">-L</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">item</span><span style="color: #89DDFF">))</span></span><span class="line"><span style="color: #BABED8">link_librarys </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">foreach</span><span style="color: #C3E88D"> item</span><span style="color: #89DDFF">,$(</span><span style="color: #BABED8">link_librarys</span><span style="color: #89DDFF">),</span><span style="color: #C3E88D">-l</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">item</span><span style="color: #89DDFF">))</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">cpp_compile_flags </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> -std=c++11 -fPIC -w -g -pthread -fopenmp -O0</span></span><span class="line"><span style="color: #BABED8">cu_compile_flags  </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> -std=c++11 -g -w -O0 -Xcompiler &quot;</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cpp_compile_flags</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">&quot;</span></span><span class="line"><span style="color: #BABED8">link_flags        </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> -pthread -fopenmp -Wl,-rpath=&#39;$$ORIGIN&#39;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">cpp_compile_flags </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">include_paths</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">cu_compile_flags  </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">include_paths</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">link_flags        </span><span style="color: #89DDFF">+=</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">library_paths</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">link_librarys</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">run_paths</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #89DDFF; font-style: italic">ifneq</span><span style="color: #BABED8"> (</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">MAKECMDGOALS</span><span style="color: #89DDFF">)</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> clean)</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">-include</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cpp_mk</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cu_mk</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">endif</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">pro   </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> workspace/pro</span></span><span class="line"><span style="color: #BABED8">expath </span><span style="color: #89DDFF">:=</span><span style="color: #BABED8"> library_path.txt</span></span><span class="line"></span><span class="line"><span style="color: #82AAFF">library_path.txt</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">@echo</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">LD_LIBRARY_PATH=</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">export_path</span><span style="color: #89DDFF">)</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">&quot;$$&quot;LD_LIBRARY_PATH &gt; $@</span></span><span class="line"></span><span class="line"><span style="color: #82AAFF">workspace/pro</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cpp_objs</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cu_objs</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        @echo Link $@</span></span><span class="line"><span style="color: #BABED8">        @mkdir -p </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">dir</span><span style="color: #C3E88D"> </span><span style="color: #BABED8">$@</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">        @</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cc</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> $^ -o $@ </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">link_flags</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #82AAFF">objs/%.cpp.o</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> src/%.cpp</span></span><span class="line"><span style="color: #BABED8">    @echo Compile CXX $&lt;</span></span><span class="line"><span style="color: #BABED8">    @mkdir -p </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">dir</span><span style="color: #C3E88D"> </span><span style="color: #BABED8">$@</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    @</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cc</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> -c $&lt; -o $@ </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cpp_compile_flags</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #82AAFF">objs/%.cu.o</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> src/%.cu</span></span><span class="line"><span style="color: #BABED8">    @echo Compile CUDA $&lt;</span></span><span class="line"><span style="color: #BABED8">    @mkdir -p </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">dir</span><span style="color: #C3E88D"> </span><span style="color: #BABED8">$@</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    @</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">nvcc</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> -c $&lt; -o $@ </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cu_compile_flags</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #82AAFF">objs/%.cpp.mk</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> src/%.cpp</span></span><span class="line"><span style="color: #BABED8">    @echo Compile depends CXX $&lt;</span></span><span class="line"><span style="color: #BABED8">    @mkdir -p </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">dir</span><span style="color: #C3E88D"> </span><span style="color: #BABED8">$@</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">@</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cc</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">-M</span><span style="color: #BABED8"> $&lt; </span><span style="color: #82AAFF">-MF</span><span style="color: #BABED8"> $@ </span><span style="color: #82AAFF">-MT</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">@</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">.cpp.mk=.cpp.o) </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cpp_compile_flags</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span></span><span class="line"><span style="color: #82AAFF">objs/%.cu.mk</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> src/%.cu</span></span><span class="line"><span style="color: #BABED8">    @echo Compile depends CUDA $&lt;</span></span><span class="line"><span style="color: #BABED8">    @mkdir -p </span><span style="color: #89DDFF">$(</span><span style="color: #82AAFF">dir</span><span style="color: #C3E88D"> </span><span style="color: #BABED8">$@</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #BABED8">    </span><span style="color: #82AAFF">@</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">nvcc</span><span style="color: #89DDFF">)</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">-M</span><span style="color: #BABED8"> $&lt; </span><span style="color: #82AAFF">-MF</span><span style="color: #BABED8"> $@ </span><span style="color: #82AAFF">-MT</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">@</span><span style="color: #89DDFF">:</span><span style="color: #BABED8">.cu.mk=.cu.o) </span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">cu_compile_flags</span><span style="color: #89DDFF">)</span></span><span class="line"></span><span class="line"><span style="color: #82AAFF">run</span><span style="color: #BABED8">   </span><span style="color: #89DDFF">:</span><span style="color: #BABED8"> workspace/pro</span></span><span class="line"><span style="color: #BABED8">          @cd workspace &amp;&amp; ./pro</span></span><span class="line"></span><span class="line"><span style="color: #82AAFF">clean</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">:</span></span><span class="line"><span style="color: #BABED8">    @rm -rf objs workspace/pro</span></span><span class="line"><span style="color: #BABED8">    @rm -rf library_path.txt</span></span><span class="line"><span style="color: #BABED8">    @rm -rf workspace/Result.jpg</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 导出符号，使得运行时能够链接上</span></span><span class="line"><span style="color: #89DDFF; font-style: italic">export</span><span style="color: #BABED8"> LD_LIBRARY_PATH</span><span style="color: #89DDFF">:=</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">export_path</span><span style="color: #89DDFF">)</span><span style="color: #BABED8">:</span><span style="color: #89DDFF">$(</span><span style="color: #BABED8">LD_LIBRARY_PATH</span><span style="color: #89DDFF">)</span></span></code></pre></div><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>源码修改，在main.cpp中进行添加与改动</p></div><div class="language-cpp"><button title="Copy code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #C792EA">static</span><span style="color: #BABED8"> </span><span style="color: #C792EA">void</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">yolo_video_demo</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">const</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">string</span><span style="color: #C792EA">&amp;</span><span style="color: #BABED8"> </span><span style="color: #BABED8; font-style: italic">engine_file</span><span style="color: #89DDFF">)&#123;</span><span style="color: #676E95; font-style: italic">// 修改1 新增函数</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #C792EA">auto</span><span style="color: #BABED8"> yolo </span><span style="color: #89DDFF">=</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">yolo</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">load</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">engine_file</span><span style="color: #89DDFF">,</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">yolo</span><span style="color: #89DDFF">::</span><span style="color: #FFCB6B">Type</span><span style="color: #89DDFF">::</span><span style="color: #BABED8">V8</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(</span><span style="color: #BABED8">yolo </span><span style="color: #89DDFF">==</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">nullptr)</span><span style="color: #BABED8">  </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span></span><span class="line"><span style="color: #676E95; font-style: italic">  // auto remote_show = create_zmq_remote_show();</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #BABED8">Mat frame</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #BABED8">VideoCapture </span><span style="color: #82AAFF">cap</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">(!</span><span style="color: #BABED8">cap</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">isOpened</span><span style="color: #89DDFF">())&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #82AAFF">printf</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">Engine is nullptr</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF; font-style: italic">while</span><span style="color: #89DDFF">(true)&#123;</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #BABED8">cap</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">read</span><span style="color: #89DDFF">(</span><span style="color: #F07178">frame</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #C792EA">auto</span><span style="color: #F07178"> objs </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">yolo</span><span style="color: #89DDFF">-&gt;</span><span style="color: #82AAFF">forward</span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">cvimg</span><span style="color: #89DDFF">(</span><span style="color: #F07178">frame</span><span style="color: #89DDFF">));</span></span><span class="line"><span style="color: #F07178">    </span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF; font-style: italic">for</span><span style="color: #89DDFF">(</span><span style="color: #C792EA">auto</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&amp;</span><span style="color: #F07178">obj </span><span style="color: #89DDFF">:</span><span style="color: #F07178"> objs</span><span style="color: #89DDFF">)</span><span style="color: #F07178"> </span><span style="color: #89DDFF">&#123;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #C792EA">uint8_t</span><span style="color: #F07178"> b</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> g</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> r</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #82AAFF">tie</span><span style="color: #89DDFF">(</span><span style="color: #F07178">b</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> g</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> r</span><span style="color: #89DDFF">)</span><span style="color: #F07178"> </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">yolo</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">random_color</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">class_label</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">rectangle</span><span style="color: #89DDFF">(</span><span style="color: #F07178">frame</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">Point</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">left</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">top</span><span style="color: #89DDFF">),</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">Point</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">right</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">bottom</span><span style="color: #89DDFF">),</span></span><span class="line"><span style="color: #F07178">                    </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">Scalar</span><span style="color: #89DDFF">(</span><span style="color: #F07178">b</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> g</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> r</span><span style="color: #89DDFF">),</span><span style="color: #F07178"> </span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #F07178">      </span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #C792EA">auto</span><span style="color: #F07178"> name </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #BABED8">mylabels</span><span style="color: #89DDFF">[</span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">class_label</span><span style="color: #89DDFF">];</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #C792EA">auto</span><span style="color: #F07178"> caption </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">format</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">%s %.2f</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> name</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">confidence</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #C792EA">int</span><span style="color: #F07178"> width </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">getTextSize</span><span style="color: #89DDFF">(</span><span style="color: #F07178">caption</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #89DDFF">nullptr).</span><span style="color: #BABED8">width</span><span style="color: #F07178"> </span><span style="color: #89DDFF">+</span><span style="color: #F07178"> </span><span style="color: #F78C6C">10</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">rectangle</span><span style="color: #89DDFF">(</span><span style="color: #F07178">frame</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">Point</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">left</span><span style="color: #F07178"> </span><span style="color: #89DDFF">-</span><span style="color: #F07178"> </span><span style="color: #F78C6C">3</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">top</span><span style="color: #F07178"> </span><span style="color: #89DDFF">-</span><span style="color: #F07178"> </span><span style="color: #F78C6C">33</span><span style="color: #89DDFF">),</span></span><span class="line"><span style="color: #F07178">                    </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">Point</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">left</span><span style="color: #F07178"> </span><span style="color: #89DDFF">+</span><span style="color: #F07178"> width</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">top</span><span style="color: #89DDFF">),</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">Scalar</span><span style="color: #89DDFF">(</span><span style="color: #F07178">b</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> g</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> r</span><span style="color: #89DDFF">),</span><span style="color: #F07178"> </span><span style="color: #89DDFF">-</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">putText</span><span style="color: #89DDFF">(</span><span style="color: #F07178">frame</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> caption</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">Point</span><span style="color: #89DDFF">(</span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">left</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #BABED8">obj</span><span style="color: #89DDFF">.</span><span style="color: #BABED8">top</span><span style="color: #F07178"> </span><span style="color: #89DDFF">-</span><span style="color: #F07178"> </span><span style="color: #F78C6C">5</span><span style="color: #89DDFF">),</span><span style="color: #F07178"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #FFCB6B">Scalar</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">all</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">),</span><span style="color: #F07178"> </span><span style="color: #F78C6C">2</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> </span><span style="color: #F78C6C">16</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #F07178">    </span><span style="color: #89DDFF">&#125;</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #82AAFF">imshow</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">frame</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">,</span><span style="color: #F07178"> frame</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #676E95; font-style: italic">      // remote_show-&gt;post(frame);</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #C792EA">int</span><span style="color: #F07178"> key </span><span style="color: #89DDFF">=</span><span style="color: #F07178"> </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">waitKey</span><span style="color: #89DDFF">(</span><span style="color: #F78C6C">1</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #F07178">      </span><span style="color: #89DDFF; font-style: italic">if</span><span style="color: #F07178"> </span><span style="color: #89DDFF">(</span><span style="color: #F07178">key </span><span style="color: #89DDFF">==</span><span style="color: #F07178"> </span><span style="color: #F78C6C">27</span><span style="color: #89DDFF">)</span></span><span class="line"><span style="color: #F07178">          </span><span style="color: #89DDFF; font-style: italic">break</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #F07178">  </span><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #BABED8">  cap</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">release</span><span style="color: #89DDFF">();</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #FFCB6B">cv</span><span style="color: #89DDFF">::</span><span style="color: #82AAFF">destroyAllWindows</span><span style="color: #89DDFF">();</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span><span class="line"></span><span class="line"><span style="color: #C792EA">int</span><span style="color: #BABED8"> </span><span style="color: #82AAFF">main</span><span style="color: #89DDFF">()</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">&#123;</span><span style="color: #676E95; font-style: italic">// 修改2 调用该函数</span></span><span class="line"><span style="color: #676E95; font-style: italic">  // perf();</span></span><span class="line"><span style="color: #676E95; font-style: italic">  // batch_inference();</span></span><span class="line"><span style="color: #676E95; font-style: italic">  // single_inference();</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #82AAFF">yolo_video_demo</span><span style="color: #89DDFF">(</span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">best.transd.sim.engine</span><span style="color: #89DDFF">&quot;</span><span style="color: #89DDFF">);</span></span><span class="line"><span style="color: #BABED8">  </span><span style="color: #89DDFF; font-style: italic">return</span><span style="color: #BABED8"> </span><span style="color: #F78C6C">0</span><span style="color: #89DDFF">;</span></span><span class="line"><span style="color: #89DDFF">&#125;</span></span></code></pre></div><h2 id="识别效果"><a href="#识别效果" class="headerlink" title="识别效果"></a>识别效果</h2><p>肉眼估计能有个10几20来帧，对于Jetson Nano这种老硬件来说已经挺不错的了。</p><p><img src="https://s2.loli.net/2024/07/22/6AWzcJaQmxKksZy.jpg" alt="d5cf2c135f9a6233b8800780387a60e.jpg"></p><details class="custom-details"><summary>show more</summary><p><img src="https://s2.loli.net/2024/07/22/nzqy8CXxrVwhutg.jpg" alt="4e0f084d9081c47b24c74a8f6701b59.jpg"><br><img src="https://s2.loli.net/2024/07/22/B6SqywFVZ7P5bnD.jpg" alt="3b13e19229204d7aa4ed41eb1a32180.jpg"><br><img src="https://s2.loli.net/2024/07/22/fASWsOLDJaNMyQo.jpg" alt="5cf22ed78cf8ab4a09dd5aae42922fc.jpg"></p></details>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;本人在大二期间就学习了计算机视觉相关的模型搭建、训练和预测。大致了解目标检测的训练流程，却没有去实际在端设备上进行过模型的部署。在准备电赛期</summary>
      
    
    
    
    <category term="Electronic" scheme="http://example.com/categories/Electronic/"/>
    
    
    <category term="jetson nano" scheme="http://example.com/tags/jetson-nano/"/>
    
    <category term="ComputerVision" scheme="http://example.com/tags/ComputerVision/"/>
    
  </entry>
  
  <entry>
    <title>树莓派搭建MC服务器</title>
    <link href="http://example.com/post/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%90%AD%E5%BB%BAMC%E6%9C%8D%E5%8A%A1%E5%99%A8.html"/>
    <id>http://example.com/post/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%90%AD%E5%BB%BAMC%E6%9C%8D%E5%8A%A1%E5%99%A8.html</id>
    <published>2024-04-20T01:07:29.000Z</published>
    <updated>2025-02-26T06:48:34.130Z</updated>
    
    <content type="html"><![CDATA[<h1 id="硬件配置"><a href="#硬件配置" class="headerlink" title="硬件配置"></a>硬件配置</h1><p>树莓派4B：树莓派系统</p><h1 id="下载java"><a href="#下载java" class="headerlink" title="下载java"></a>下载java</h1><p>根据你希望搭建的MC版本来选择java版本</p><div class="custom-quote warning"><span class="custom-quote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 8V13"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M12 15.99V16.01"></path></svg></span><p class="custom-quote-title">WARNING</p><p>java8 : MC &lt;&#x3D; 1.16.5<br>java17: MC &gt;&#x3D; 1.16.5</p></div><p>搭建MCSmanager面板<br>我们使用MCSmanager面板来对我们的服务器进行管理</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #FFCB6B">wget</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">-qO-</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">https://gitee.com/mcsmanager/script/raw/master/setup.sh</span><span style="color: #BABED8"> </span><span style="color: #89DDFF">|</span><span style="color: #BABED8"> </span><span style="color: #FFCB6B">sudo</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">bash</span></span></code></pre></div><p>启动面板</p><div class="language-bash"><button title="Copy code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 先启动面板守护进程。</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 这是用于进程控制，终端管理的服务进程。</span></span><span class="line"><span style="color: #FFCB6B">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">start</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mcsm-daemon.service</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 再启动面板 Web 服务。</span></span><span class="line"><span style="color: #676E95; font-style: italic"># 这是用来实现支持网页访问和用户管理的服务。</span></span><span class="line"><span style="color: #FFCB6B">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">start</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mcsm-web.service</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 重启面板命令</span></span><span class="line"><span style="color: #FFCB6B">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">restart</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mcsm-daemon.service</span></span><span class="line"><span style="color: #FFCB6B">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">restart</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mcsm-web.service</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 停止面板命令</span></span><span class="line"><span style="color: #FFCB6B">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">stop</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mcsm-web.service</span></span><span class="line"><span style="color: #FFCB6B">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">stop</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mcsm-daemon.service</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 面板启用开机自启的命令</span></span><span class="line"><span style="color: #FFCB6B">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">enable</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mcsm-web.service</span></span><span class="line"><span style="color: #FFCB6B">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">enable</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mcsm-daemon.service</span></span><span class="line"></span><span class="line"><span style="color: #676E95; font-style: italic"># 面板禁用开机自启的命令</span></span><span class="line"><span style="color: #FFCB6B">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">disable</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mcsm-web.service</span></span><span class="line"><span style="color: #FFCB6B">systemctl</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">disable</span><span style="color: #BABED8"> </span><span style="color: #C3E88D">mcsm-daemon.service</span></span></code></pre></div><h1 id="进入面板"><a href="#进入面板" class="headerlink" title="进入面板"></a>进入面板</h1><p>在同一局域网的电脑上输入树莓派服务器<strong>ip:23333</strong>端口就可以进入面板，按照实例教程就可以进行服务器的创建。</p><details class="custom-details"><summary>More</summary><p><img src="https://s2.loli.net/2025/02/19/KphNULvqkj3nPAR.jpg" alt="_20250219135846.png"><br><img src="https://s2.loli.net/2025/02/19/XOJgxZyTVAS74Go.jpg" alt="_20250219135958.png"><br><img src="https://s2.loli.net/2025/02/19/afhiHN1CrKXUGIy.jpg" alt="_20250219140053.png"></p></details><h1 id="下载MC-server"><a href="#下载MC-server" class="headerlink" title="下载MC server"></a>下载MC server</h1><div class="language-txt"><button title="Copy code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight" style="background-color: #1a1a1a" tabindex="0"><code><span class="line"><span style="color: #babed8">这个网站提供MC的各个版本的jar文件，注意要下载server版本的。</span></span></code></pre></div><div align=center><img src="https://s2.loli.net/2025/02/19/QVxuti8Urj7qgDK.jpg"></div><p><a href="https://mcversions.net/">MC server下载</a><br><a href="https://files.minecraftforge.net/net/minecraftforge/forge/">forge下载</a></p><p>要将对应的jar文件上传到树莓派上，通过MSCM就可以实现</p><h1 id="安装installer"><a href="#安装installer" class="headerlink" title="安装installer"></a>安装installer</h1><p>直接通过MSCM中就可以安装，但是注意要提前装好java。</p><div align=center><img src="https://s2.loli.net/2025/02/19/V3QRJwIhUeDWoba.jpg"></div><div align=center>安装完成后的文件</div><h1 id="启动server端"><a href="#启动server端" class="headerlink" title="启动server端"></a>启动server端</h1><div align=center><img src="https://s2.loli.net/2025/02/19/bcyVlMaTImjFiS1.jpg"></div><div align=center>根据不同版本要填不同的启动命令，像我下的forge 1.20.1就直接默认就行</div><div align=center><img src="https://s2.loli.net/2025/02/19/BGcLW3DVfiK2u96.jpg"></div><div align=center>第一次启动可能不成功，要去eula.txt里面将false改为true</div><p>至此服务器搭建完毕，之后要加入mod就直接在MCSM上加入就好了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;硬件配置&quot;&gt;&lt;a href=&quot;#硬件配置&quot; class=&quot;headerlink&quot; title=&quot;硬件配置&quot;&gt;&lt;/a&gt;硬件配置&lt;/h1&gt;&lt;p&gt;树莓派4B：树莓派系统&lt;/p&gt;
&lt;h1 id=&quot;下载java&quot;&gt;&lt;a href=&quot;#下载java&quot; class=&quot;heade</summary>
      
    
    
    
    <category term="game" scheme="http://example.com/categories/game/"/>
    
    
    <category term="raspberrypi" scheme="http://example.com/tags/raspberrypi/"/>
    
  </entry>
  
</feed>
