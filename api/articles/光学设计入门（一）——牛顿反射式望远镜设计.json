{"title":"光学设计入门（一）——牛顿反射式望远镜设计","uid":"4bc11b96bc151d97b948e3471f93512a","slug":"光学设计入门（一）——牛顿反射式望远镜设计","date":"2024-11-12T15:22:20.000Z","updated":"2024-12-07T06:17:44.367Z","comments":true,"path":"api/articles/光学设计入门（一）——牛顿反射式望远镜设计.json","keywords":null,"cover":"https://s2.loli.net/2024/11/12/TWHouyhFiU28SC3.jpg","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>我们使用的光学设计软件是Zemax，这是光学设计的入门软件，比较简单，优化参数相对CodeV没那么多。</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/1LvtinHZ6CzoEIh.png\"></div>\n\n<div align=\"center\">这是Zemax2005版</div>\n\n<p>现在的Zemax已经被<a href=\"https://www.ansys.com/products/optics/ansys-zemax-opticstudio\">Ansys</a>收购了。</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/J5A3Yeux8HaN7Bo.png\"></div>\n\n\n<h1 id=\"设计流程\"><a href=\"#设计流程\" class=\"headerlink\" title=\"设计流程\"></a>设计流程</h1><p>设计一个1000 mm焦距 F&#x2F;5的牛顿望远镜物镜</p>\n<p>1000&#x2F;D&#x3D;5，所以物镜孔径D&#x3D;200mm。球面反射镜焦距近似是半径的一半，所以设计球面物镜的半径应该是2000mm</p>\n<p><strong>1.</strong> 使用Lens data editor定义球面物镜。注意球面物镜的半径和厚度的符号。对凹面物镜，圆心在镜面左边，所以Radius是-2000，由于像面在物镜左边，所以thickness是-1000。详细表格如下图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/NkMKwF8hJ9teoIW.png\"></div>\n\n<p><strong>2.</strong> 定义孔径D：<br>选择zemax主菜单-&gt;系统-&gt;通用配置-&gt;aperture，在入瞳直径栏键入200，如下图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/M9OpHl5it3r2Uzk.png\"></div>\n\n<p><strong>3.</strong> 查看光路图：从zemax主界面，分析-&gt;草图-&gt;D草图可以看到下图的光路图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/p32efR4SXLFuctx.png\"></div>\n\n<p><strong>4.</strong> 如果想更加形象化的看光路，也可从主菜单选择：分析-&gt;草图-&gt;渲染模型。可以使用键盘上下左右键来调整三维合适的观测角度，如下图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/A5dBH8DyIts71zW.png\"></div>\n\n<p>我们来看性能分析曲线：</p>\n<p><strong>5.</strong> 先看点列图。从主菜单选择分析-&gt;点列图-&gt;标准选项，可以看到下图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/m9IEgFc3vUSW4yk.jpg\"></div>\n\n<p>从图中我们可以看到像差均方根（RMS）值为77.604。弥散斑直径约400微米。球差较大。这里我们只观测了550nm的波长。我们选择多波长，看是否有色差。</p>\n<p><strong>6.</strong> 选择zemax主界面，系统-&gt;光波长菜单，可以看到下图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/13/KvA7rZPko8n5gYQ.png\"></div>\n\n\n<p><strong>7.</strong> 如果我们要选择可见光的RGB三原色波长，我们可以按上图红圈所示的选择键，出现下图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/13/K4exIMorPb92HAB.png\"></div>\n\n<p>这样我们观测波长就选择三个。正好是三原色波长。再点击确定，如上图圈所示键。</p>\n<p><strong>8.</strong> 重复步骤5，可以看到下图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/mq578fkWVxctJjQ.jpg\"></div>\n\n<p>和步骤5图相比较，可以发现数值一样。证明反射镜没有引入色差。</p>\n<p><strong>9.</strong> 看MTF曲线。在主界面里选择分析调制传递函数（MTF）快速傅里叶变换(FFT MTF)。可以看到下图，</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/2YPeLSQmCBt5bHk.png\"></div>\n\n\n<p><strong>10.</strong> 如果我们想和没有像差，只存在衍射时的MTF曲线做比较，可点击设置按键，设置，如下图</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/sZDWylPrMT9g4Xv.png\"></div>\n\n\n<p>在上图所示选项打钩。再点下面的确定，就会看到在9步骤MTF曲线里出现一条黑线，如下图所示：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/XJpZQx3V7gIaChs.png\"></div>\n\n<p>黑色曲线就是没有像差影响，只存在凹面镜孔径引起的衍射作用时的MTF曲线。</p>\n<p><strong>11.</strong> 注意，现在的结果是没有经过优化的，即使用几何光学中的公式R&#x3D;2f来定义凹面镜曲率半径和焦距的关系。下面我们将半径改设为变量，使用优化功能做的最佳的表面曲率半径，并和原结果做对比。回到透镜编辑表里：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/M9qFYjiEg2DrmPf.png\"></div>\n\n<p>鼠标左键双击图中-2000部位，跳出如下对话框</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/FBYP4jrQo1WAnGt.png\"></div>\n\n<p>将图中菜单下拉，将求解类型由默认的“Fixed”改为第二项“variable”，如下图所示，并点击确定。</p>\n<p>回到透镜编辑表里，可以看到在半径后面列中出现一个“V”符号，代表当前已经将半径设为变量。</p>\n<p><strong>12.</strong> 系统优化，自动搜寻最佳的变量Radius。过程为，回到主菜单，点击“编辑”菜单下的“优化函数”选项，跳出如下所示评价函数编辑表格：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/vx9yEQ3WzlSo1FN.png\"></div>\n\n<p>选择“工具”下“默认评价函数”，将跳出如下对话框</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/z95qKtE8GxIDimY.png\"></div>\n\n<p>该对话框用于对默认评价函数，即像差最小的搜索方法做编辑，这里我们先什么都不用改动，直接点击确定。回到评价函数编辑表里，可以看到表格变为下图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/13/kyMwi6loXU1WLD3.png\"></div>\n\n<p>这就是系统根据“像差最小”的默认目标需求，自动生成的源代码。我们可以最小化或者直接关闭该表格，并回到主菜单：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/TBDN6fk2FVwlipa.png\"></div>\n\n<p>点击图中“工具”菜单下“优化”下第一个选项“优化”，跳出如下对话框：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/xORBgVYsX5yjwuW.png\"></div>\n\n\n<p>可见半径数值已由原来的“-2000”变为现在的“-2001.250106”。</p>\n<p><strong>13.</strong> 下面我们检验优化后性能是否改进，按照步骤5，查看点列图，如下图所示</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/y4Nv7k9pPahWglo.png\"></div>\n\n\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/6Kpj4FNyVYCoMxU.png\"></div>\n\n<p><strong>14.</strong> 将球面改为抛物面。直接从透镜编辑里，在凹面镜conic的值置为-1。</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/M9qFYjiEg2DrmPf.png\"></div>\n\n<p><strong>15.</strong> 重复步骤5，可以看到如下点列图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/13/Cx1nystFNbfmvDz.png\"></div>\n\n<p>可以看到RMS值为0，没有球差、色差。</p>\n<p><strong>16.</strong> 重复步骤9和10，可以看到如下MTF曲线，</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/13/dUt5OVSsmqFCA8P.png\"></div>\n\n<p>可以看到实际MTF曲线和没有像差只存在衍射时的MTF曲线完全重合。达到最佳值。</p>\n<p><strong>17.</strong> 观察轴外成像情况，在主界面选择，系统-&gt;视场，跳出如下图所示对话框，</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/13/SO4zbAZKh5Ix16m.png\"></div>\n\n<p>键入0.75和1.5度两个轴外视场。再重复步骤5和9&#x2F;10，可以看到下面的图，</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/RmYNgFt97VebHKP.png\"></div>\n\n\n<p>从点列图中可以看到，虽然抛物线凹面镜没有球差、色差，但是还是有轴外高阶像差的，如彗差、像散等。</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/ciMK5FaBHE47kNw.png\"></div>\n\n\n<p>可以看到虽然轴上MTF曲线非常完美，但是轴外信息传递能力快速恶化。</p>\n<p><strong>18.</strong> 为了方便观察，必须加转镜，以便人观察时能不把物方光挡住。注意因为进来的光束为200mm宽，因此成像平面至少在离光轴100mm的上方，如此”看”像的时候才不会挡住入射光。我们决定用200mm，而fold mirror离先前的反射镜面为800mm，因为200+800&#x3D;1000等于原先在STO上的thickness，即成像”距离”不变。操作如下，先把STO的thickness改为-800。再在STO面后新插入一个平面，作为我们的反射镜，如下图所示，</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/13/DnLUMsmg1ajwRq8.png\"></div>\n\n<p>注意在Zemax里，如果出现多个反射镜时，一般出现奇数个反射面，当前面thichkness值为负，如果出现偶数个反射面时，当前面thickness为正。</p>\n<p><strong>19.</strong> 现在我们将编号为“2”的表面设置为让光线转折90度的转镜。回到主界面，选择工具-&gt;折叠反射镜-&gt;添加折叠反射镜选项，弹出下图所示对话框，并编辑数据，</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/13/hCj4RD5sp1nSZWA.png\"></div>\n\n\n<p>我们想将“2”号表面定为转镜，所以我们就将上图圈内选项选为“2”即可。点确定。</p>\n<p><strong>20.</strong> 看光路图，注意，一旦系统里有了转镜，就无法用2D草图显示。应从zemax主界面，分析-&gt;草图-&gt;3D草图</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/Foe37Lkr5zRiTP1.png\"></div>\n\n<p>或按照步骤4，看渲染图，如下</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/lCOu7k3NGmf2nLy.png\"></div>\n\n<p>注意到，镜头数据编辑变成下图，</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/vgzTry64VwWPqtj.png\"></div>\n\n<p>图中红色行只是用来坐标变换，为虚拟平面，不会在光路图里显示出来。</p>\n<p><strong>21.</strong> 目前的系统还有一个重要问题，由于转镜与光轴呈45度夹角，因此入射光如果直接照射到转镜背面，可能会与镜筒多次反射干扰最终成像，引起大的照射。既然入射的光会被转镜挡住，无法参与成像。那么不如干脆在望远镜入口处设置障碍物把这部分光挡住。我们在STO面前插入一个平面，该面到凹面镜的距离为900mm。则镜头数据编辑表变为下图：</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/13/ke24fnBxcRmVJuG.png\"></div>\n\n<p><strong>22.</strong> 下面我们再学习将该表面设置为障碍物，双击上图红圈内容，在弹出的对话框里点击Aperture选项，如下图所示，</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/jx1VWvOC4nZchgu.png\"></div>\n\n\n<p>如上图，将光圈类型下拉菜单选为“圆形挡光”，设置参数时选择Max Radius，即最大挡光半径为“63”。之所以这里值置为63，是因为步骤18中表格，转光镜最大半径为62.71。圆形挡光板应完全覆盖转光镜。最后点击确定，设置完毕。</p>\n<p><strong>23.</strong> 现在来看光路渲染效果图，如下图所示</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/m5iB1KvPGaXHrTC.png\"></div>\n\n\n<p><strong>24.</strong> 看现在的点列图和MTF曲线，如下</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/9o6r5vJGYA2pzbH.png\"></div>\n\n<p>可以看到，轴上无变化，轴外性能略有恶化。这是因为加入的挡光板后抛物线面中间不工作了，因此成像质量进一步恶化。<br>MTF曲线如下，</p>\n<div align=center><img src=\"https://s2.loli.net/2024/11/12/ciMK5FaBHE47kNw.png\"></div>\n\n\n<p>如图所示，MTF曲线相比先前也有恶化。主要表现为低频段下降。这是因为挡光板挡住了部分中低频分量的进入。但注意截止频率不变，因为加入反射镜不改变系统焦距，因此系统可以接收的最高空间频率分量未发生变化。</p>\n<h1 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h1><p>光学设计的可调参数实在太多了，实际设计起来优化很是费劲，最近在做门镜（猫眼）设计，给我调麻了。</p>\n","text":"前言我们使用的光学设计软件是Zemax，这是光学设计的入门软件，比较简单，优化参数相对CodeV没那么多。 这是Zemax2005版 现在的Zemax已经被An...","permalink":"/post/光学设计入门（一）——牛顿反射式望远镜设计","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[{"name":"Optic Design","slug":"Optic-Design","count":4,"path":"api/categories/Optic-Design.json"}],"tags":[{"name":"Zemax","slug":"Zemax","count":4,"path":"api/tags/Zemax.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E8%AE%A1%E6%B5%81%E7%A8%8B\"><span class=\"toc-text\">设计流程</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%90%8E%E8%AE%B0\"><span class=\"toc-text\">后记</span></a></li></ol>","author":{"name":"Yesord","slug":"blog-author","avatar":"/img/avatar/Flametail.gif","link":"/","description":"猫军阀军校的一个三年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{"Home":{"icon":"/img/Home.svg","link":"https://home.yesord.top/about/"},"Academic":{"icon":"/img/Academic.svg","link":"https://academic.yesord.top"},"Travelling":{"icon":"/img/train.svg","link":"https://www.travellings.cn/go.html"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"图像拼接编程实践","uid":"2f2ae9cabd3d239359b1e3a9dc1dff4f","slug":"图像拼接编程实践","date":"2024-11-13T14:12:35.000Z","updated":"2024-11-13T15:34:39.102Z","comments":true,"path":"api/articles/图像拼接编程实践.json","keywords":null,"cover":"https://s2.loli.net/2024/11/13/IAWbfJXZp9vQPuF.jpg","text":"前言本项目是关于的图像拼接练习，我使用的编程语言是python，是笔者在校系统性学习机器学习的课程小项目，也不是啥新鲜玩意了，GitHub上很多复现的，感兴趣可...","permalink":"/post/图像拼接编程实践","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"MashineLearning","slug":"MashineLearning","count":3,"path":"api/categories/MashineLearning.json"}],"tags":[{"name":"python","slug":"python","count":5,"path":"api/tags/python.json"}],"author":{"name":"Yesord","slug":"blog-author","avatar":"/img/avatar/Flametail.gif","link":"/","description":"猫军阀军校的一个三年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{"Home":{"icon":"/img/Home.svg","link":"https://home.yesord.top/about/"},"Academic":{"icon":"/img/Academic.svg","link":"https://academic.yesord.top"},"Travelling":{"icon":"/img/train.svg","link":"https://www.travellings.cn/go.html"}}}}},"next_post":{"title":"ComfyUI初体验--个性化二维码生成","uid":"3d0614aff1cb1047dc60965f7de9aa6f","slug":"ComfyUI初体验-个性化二维码生成","date":"2024-11-05T14:59:50.000Z","updated":"2025-03-10T02:39:43.343Z","comments":true,"path":"api/articles/ComfyUI初体验-个性化二维码生成.json","keywords":null,"cover":"https://s2.loli.net/2024/11/05/oytM74mipzk1CqP.png","text":"前言我在2022年就有在关注ai绘画领域，当时stable diffusion算刚刚出圈，现在flux都出来了，sd都更到SDXL了。ai绘画基本都使用WebU...","permalink":"/post/ComfyUI初体验-个性化二维码生成","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"AI art","slug":"AI-art","count":1,"path":"api/categories/AI-art.json"}],"tags":[{"name":"Meinamix","slug":"Meinamix","count":1,"path":"api/tags/Meinamix.json"},{"name":"ComfyUI","slug":"ComfyUI","count":1,"path":"api/tags/ComfyUI.json"}],"author":{"name":"Yesord","slug":"blog-author","avatar":"/img/avatar/Flametail.gif","link":"/","description":"猫军阀军校的一个三年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{"Home":{"icon":"/img/Home.svg","link":"https://home.yesord.top/about/"},"Academic":{"icon":"/img/Academic.svg","link":"https://academic.yesord.top"},"Travelling":{"icon":"/img/train.svg","link":"https://www.travellings.cn/go.html"}}}},"feature":null}}