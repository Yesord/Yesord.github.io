{"title":"Hexo + GitHub Pages 自定义域名的设置","uid":"26be7765875c7794e84f5b7513278f2a","slug":"Hexo-GitHub-Pages-二级域名的设置","date":"2023-10-22T13:02:08.000Z","updated":"2023-10-22T14:15:35.664Z","comments":true,"path":"api/articles/Hexo-GitHub-Pages-二级域名的设置.json","keywords":null,"cover":"https://s2.loli.net/2023/10/22/1pP7FIqjQ2EWoln.png","content":"<h1 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h1><p>我在创建个人博客之后就有打算改域名了，只是碍于空闲时间不够充裕没有去实现。到了周末，我抽了大段空闲时间来搞这个，在其中花费了大量时间去配置DNS和SSL，走了许多弯路，我本人不是IT专业的，希望本文能帮到那些和我一样遇到问题（想搞个自己的域名装13）的人吧。</p>\n<h1 id=\"具体操作\"><a href=\"#具体操作\" class=\"headerlink\" title=\"具体操作\"></a>具体操作</h1><p>本文只演示如何将Hexo + GitHub Pages 创建的静态网站域名从 xxx.github.io 改成 自定义域名</p>\n<h2 id=\"域名获取\"><a href=\"#域名获取\" class=\"headerlink\" title=\"域名获取\"></a>域名获取</h2><p>可以在万网上购买自己想要的域名<br><a href=\"https://wanwang.aliyun.com/\">https://wanwang.aliyun.com/</a></p>\n<p>要先注册账号，购买域名是要实名认证的，一般流程是要等待身份审核通过，但这就要花2~3天去等待。<br>可以先购买域名（使用阿里云的公共云账号），之后的操作会与一般流程不同，但可以不需要等待，短时间完成。</p>\n<h2 id=\"配置本地博客文件夹\"><a href=\"#配置本地博客文件夹\" class=\"headerlink\" title=\"配置本地博客文件夹\"></a>配置本地博客文件夹</h2><p>在public文件夹中创建CNAME文件（注意<strong>不要有后缀</strong>）</p>\n<p>在CNAME中添加如下内容</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">自定义域名（不要https://）</span></span></code></pre></div><p>再将本地文件上传到GitHub仓库</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">hexo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">g</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&amp;&amp;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">hexo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">d</span></span></code></pre></div><p>完成上述步骤后，在仓库的Setting的Page下就可以看到域名指向你自己的域名啦</p>\n<p>如果是在GitHub仓库里创建CNAME的话就会导致之后你上传blog时会导致CNAME文件被删除（因为本地没有），就要重新写一份CNAME。</p>\n<h2 id=\"配置DNS\"><a href=\"#配置DNS\" class=\"headerlink\" title=\"配置DNS\"></a>配置DNS</h2><p>在阿里云的控制台里可以进行域名解析。<br>使用<strong>Cloudflare</strong>可以不需要实名认证进行域名解析，详细操作可以去参考其他博客。</p>\n<ol>\n<li>工作台进入云解析，快速实名认证，认证完之后要进行账户转移，把账户从阿里云转到你的账户中，不然无法执行域名解析</li>\n<li>完成上述操作之后就可以执行域名解析了，可以在解析设置中添加记录，详细配置如下，配置完成之后等待几分钟之后DNS就配置好了</li>\n</ol>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">记录类型：CNAME</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">主机记录：填你的域名</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">解析请求来源：默认</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">记录值：</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xxx.github.io</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">TTL：10分钟</span></span>\n<span class=\"line\"></span></code></pre></div><p>域名解析之后就可以以你自定义的域名去打开GitHub Pages创建的静态网站了。<br>注：输入之前的xxx.github.io也会被指向你自定义的域名<br>到这一步实际上就已经<strong>基本完成</strong>了，github.io域名已经指向你自定义的域名了。但是还是会有一点点小瑕疵，那就是这个域名没有配置SSL加密，它的前缀是http会导致你在浏览器上打开时会一直显示不安全，yysy，个人博客一直挂着一个不安全就是真没事看着也难受。</p>\n<h2 id=\"配置SSL\"><a href=\"#配置SSL\" class=\"headerlink\" title=\"配置SSL\"></a>配置SSL</h2><p>可以在阿里云上申请<strong>免费SSL证书</strong>。（<strong>一年</strong>为期限）<br>通过配置免费证书可以使你的域名加密，从http变成https</p>\n<ol>\n<li>打开阿里云控制台数字证书管理服务-&gt;SSL证书-&gt;免费证书 提交申请会获得20个网站的SSL证书</li>\n<li>创建证书-&gt;证书申请-&gt;提交审核</li>\n</ol>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">证书绑定域名：</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">你自定义的域名</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">域名验证方式：</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">手工DNS验证</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">CSR生成方式：</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">系统生成</span></span></code></pre></div><p>系统会帮你配置好DNS不用管，只要在域名解析里把新生成的SSL的域名解析重启就行。</p>\n<h2 id=\"配置GitHub仓库\"><a href=\"#配置GitHub仓库\" class=\"headerlink\" title=\"配置GitHub仓库\"></a>配置GitHub仓库</h2><p>在Pages界面Custom domain下勾选Enforce HTTPS 即可。<br>前头不重启SSL的域名解析会导致这里的Enforce HTTPS是不可选取的</p>\n<h1 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h1><p>这次配置二级域名是真的折磨，基本把能踩的坑都踩了一遍。</p>\n<p>参考网站：</p>\n<ol>\n<li><p><a href=\"https://blog.csdn.net/weixin_44129672/article/details/104763893?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-104763893-blog-79439339.235%5Ev38%5Epc_relevant_anti_t3_base&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-104763893-blog-79439339.235%5Ev38%5Epc_relevant_anti_t3_base&utm_relevant_index=2\">https://blog.csdn.net/weixin_44129672/article/details/104763893?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-104763893-blog-79439339.235%5Ev38%5Epc_relevant_anti_t3_base&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-104763893-blog-79439339.235%5Ev38%5Epc_relevant_anti_t3_base&amp;utm_relevant_index=2</a></p>\n</li>\n<li><p><a href=\"https://www.moerats.com/archives/616/\">https://www.moerats.com/archives/616/</a></p>\n</li>\n</ol>\n","text":"背景我在创建个人博客之后就有打算改域名了，只是碍于空闲时间不够充裕没有去实现。到了周末，我抽了大段空闲时间来搞这个，在其中花费了大量时间去配置DNS和SSL，走...","permalink":"/post/Hexo-GitHub-Pages-二级域名的设置","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"IT","slug":"IT","count":2,"path":"api/categories/IT.json"}],"tags":[{"name":"blog","slug":"blog","count":3,"path":"api/tags/blog.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%83%8C%E6%99%AF\"><span class=\"toc-text\">背景</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">具体操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9F%9F%E5%90%8D%E8%8E%B7%E5%8F%96\"><span class=\"toc-text\">域名获取</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E5%8D%9A%E5%AE%A2%E6%96%87%E4%BB%B6%E5%A4%B9\"><span class=\"toc-text\">配置本地博客文件夹</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AEDNS\"><span class=\"toc-text\">配置DNS</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AESSL\"><span class=\"toc-text\">配置SSL</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AEGitHub%E4%BB%93%E5%BA%93\"><span class=\"toc-text\">配置GitHub仓库</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%BB%93%E8%AF%AD\"><span class=\"toc-text\">结语</span></a></li></ol>","author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的一个二年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Yolov5初次尝试","uid":"9cc33b411dfac4ea702c9c37d469d71e","slug":"YOLOv5初次尝试","date":"2023-10-25T15:07:58.000Z","updated":"2023-10-31T13:50:28.493Z","comments":true,"path":"api/articles/YOLOv5初次尝试.json","keywords":null,"cover":"https://s2.loli.net/2023/10/22/v3P5togYEMcSapw.jpg","text":"前言本人刚入门学习计算机视觉，完全看不懂理论算法，就想着先搭建一个环境去跑一个目标识别，这样能在大体上对该领域有个粗略的认知 正文简述Yolov5的检测原理 R...","permalink":"/post/YOLOv5初次尝试","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"AI","slug":"AI","count":1,"path":"api/categories/AI.json"}],"tags":[],"author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的一个二年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}}},"next_post":{"title":"颜色对应的代码","uid":"bd7f3e90fea1abdc8b58a7bfc4c3d088","slug":"颜色对应的代码","date":"2023-10-21T08:59:35.000Z","updated":"2023-11-03T01:20:07.643Z","comments":true,"path":"api/articles/颜色对应的代码.json","keywords":null,"cover":"https://s2.loli.net/2023/10/20/ap4CcJU8uZwsMPx.jpg","text":"颜色代码6位码可直接复制bash 红色 #FF0000 深紫色 #871F78 褐红色 #8E236B 石英色 #D9D9F3 绿色 #00FF00 深石板蓝 ...","permalink":"/post/颜色对应的代码","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"undefined","slug":"undefined","count":1,"path":"api/tags/undefined.json"}],"author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的一个二年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}}}}