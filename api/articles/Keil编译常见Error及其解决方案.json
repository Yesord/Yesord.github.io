{"title":"Keil编译常见Error及其解决方案","uid":"0efe1085ac0265965eb4a094f23bbe8f","slug":"Keil编译常见Error及其解决方案","date":"2023-10-20T14:28:16.000Z","updated":"2023-10-21T02:43:18.067Z","comments":true,"path":"api/articles/Keil编译常见Error及其解决方案.json","keywords":null,"cover":"https://s2.loli.net/2023/10/20/P4KFQLExO8clzCr.jpg","content":"<h1 id=\"Keil编译常见Error及其解决方案\"><a href=\"#Keil编译常见Error及其解决方案\" class=\"headerlink\" title=\"Keil编译常见Error及其解决方案\"></a>Keil编译常见Error及其解决方案</h1><p>这里总结了本人使用Keil所遇到过的所有编译报错，并附上解决方案可供参考。</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"Error-L6218E-Undefined-symbol-aeabi-assert-referred-from-xxx-o\"><a href=\"#Error-L6218E-Undefined-symbol-aeabi-assert-referred-from-xxx-o\" class=\"headerlink\" title=\"Error: L6218E: Undefined symbol __aeabi_assert (referred from xxx.o).\"></a>Error: L6218E: Undefined symbol __aeabi_assert (referred from xxx.o).</h5><h6 id=\"原因：引用-include-断言功能缺失\"><a href=\"#原因：引用-include-断言功能缺失\" class=\"headerlink\" title=\"原因：引用 #include &lt;assert.h&gt; 断言功能缺失\"></a>原因：引用 #include &lt;assert.h&gt; 断言功能缺失</h6><h6 id=\"方案一\"><a href=\"#方案一\" class=\"headerlink\" title=\"方案一\"></a>方案一</h6><p>未定义的符号__aeabi_assert,原因是keil没有添加依赖项，请在 <strong>Manage Run-time Evironment</strong> 中添加即可。<br><strong>Compiler–&gt; I&#x2F;O –&gt; STDERR</strong></p>\n<h6 id=\"方案二\"><a href=\"#方案二\" class=\"headerlink\" title=\"方案二\"></a>方案二</h6><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">__attribute__((weak,noreturn</span><span style=\"color: #BABED8\">))</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">__aeabi_assert</span><span style=\"color: #BABED8\"> (const </span><span style=\"color: #C3E88D\">char</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8\">*</span><span style=\"color: #C3E88D\">expr,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">const</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">char</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8\">*</span><span style=\"color: #C3E88D\">file,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">line</span><span style=\"color: #BABED8\">) </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #FFCB6B\">char</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">str[</span><span style=\"color: #F78C6C\">12</span><span style=\"color: #C3E88D\">],</span><span style=\"color: #BABED8\"> </span><span style=\"color: #BABED8\">*</span><span style=\"color: #C3E88D\">p</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #FFCB6B\">fputs(</span><span style=\"color: #FFCB6B\">&quot;*** assertion failed: &quot;</span><span style=\"color: #FFCB6B\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">stderr</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #FFCB6B\">fputs(expr,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">stderr</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #FFCB6B\">fputs(</span><span style=\"color: #FFCB6B\">&quot;, file &quot;</span><span style=\"color: #FFCB6B\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">stderr</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #FFCB6B\">fputs(file,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">stderr</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #FFCB6B\">fputs(</span><span style=\"color: #FFCB6B\">&quot;, line &quot;</span><span style=\"color: #FFCB6B\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">stderr</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #FFCB6B\">p</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">str</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">+</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">sizeof</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FFCB6B\">str</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #FFCB6B\">*--p</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">\\0</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #FFCB6B\">*--p</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">\\n</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF; font-style: italic\">while</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FFCB6B\">line</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">*--p</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">0</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">+</span><span style=\"color: #BABED8\"> (line </span><span style=\"color: #C3E88D\">%</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">10</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">line</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">10</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #FFCB6B\">fputs(p,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">stderr</span><span style=\"color: #BABED8\">)</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #82AAFF\">abort</span><span style=\"color: #89DDFF\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">__attribute__((weak</span><span style=\"color: #BABED8\">))</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">void</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">abort</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #FFCB6B\">void</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF; font-style: italic\">for</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">(;;);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">&#125;</span></span>\n<span class=\"line\"></span></code></pre></div><p>在使用Arm MicroLIB C库时，实现一个自定义的__aeabi_assert()函数。使用上面的代码作为模板。</p>\n<p>禁用assert(): On Project -&gt; Options For Target -&gt; On C&#x2F; c++选项卡，用于定义类型“NDEBUG”。-这会导致对assert()函数的调用不起作用。</p>\n<p>禁用MicroLIB:在Target对话框右上方的Project -&gt; Options For Target -&gt;下，取消选中Use MicroLIB以禁用Arm MicroLIB C库。</p>\n<p>修改完成后，重新构建项目使其生效。<br>————————————————<br>可参考链接：<a href=\"https://blog.csdn.net/qq_29246181/article/details/128777718\">https://blog.csdn.net/qq_29246181/article/details/128777718</a></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"Error-L6218E-Undefined-symbol-xxx-referred-from-xxx-o\"><a href=\"#Error-L6218E-Undefined-symbol-xxx-referred-from-xxx-o\" class=\"headerlink\" title=\"Error: L6218E: Undefined symbol xxx (referred from xxx.o)\"></a>Error: L6218E: Undefined symbol xxx (referred from xxx.o)</h5><h6 id=\"原因：函数未定义\"><a href=\"#原因：函数未定义\" class=\"headerlink\" title=\"原因：函数未定义\"></a>原因：函数未定义</h6><h6 id=\"解决方案：确定该函数的调用在什么地方出现问题\"><a href=\"#解决方案：确定该函数的调用在什么地方出现问题\" class=\"headerlink\" title=\"解决方案：确定该函数的调用在什么地方出现问题\"></a>解决方案：确定该函数的调用在什么地方出现问题</h6><p>1.检查头文件路径<br>2.探查函数是否有定义 <strong>ctrl+F</strong></p>\n","feature":true,"text":"Keil编译常见Error及其解决方案这里总结了本人使用Keil所遇到过的所有编译报错，并附上解决方案可供参考。 Error: L6218E: Undefine...","permalink":"/post/Keil编译常见Error及其解决方案","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"Embedded","slug":"Embedded","count":4,"path":"api/categories/Embedded.json"}],"tags":[{"name":"IDE","slug":"IDE","count":1,"path":"api/tags/IDE.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Keil%E7%BC%96%E8%AF%91%E5%B8%B8%E8%A7%81Error%E5%8F%8A%E5%85%B6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\"><span class=\"toc-text\">Keil编译常见Error及其解决方案</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\"></span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#Error-L6218E-Undefined-symbol-aeabi-assert-referred-from-xxx-o\"><span class=\"toc-text\">Error: L6218E: Undefined symbol __aeabi_assert (referred from xxx.o).</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-6\"><a class=\"toc-link\" href=\"#%E5%8E%9F%E5%9B%A0%EF%BC%9A%E5%BC%95%E7%94%A8-include-%E6%96%AD%E8%A8%80%E5%8A%9F%E8%83%BD%E7%BC%BA%E5%A4%B1\"><span class=\"toc-text\">原因：引用 #include &lt;assert.h&gt; 断言功能缺失</span></a></li><li class=\"toc-item toc-level-6\"><a class=\"toc-link\" href=\"#%E6%96%B9%E6%A1%88%E4%B8%80\"><span class=\"toc-text\">方案一</span></a></li><li class=\"toc-item toc-level-6\"><a class=\"toc-link\" href=\"#%E6%96%B9%E6%A1%88%E4%BA%8C\"><span class=\"toc-text\">方案二</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#-1\"><span class=\"toc-text\"></span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#Error-L6218E-Undefined-symbol-xxx-referred-from-xxx-o\"><span class=\"toc-text\">Error: L6218E: Undefined symbol xxx (referred from xxx.o)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-6\"><a class=\"toc-link\" href=\"#%E5%8E%9F%E5%9B%A0%EF%BC%9A%E5%87%BD%E6%95%B0%E6%9C%AA%E5%AE%9A%E4%B9%89\"><span class=\"toc-text\">原因：函数未定义</span></a></li><li class=\"toc-item toc-level-6\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9A%E7%A1%AE%E5%AE%9A%E8%AF%A5%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E5%9C%A8%E4%BB%80%E4%B9%88%E5%9C%B0%E6%96%B9%E5%87%BA%E7%8E%B0%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">解决方案：确定该函数的调用在什么地方出现问题</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li></ol>","author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的一个二年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"颜色对应的代码","uid":"bd7f3e90fea1abdc8b58a7bfc4c3d088","slug":"颜色对应的代码","date":"2023-10-21T08:59:35.000Z","updated":"2023-10-21T09:38:13.091Z","comments":true,"path":"api/articles/颜色对应的代码.json","keywords":null,"cover":"https://s2.loli.net/2023/10/20/ap4CcJU8uZwsMPx.jpg","text":"颜色代码6位码可直接复制bash 红色 #FF0000 深紫色 #871F78 褐红色 #8E236B 石英色 #D9D9F3 绿色 #00FF00 深石板蓝 ...","permalink":"/post/颜色对应的代码","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"undefined","slug":"undefined","count":1,"path":"api/tags/undefined.json"}],"author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的一个二年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"STM32F103RCT6扩展板设计","uid":"773c209899ecce00873dc4bef3ff4375","slug":"STM32F103RCT6扩展板设计","date":"2023-10-20T13:50:03.000Z","updated":"2023-10-20T14:45:31.733Z","comments":true,"path":"api/articles/STM32F103RCT6扩展板设计.json","keywords":null,"cover":"https://s2.loli.net/2023/10/20/NiqwxTIlbRLvh1H.jpg","text":"STM32F103RCT6扩展板电路设计这里主要提供设计思路，未包括STM32的供电电路、晶振时钟电路、复位电路(默认构成了最小系统)。 ","permalink":"/post/STM32F103RCT6扩展板设计","photos":[],"count_time":{"symbolsCount":69,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"STM32","slug":"STM32","count":2,"path":"api/tags/STM32.json"},{"name":"Electronic","slug":"Electronic","count":1,"path":"api/tags/Electronic.json"}],"author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的一个二年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}}}}