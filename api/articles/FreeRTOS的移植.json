{"title":"FreeRTOS的移植","uid":"92468dc8f04e07f9e105708cbbdde9c2","slug":"FreeRTOS的移植","date":"2023-10-17T09:33:25.000Z","updated":"2023-10-17T13:30:48.465Z","comments":true,"path":"api/articles/FreeRTOS的移植.json","keywords":null,"cover":"https://s2.loli.net/2023/10/17/z1tR6edCXjnb2wL.png","content":"<h1 id=\"FreeRTOS的移植\"><a href=\"#FreeRTOS的移植\" class=\"headerlink\" title=\"FreeRTOS的移植\"></a>FreeRTOS的移植</h1><h2 id=\"介绍下FreeRTOS源码内容\"><a href=\"#介绍下FreeRTOS源码内容\" class=\"headerlink\" title=\"介绍下FreeRTOS源码内容\"></a>介绍下FreeRTOS源码内容</h2><table>\n<thead>\n<tr>\n<th align=\"center\">名称</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">FreeRTOS</td>\n<td align=\"center\">FreeRTOS内核</td>\n</tr>\n<tr>\n<td align=\"center\">FreeRTOS-Plus</td>\n<td align=\"center\">FreeRTOS组件</td>\n</tr>\n<tr>\n<td align=\"center\">tools</td>\n<td align=\"center\">工具</td>\n</tr>\n<tr>\n<td align=\"center\">GitHub-FreeRTOS-Home</td>\n<td align=\"center\">FreeRTOS的GitHub仓库链接</td>\n</tr>\n<tr>\n<td align=\"center\">Quick_Start_Guide</td>\n<td align=\"center\">快速入门指南官方文档链接</td>\n</tr>\n<tr>\n<td align=\"center\">Upgrading-to-FreeRTOS-xxx</td>\n<td align=\"center\">升级到指定FreeRTOS版本官方文档链接</td>\n</tr>\n<tr>\n<td align=\"center\">History.txt</td>\n<td align=\"center\">FreeRTOS历史更新记录</td>\n</tr>\n<tr>\n<td align=\"center\">其他</td>\n<td align=\"center\">其他</td>\n</tr>\n</tbody></table>\n<h2 id=\"FreeRTOS内核\"><a href=\"#FreeRTOS内核\" class=\"headerlink\" title=\"FreeRTOS内核\"></a>FreeRTOS内核</h2><table>\n<thead>\n<tr>\n<th align=\"center\">名称</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">Demo</td>\n<td align=\"center\">FreeRTOS演示例程</td>\n</tr>\n<tr>\n<td align=\"center\">License</td>\n<td align=\"center\">FreeRTOS相关许可</td>\n</tr>\n<tr>\n<td align=\"center\">Source</td>\n<td align=\"center\">FreeRTOS源码（主要拷贝）</td>\n</tr>\n<tr>\n<td align=\"center\">Test</td>\n<td align=\"center\">公用以及移植层测试代码</td>\n</tr>\n</tbody></table>\n<h1 id=\"Source文件夹\"><a href=\"#Source文件夹\" class=\"headerlink\" title=\"Source文件夹\"></a>Source文件夹</h1><p>freeRTOS源码</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">名称</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">include</td>\n<td align=\"center\">内包含了FreeRTOS的头文件</td>\n</tr>\n<tr>\n<td align=\"center\">portable</td>\n<td align=\"center\">内包含了FreeRTOS的移植文件</td>\n</tr>\n<tr>\n<td align=\"center\">croutine.c</td>\n<td align=\"center\">协程相关文件</td>\n</tr>\n<tr>\n<td align=\"center\">event_groups.c</td>\n<td align=\"center\">事件相关文件</td>\n</tr>\n<tr>\n<td align=\"center\">list.c</td>\n<td align=\"center\">列表相关文件（状态相关，必要）</td>\n</tr>\n<tr>\n<td align=\"center\">queue.c</td>\n<td align=\"center\">队列相关文件（状态相关，必要）</td>\n</tr>\n<tr>\n<td align=\"center\">stream_buffer.c</td>\n<td align=\"center\">流式缓冲区相关文件</td>\n</tr>\n<tr>\n<td align=\"center\">tasks.c</td>\n<td align=\"center\">任务相关文件（必要）</td>\n</tr>\n<tr>\n<td align=\"center\">timers.c</td>\n<td align=\"center\">软件定时器相关文件</td>\n</tr>\n</tbody></table>\n<h1 id=\"portable文件夹\"><a href=\"#portable文件夹\" class=\"headerlink\" title=\"portable文件夹\"></a>portable文件夹</h1><p>freeRTOS与硬件交互的桥梁</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">名称</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">Keil</td>\n<td align=\"center\">指向RVDS文件夹</td>\n</tr>\n<tr>\n<td align=\"center\">RVDS</td>\n<td align=\"center\">不同内核芯片的移植文件</td>\n</tr>\n<tr>\n<td align=\"center\">MemMang</td>\n<td align=\"center\">内存管理文件（5种算法）</td>\n</tr>\n</tbody></table>\n<p>其他的文件用不着可以删掉</p>\n<h2 id=\"FreeRTOS移植步骤\"><a href=\"#FreeRTOS移植步骤\" class=\"headerlink\" title=\"FreeRTOS移植步骤\"></a>FreeRTOS移植步骤</h2><h3 id=\"以STM32F103C8T6为例\"><a href=\"#以STM32F103C8T6为例\" class=\"headerlink\" title=\"以STM32F103C8T6为例\"></a>以STM32F103C8T6为例</h3><p>1．添加FreeRTOS源码<br>添加入工程<br>2．添加FreeRTOSConfig.h<br>作用：对FreeRTOS进行配置和裁剪，以及API函数的使能<br>操作系统配置文件:获取途径</p>\n<p>{<br>    a.自己手写FreeRTOS官网有详细说明（<a href=\"https://www.freertos.org/a00110.html%EF%BC%89\">https://www.freertos.org/a00110.html）</a><br>    b.Demo例程或许有官方支持<br>}</p>\n<p>3．修改系统相关配置<br>Systick 系统滴答时钟需要与FreeRTOSConfig.h里的configTICK_RATE_HZ对应<br>滴答时钟中断需要加上任务切换</p>\n<p>4．修改中断相关配置<br>Systick中断（自己配置）、SVC中断、PendSV中断（这俩在freeRTOS中有定义）<br>因而在stm32f1xx_it.c中需要将相关中断定义注释掉</p>\n<p>5．添加应用程序</p>\n<h2 id=\"FreeRTOS移植可能出现的问题\"><a href=\"#FreeRTOS移植可能出现的问题\" class=\"headerlink\" title=\"FreeRTOS移植可能出现的问题\"></a>FreeRTOS移植可能出现的问题</h2><ol>\n<li>在学习FreeRTOS移植后，编译出现<br>…\\OBJ\\LED.axf: Error: L6218E: Undefined symbol xTaskGetSchedulerState (referred from delay.o).</li>\n</ol>\n<p>出现这个错误的原因是xTaskGetSchedulerState的值没有改，需要在FreeRTOS.h中将其宏定义的值改为1即可。</p>\n<h3 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h3><p>配图还待更新，小编比较懒，不定时更新 ^.^</p>\n","feature":true,"text":"FreeRTOS的移植介绍下FreeRTOS源码内容 名称 描述 FreeRTOS FreeRTOS内核 FreeRTOS-Plus FreeRTOS组件 to...","permalink":"/post/FreeRTOS的移植","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"RTOS","slug":"RTOS","count":1,"path":"api/tags/RTOS.json"},{"name":"STM32","slug":"STM32","count":1,"path":"api/tags/STM32.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#FreeRTOS%E7%9A%84%E7%A7%BB%E6%A4%8D\"><span class=\"toc-text\">FreeRTOS的移植</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%8B%E7%BB%8D%E4%B8%8BFreeRTOS%E6%BA%90%E7%A0%81%E5%86%85%E5%AE%B9\"><span class=\"toc-text\">介绍下FreeRTOS源码内容</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#FreeRTOS%E5%86%85%E6%A0%B8\"><span class=\"toc-text\">FreeRTOS内核</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Source%E6%96%87%E4%BB%B6%E5%A4%B9\"><span class=\"toc-text\">Source文件夹</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#portable%E6%96%87%E4%BB%B6%E5%A4%B9\"><span class=\"toc-text\">portable文件夹</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#FreeRTOS%E7%A7%BB%E6%A4%8D%E6%AD%A5%E9%AA%A4\"><span class=\"toc-text\">FreeRTOS移植步骤</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%A5STM32F103C8T6%E4%B8%BA%E4%BE%8B\"><span class=\"toc-text\">以STM32F103C8T6为例</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#FreeRTOS%E7%A7%BB%E6%A4%8D%E5%8F%AF%E8%83%BD%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">FreeRTOS移植可能出现的问题</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%90%8E%E8%AE%B0\"><span class=\"toc-text\">后记</span></a></li></ol></li></ol></li></ol>","author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的一个二年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Cmake基础语法","uid":"7306721a27e9ec7e2372287f94d883c8","slug":"Cmake基础语法","date":"2023-10-17T11:57:43.000Z","updated":"2023-10-17T13:04:03.919Z","comments":true,"path":"api/articles/Cmake基础语法.json","keywords":null,"cover":"https://s2.loli.net/2023/10/17/qyrOkvghSL72nxM.png","text":"Cmake基础语法bash# 设置cmake最低版本 cmake_minimum_required(VERSION 3.2) # project命令用于指定cm...","permalink":"/post/Cmake基础语法","photos":[],"count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"Linux","slug":"Linux","count":1,"path":"api/tags/Linux.json"},{"name":"Cmake","slug":"Cmake","count":1,"path":"api/tags/Cmake.json"}],"author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的一个二年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"markdown-example","uid":"5fb0b2232f7b008486299018a9a2ee11","slug":"markdown-example","date":"2023-10-17T09:01:15.000Z","updated":"2023-10-17T12:57:41.690Z","comments":true,"path":"api/articles/markdown-example.json","keywords":null,"cover":"https://s2.loli.net/2023/10/17/yiOnw8gu2q7Hjlc.png","text":"@TOC 欢迎使用Markdown编辑器你好！ 这是你第一次使用 Markdown编辑器 所展示的欢迎页。如果你想学习如何使用Markdown编辑器, 可以仔细...","permalink":"/post/markdown-example","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"blog","slug":"blog","count":2,"path":"api/tags/blog.json"}],"author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的一个二年级学牲。","socials":{"github":"https://github.com/Yesord","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}}}}