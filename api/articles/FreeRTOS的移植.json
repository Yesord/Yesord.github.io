{"title":"FreeRTOS的移植","uid":"92468dc8f04e07f9e105708cbbdde9c2","slug":"FreeRTOS的移植","date":"2023-10-17T09:33:25.000Z","updated":"2023-10-17T10:20:57.418Z","comments":true,"path":"api/articles/FreeRTOS的移植.json","keywords":null,"cover":null,"content":"<h1 id=\"FreeRTOS的移植\"><a href=\"#FreeRTOS的移植\" class=\"headerlink\" title=\"FreeRTOS的移植\"></a>FreeRTOS的移植</h1><h2 id=\"介绍下FreeRTOS源码内容\"><a href=\"#介绍下FreeRTOS源码内容\" class=\"headerlink\" title=\"介绍下FreeRTOS源码内容\"></a>介绍下FreeRTOS源码内容</h2><table>\n<thead>\n<tr>\n<th align=\"center\">名称</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">FreeRTOS</td>\n<td align=\"center\">FreeRTOS内核</td>\n</tr>\n<tr>\n<td align=\"center\">FreeRTOS-Plus</td>\n<td align=\"center\">FreeRTOS组件</td>\n</tr>\n<tr>\n<td align=\"center\">tools</td>\n<td align=\"center\">工具</td>\n</tr>\n<tr>\n<td align=\"center\">GitHub-FreeRTOS-Home</td>\n<td align=\"center\">FreeRTOS的GitHub仓库链接</td>\n</tr>\n<tr>\n<td align=\"center\">Quick_Start_Guide</td>\n<td align=\"center\">快速入门指南官方文档链接</td>\n</tr>\n<tr>\n<td align=\"center\">Upgrading-to-FreeRTOS-xxx</td>\n<td align=\"center\">升级到指定FreeRTOS版本官方文档链接</td>\n</tr>\n<tr>\n<td align=\"center\">History.txt</td>\n<td align=\"center\">FreeRTOS历史更新记录</td>\n</tr>\n<tr>\n<td align=\"center\">其他</td>\n<td align=\"center\">其他</td>\n</tr>\n</tbody></table>\n<h2 id=\"FreeRTOS内核\"><a href=\"#FreeRTOS内核\" class=\"headerlink\" title=\"FreeRTOS内核\"></a>FreeRTOS内核</h2><p>|名称\t|描述|<br>|Demo\t|FreeRTOS演示例程|<br>|License\t|FreeRTOS相关许可|<br>|Source\t|FreeRTOS源码（主要拷贝）|<br>|Test\t|公用以及移植层测试代码|</p>\n<h1 id=\"Source文件夹\"><a href=\"#Source文件夹\" class=\"headerlink\" title=\"Source文件夹\"></a>Source文件夹</h1><p>freeRTOS源码</p>\n<p>|名称\t|描述|<br>|include|\t内包含了FreeRTOS的头文件|<br>|portable|\t内包含了FreeRTOS的移植文件|<br>|croutine.c|\t协程相关文件|<br>|event_groups.c|\t事件相关文件|<br>|list.c|\t列表相关文件（状态相关，必要）|<br>|queue.c|\t队列相关文件（状态相关，必要）|<br>|stream_buffer.c|\t流式缓冲区相关文件|<br>|tasks.c|\t任务相关文件（必要）|<br>|timers.c|\t软件定时器相关文件|</p>\n<h1 id=\"portable文件夹\"><a href=\"#portable文件夹\" class=\"headerlink\" title=\"portable文件夹\"></a>portable文件夹</h1><p>freeRTOS与硬件交互的桥梁</p>\n<p>|名称|\t描述|<br>|Keil|\t指向RVDS文件夹|<br>|RVDS|\t不同内核芯片的移植文件|<br>|MemMang|\t内存管理文件（5种算法）|</p>\n<p>其他的文件用不着可以删掉</p>\n<h2 id=\"FreeRTOS移植步骤\"><a href=\"#FreeRTOS移植步骤\" class=\"headerlink\" title=\"FreeRTOS移植步骤\"></a>FreeRTOS移植步骤</h2><h3 id=\"以STM32F103C8T6为例\"><a href=\"#以STM32F103C8T6为例\" class=\"headerlink\" title=\"以STM32F103C8T6为例\"></a>以STM32F103C8T6为例</h3><p>1．添加FreeRTOS源码<br>添加入工程<br>2．添加FreeRTOSConfig.h<br>作用：对FreeRTOS进行配置和裁剪，以及API函数的使能<br>操作系统配置文件:获取途径</p>\n<p>{<br>1.自己手写（<a href=\"https://www.freertos.org/a00110.html%E6%9C%89%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E%EF%BC%89\">https://www.freertos.org/a00110.html有详细说明）</a><br>2.Demo例程或许有官方支持<br>}</p>\n<p>3．修改系统相关配置<br>Systick 系统滴答时钟需要与FreeRTOSConfig.h里的configTICK_RATE_HZ对应<br>滴答时钟中断需要加上任务切换</p>\n<p>4．修改中断相关配置<br>Systick中断（自己配置）、SVC中断、PendSV中断（这俩在freeRTOS中有定义）<br>因而在stm32f1xx_it.c中需要将相关中断定义注释掉</p>\n<p>5．添加应用程序</p>\n<p>FreeRTOS移植可能出现的问题<br>1.<br>在学习FreeRTOS移植后，编译出现<br>…\\OBJ\\LED.axf: Error: L6218E: Undefined symbol xTaskGetSchedulerState (referred from delay.o).</p>\n<p>出现这个错误的原因是xTaskGetSchedulerState的值没有改，需要在FreeRTOS.h中将其宏定义的值改为1即可。</p>\n","feature":true,"text":"FreeRTOS的移植介绍下FreeRTOS源码内容 名称 描述 FreeRTOS FreeRTOS内核 FreeRTOS-Plus FreeRTOS组件 to...","permalink":"/post/FreeRTOS的移植","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"RTOS,STM32","slug":"RTOS-STM32","count":1,"path":"api/tags/RTOS-STM32.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#FreeRTOS%E7%9A%84%E7%A7%BB%E6%A4%8D\"><span class=\"toc-text\">FreeRTOS的移植</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%8B%E7%BB%8D%E4%B8%8BFreeRTOS%E6%BA%90%E7%A0%81%E5%86%85%E5%AE%B9\"><span class=\"toc-text\">介绍下FreeRTOS源码内容</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#FreeRTOS%E5%86%85%E6%A0%B8\"><span class=\"toc-text\">FreeRTOS内核</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Source%E6%96%87%E4%BB%B6%E5%A4%B9\"><span class=\"toc-text\">Source文件夹</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#portable%E6%96%87%E4%BB%B6%E5%A4%B9\"><span class=\"toc-text\">portable文件夹</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#FreeRTOS%E7%A7%BB%E6%A4%8D%E6%AD%A5%E9%AA%A4\"><span class=\"toc-text\">FreeRTOS移植步骤</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%A5STM32F103C8T6%E4%B8%BA%E4%BE%8B\"><span class=\"toc-text\">以STM32F103C8T6为例</span></a></li></ol></li></ol></li></ol>","author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的二年级学牲。","socials":{"github":"https://github.com/XuRuoLun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"markdown-example","uid":"5fb0b2232f7b008486299018a9a2ee11","slug":"markdown-example","date":"2023-10-17T09:01:15.000Z","updated":"2023-10-17T09:18:30.342Z","comments":true,"path":"api/articles/markdown-example.json","keywords":null,"cover":[],"text":"@TOC 欢迎使用Markdown编辑器你好！ 这是你第一次使用 Markdown编辑器 所展示的欢迎页。如果你想学习如何使用Markdown编辑器, 可以仔细...","permalink":"/post/markdown-example","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"blog","slug":"blog","count":2,"path":"api/tags/blog.json"}],"author":{"name":"PIKO","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/17/4GK2m3UkXztog9D.jpg","link":"/","description":"猫军阀军校的二年级学牲。","socials":{"github":"https://github.com/XuRuoLun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/aoliba_believer","juejin":"","customs":{}}},"feature":true}}