{"title":"","type":"page","uid":"1cd19fc71517798e2fa5b7457d1fb06e","text":"import fa_comment from \"@fortawesome/fontawesome-free/svgs/solid/comment.svg\"; import fa_paper_plane from \"@fortawesome/fontawesome-free/svg...","date":"2024-11-03T04:51:55.747Z","updated":"2024-11-03T04:51:55.747Z","comments":true,"path":"api/pages/live2d-widget/src/tools.js","covers":null,"excerpt":"","content":"import fa_comment from \"@fortawesome/fontawesome-free/svgs/solid/comment.svg\";\nimport fa_paper_plane from \"@fortawesome/fontawesome-free/svgs/solid/paper-plane.svg\";\nimport fa_user_circle from \"@fortawesome/fontawesome-free/svgs/solid/circle-user.svg\";\nimport fa_street_view from \"@fortawesome/fontawesome-free/svgs/solid/street-view.svg\";\nimport fa_camera_retro from \"@fortawesome/fontawesome-free/svgs/solid/camera-retro.svg\";\nimport fa_info_circle from \"@fortawesome/fontawesome-free/svgs/solid/circle-info.svg\";\nimport fa_xmark from \"@fortawesome/fontawesome-free/svgs/solid/xmark.svg\";\n\nimport showMessage from \"./message.js\";\n\nfunction showHitokoto() {\n    // 增加 hitokoto.cn 的 API\n    fetch(\"https://v1.hitokoto.cn\")\n        .then(response => response.json())\n        .then(result => {\n            const text = `这句一言来自 <span>「${result.from}」</span>，是 <span>${result.creator}</span> 在 hitokoto.cn 投稿的。`;\n            showMessage(result.hitokoto, 6000, 9);\n            setTimeout(() => {\n                showMessage(text, 4000, 9);\n            }, 6000);\n        });\n}\n\nconst tools = {\n    \"hitokoto\": {\n        icon: fa_comment,\n        callback: showHitokoto\n    },\n    \"asteroids\": {\n        icon: fa_paper_plane,\n        callback: () => {\n            if (window.Asteroids) {\n                if (!window.ASTEROIDSPLAYERS) window.ASTEROIDSPLAYERS = [];\n                window.ASTEROIDSPLAYERS.push(new Asteroids());\n            } else {\n                const script = document.createElement(\"script\");\n                script.src = \"https://fastly.jsdelivr.net/gh/stevenjoezhang/asteroids/asteroids.js\";\n                document.head.appendChild(script);\n            }\n        }\n    },\n    \"switch-model\": {\n        icon: fa_user_circle,\n        callback: () => {}\n    },\n    \"switch-texture\": {\n        icon: fa_street_view,\n        callback: () => {}\n    },\n    \"photo\": {\n        icon: fa_camera_retro,\n        callback: () => {\n            showMessage(\"照好了嘛，是不是很可爱呢？\", 6000, 9);\n            Live2D.captureName = \"photo.png\";\n            Live2D.captureFrame = true;\n        }\n    },\n    \"info\": {\n        icon: fa_info_circle,\n        callback: () => {\n            open(\"https://github.com/stevenjoezhang/live2d-widget\");\n        }\n    },\n    \"quit\": {\n        icon: fa_xmark,\n        callback: () => {\n            localStorage.setItem(\"waifu-display\", Date.now());\n            showMessage(\"愿你有一天能与重要的人重逢。\", 2000, 11);\n            document.getElementById(\"waifu\").style.bottom = \"-500px\";\n            setTimeout(() => {\n                document.getElementById(\"waifu\").style.display = \"none\";\n                document.getElementById(\"waifu-toggle\").classList.add(\"waifu-toggle-active\");\n            }, 3000);\n        }\n    }\n};\n\nexport default tools;\n","count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"toc":"","data":[]}