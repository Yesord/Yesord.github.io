{"title":"","type":"page","uid":"1cd19fc71517798e2fa5b7457d1fb06e","text":"import randomSelection from \"./utils.js\"; let messageTimer; function showMessage(text, timeout, priority) { if (!text || (sessionStorage.get...","date":"2024-11-03T04:51:55.746Z","updated":"2024-11-03T04:51:55.746Z","comments":true,"path":"api/pages/live2d-widget/src/message.js","covers":null,"excerpt":"","content":"import randomSelection from \"./utils.js\";\n\nlet messageTimer;\n\nfunction showMessage(text, timeout, priority) {\n    if (!text || (sessionStorage.getItem(\"waifu-text\") && sessionStorage.getItem(\"waifu-text\") > priority)) return;\n    if (messageTimer) {\n        clearTimeout(messageTimer);\n        messageTimer = null;\n    }\n    text = randomSelection(text);\n    sessionStorage.setItem(\"waifu-text\", priority);\n    const tips = document.getElementById(\"waifu-tips\");\n    tips.innerHTML = text;\n    tips.classList.add(\"waifu-tips-active\");\n    messageTimer = setTimeout(() => {\n        sessionStorage.removeItem(\"waifu-text\");\n        tips.classList.remove(\"waifu-tips-active\");\n    }, timeout);\n}\n\nexport default showMessage;\n","count_time":{"symbolsCount":722,"symbolsTime":"1 mins."},"toc":"","data":[]}